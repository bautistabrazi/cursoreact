function WT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Gs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cy={exports:{}},cu={},hy={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=Symbol.for("react.element"),HT=Symbol.for("react.portal"),qT=Symbol.for("react.fragment"),KT=Symbol.for("react.strict_mode"),GT=Symbol.for("react.profiler"),QT=Symbol.for("react.provider"),XT=Symbol.for("react.context"),YT=Symbol.for("react.forward_ref"),JT=Symbol.for("react.suspense"),ZT=Symbol.for("react.memo"),eI=Symbol.for("react.lazy"),pm=Symbol.iterator;function tI(t){return t===null||typeof t!="object"?null:(t=pm&&t[pm]||t["@@iterator"],typeof t=="function"?t:null)}var fy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dy=Object.assign,py={};function ro(t,e,n){this.props=t,this.context=e,this.refs=py,this.updater=n||fy}ro.prototype.isReactComponent={};ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function my(){}my.prototype=ro.prototype;function Uf(t,e,n){this.props=t,this.context=e,this.refs=py,this.updater=n||fy}var zf=Uf.prototype=new my;zf.constructor=Uf;dy(zf,ro.prototype);zf.isPureReactComponent=!0;var mm=Array.isArray,gy=Object.prototype.hasOwnProperty,Wf={current:null},vy={key:!0,ref:!0,__self:!0,__source:!0};function yy(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)gy.call(e,r)&&!vy.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qs,type:t,key:o,ref:s,props:i,_owner:Wf.current}}function nI(t,e){return{$$typeof:Qs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qs}function rI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gm=/\/+/g;function lc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rI(""+t.key):e.toString(36)}function Ja(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Qs:case HT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+lc(s,0):r,mm(i)?(n="",t!=null&&(n=t.replace(gm,"$&/")+"/"),Ja(i,e,n,"",function(u){return u})):i!=null&&(Hf(i)&&(i=nI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(gm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",mm(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+lc(o,a);s+=Ja(o,e,n,l,i)}else if(l=tI(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+lc(o,a++),s+=Ja(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ia(t,e,n){if(t==null)return t;var r=[],i=0;return Ja(t,r,"","",function(o){return e.call(n,o,i++)}),r}function iI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ht={current:null},Za={transition:null},oI={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Za,ReactCurrentOwner:Wf};G.Children={map:Ia,forEach:function(t,e,n){Ia(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ia(t,function(){e++}),e},toArray:function(t){return Ia(t,function(e){return e})||[]},only:function(t){if(!Hf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=ro;G.Fragment=qT;G.Profiler=GT;G.PureComponent=Uf;G.StrictMode=KT;G.Suspense=JT;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oI;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dy({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Wf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gy.call(e,l)&&!vy.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Qs,type:t.type,key:i,ref:o,props:r,_owner:s}};G.createContext=function(t){return t={$$typeof:XT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QT,_context:t},t.Consumer=t};G.createElement=yy;G.createFactory=function(t){var e=yy.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:YT,render:t}};G.isValidElement=Hf;G.lazy=function(t){return{$$typeof:eI,_payload:{_status:-1,_result:t},_init:iI}};G.memo=function(t,e){return{$$typeof:ZT,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Za.transition;Za.transition={};try{t()}finally{Za.transition=e}};G.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};G.useCallback=function(t,e){return ht.current.useCallback(t,e)};G.useContext=function(t){return ht.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return ht.current.useDeferredValue(t)};G.useEffect=function(t,e){return ht.current.useEffect(t,e)};G.useId=function(){return ht.current.useId()};G.useImperativeHandle=function(t,e,n){return ht.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return ht.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return ht.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return ht.current.useMemo(t,e)};G.useReducer=function(t,e,n){return ht.current.useReducer(t,e,n)};G.useRef=function(t){return ht.current.useRef(t)};G.useState=function(t){return ht.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return ht.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return ht.current.useTransition()};G.version="18.2.0";hy.exports=G;var m=hy.exports;const He=Gs(m),sI=WT({__proto__:null,default:He},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI=m,lI=Symbol.for("react.element"),uI=Symbol.for("react.fragment"),cI=Object.prototype.hasOwnProperty,hI=aI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fI={key:!0,ref:!0,__self:!0,__source:!0};function _y(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)cI.call(e,r)&&!fI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lI,type:t,key:o,ref:s,props:i,_owner:hI.current}}cu.Fragment=uI;cu.jsx=_y;cu.jsxs=_y;cy.exports=cu;var y=cy.exports,oh={},Ey={exports:{}},Rt={},wy={exports:{}},Ty={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,L){var $=k.length;k.push(L);e:for(;0<$;){var X=$-1>>>1,ne=k[X];if(0<i(ne,L))k[X]=L,k[$]=ne,$=X;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var L=k[0],$=k.pop();if($!==L){k[0]=$;e:for(var X=0,ne=k.length,Qe=ne>>>1;X<Qe;){var xe=2*(X+1)-1,se=k[xe],Oe=xe+1,Ft=k[Oe];if(0>i(se,$))Oe<ne&&0>i(Ft,se)?(k[X]=Ft,k[Oe]=$,X=Oe):(k[X]=se,k[xe]=$,X=xe);else if(Oe<ne&&0>i(Ft,$))k[X]=Ft,k[Oe]=$,X=Oe;else break e}}return L}function i(k,L){var $=k.sortIndex-L.sortIndex;return $!==0?$:k.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,f=3,p=!1,_=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=k)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function T(k){if(E=!1,v(k),!_)if(n(l)!==null)_=!0,te(I);else{var L=n(u);L!==null&&ue(T,L.startTime-k)}}function I(k,L){_=!1,E&&(E=!1,g(R),R=-1),p=!0;var $=f;try{for(v(L),h=n(l);h!==null&&(!(h.expirationTime>L)||k&&!j());){var X=h.callback;if(typeof X=="function"){h.callback=null,f=h.priorityLevel;var ne=X(h.expirationTime<=L);L=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(l)&&r(l),v(L)}else r(l);h=n(l)}if(h!==null)var Qe=!0;else{var xe=n(u);xe!==null&&ue(T,xe.startTime-L),Qe=!1}return Qe}finally{h=null,f=$,p=!1}}var C=!1,S=null,R=-1,b=5,D=-1;function j(){return!(t.unstable_now()-D<b)}function W(){if(S!==null){var k=t.unstable_now();D=k;var L=!0;try{L=S(!0,k)}finally{L?H():(C=!1,S=null)}}else C=!1}var H;if(typeof d=="function")H=function(){d(W)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Te=ae.port2;ae.port1.onmessage=W,H=function(){Te.postMessage(null)}}else H=function(){w(W,0)};function te(k){S=k,C||(C=!0,H())}function ue(k,L){R=w(function(){k(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,te(I))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var $=f;f=L;try{return k()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=f;f=k;try{return L()}finally{f=$}},t.unstable_scheduleCallback=function(k,L,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,k){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=$+ne,k={id:c++,callback:L,priorityLevel:k,startTime:$,expirationTime:ne,sortIndex:-1},$>X?(k.sortIndex=$,e(u,k),n(l)===null&&k===n(u)&&(E?(g(R),R=-1):E=!0,ue(T,$-X))):(k.sortIndex=ne,e(l,k),_||p||(_=!0,te(I))),k},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(k){var L=f;return function(){var $=f;f=L;try{return k.apply(this,arguments)}finally{f=$}}}})(Ty);wy.exports=Ty;var dI=wy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=m,Ct=dI;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cy=new Set,as={};function Kr(t,e){Mi(t,e),Mi(t+"Capture",e)}function Mi(t,e){for(as[t]=e,t=0;t<e.length;t++)Cy.add(e[t])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sh=Object.prototype.hasOwnProperty,pI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vm={},ym={};function mI(t){return sh.call(ym,t)?!0:sh.call(vm,t)?!1:pI.test(t)?ym[t]=!0:(vm[t]=!0,!1)}function gI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vI(t,e,n,r){if(e===null||typeof e>"u"||gI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var qf=/[\-:]([a-z])/g;function Kf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qf,Kf);Ge[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qf,Kf);Ge[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qf,Kf);Ge[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gf(t,e,n,r){var i=Ge.hasOwnProperty(e)?Ge[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vI(e,n,i,r)&&(n=null),r||i===null?mI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var On=Iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ca=Symbol.for("react.element"),hi=Symbol.for("react.portal"),fi=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),ah=Symbol.for("react.profiler"),Sy=Symbol.for("react.provider"),xy=Symbol.for("react.context"),Xf=Symbol.for("react.forward_ref"),lh=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),Yf=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),Ry=Symbol.for("react.offscreen"),_m=Symbol.iterator;function To(t){return t===null||typeof t!="object"?null:(t=_m&&t[_m]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,uc;function Vo(t){if(uc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uc=e&&e[1]||""}return`
`+uc+t}var cc=!1;function hc(t,e){if(!t||cc)return"";cc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{cc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vo(t):""}function yI(t){switch(t.tag){case 5:return Vo(t.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return t=hc(t.type,!1),t;case 11:return t=hc(t.type.render,!1),t;case 1:return t=hc(t.type,!0),t;default:return""}}function ch(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fi:return"Fragment";case hi:return"Portal";case ah:return"Profiler";case Qf:return"StrictMode";case lh:return"Suspense";case uh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xy:return(t.displayName||"Context")+".Consumer";case Sy:return(t._context.displayName||"Context")+".Provider";case Xf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yf:return e=t.displayName||null,e!==null?e:ch(t.type)||"Memo";case jn:e=t._payload,t=t._init;try{return ch(t(e))}catch{}}return null}function _I(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ch(e);case 8:return e===Qf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ay(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EI(t){var e=Ay(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sa(t){t._valueTracker||(t._valueTracker=EI(t))}function Py(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ay(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hh(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Em(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ky(t,e){e=e.checked,e!=null&&Gf(t,"checked",e,!1)}function fh(t,e){ky(t,e);var n=sr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dh(t,e.type,n):e.hasOwnProperty("defaultValue")&&dh(t,e.type,sr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dh(t,e,n){(e!=="number"||ml(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $o=Array.isArray;function Si(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ph(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if($o(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sr(n)}}function Ny(t,e){var n=sr(e.value),r=sr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Im(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xa,Oy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ls(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wI=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(t){wI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wo[e]=Wo[t]})});function Vy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wo.hasOwnProperty(t)&&Wo[t]?(""+e).trim():e+"px"}function $y(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var TI=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gh(t,e){if(e){if(TI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function vh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yh=null;function Jf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _h=null,xi=null,Ri=null;function Cm(t){if(t=Js(t)){if(typeof _h!="function")throw Error(A(280));var e=t.stateNode;e&&(e=mu(e),_h(t.stateNode,t.type,e))}}function My(t){xi?Ri?Ri.push(t):Ri=[t]:xi=t}function Ly(){if(xi){var t=xi,e=Ri;if(Ri=xi=null,Cm(t),e)for(t=0;t<e.length;t++)Cm(e[t])}}function jy(t,e){return t(e)}function Fy(){}var fc=!1;function by(t,e,n){if(fc)return t(e,n);fc=!0;try{return jy(t,e,n)}finally{fc=!1,(xi!==null||Ri!==null)&&(Fy(),Ly())}}function us(t,e){var n=t.stateNode;if(n===null)return null;var r=mu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Eh=!1;if(In)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){Eh=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Eh=!1}function II(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ho=!1,gl=null,vl=!1,wh=null,CI={onError:function(t){Ho=!0,gl=t}};function SI(t,e,n,r,i,o,s,a,l){Ho=!1,gl=null,II.apply(CI,arguments)}function xI(t,e,n,r,i,o,s,a,l){if(SI.apply(this,arguments),Ho){if(Ho){var u=gl;Ho=!1,gl=null}else throw Error(A(198));vl||(vl=!0,wh=u)}}function Gr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function By(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sm(t){if(Gr(t)!==t)throw Error(A(188))}function RI(t){var e=t.alternate;if(!e){if(e=Gr(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Sm(i),t;if(o===r)return Sm(i),e;o=o.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function Uy(t){return t=RI(t),t!==null?zy(t):null}function zy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zy(t);if(e!==null)return e;t=t.sibling}return null}var Wy=Ct.unstable_scheduleCallback,xm=Ct.unstable_cancelCallback,AI=Ct.unstable_shouldYield,PI=Ct.unstable_requestPaint,Se=Ct.unstable_now,kI=Ct.unstable_getCurrentPriorityLevel,Zf=Ct.unstable_ImmediatePriority,Hy=Ct.unstable_UserBlockingPriority,yl=Ct.unstable_NormalPriority,NI=Ct.unstable_LowPriority,qy=Ct.unstable_IdlePriority,hu=null,rn=null;function DI(t){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(hu,t,void 0,(t.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:$I,OI=Math.log,VI=Math.LN2;function $I(t){return t>>>=0,t===0?32:31-(OI(t)/VI|0)|0}var Ra=64,Aa=4194304;function Mo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _l(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Mo(a):(o&=s,o!==0&&(r=Mo(o)))}else s=n&~i,s!==0?r=Mo(s):o!==0&&(r=Mo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qt(e),i=1<<n,r|=t[n],e&=~i;return r}function MI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-qt(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=MI(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Th(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ky(){var t=Ra;return Ra<<=1,!(Ra&4194240)&&(Ra=64),t}function dc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qt(e),t[e]=n}function jI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ed(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var re=0;function Gy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qy,td,Xy,Yy,Jy,Ih=!1,Pa=[],Gn=null,Qn=null,Xn=null,cs=new Map,hs=new Map,Bn=[],FI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rm(t,e){switch(t){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":cs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(e.pointerId)}}function Co(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Js(e),e!==null&&td(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bI(t,e,n,r,i){switch(e){case"focusin":return Gn=Co(Gn,t,e,n,r,i),!0;case"dragenter":return Qn=Co(Qn,t,e,n,r,i),!0;case"mouseover":return Xn=Co(Xn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return cs.set(o,Co(cs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,hs.set(o,Co(hs.get(o)||null,t,e,n,r,i)),!0}return!1}function Zy(t){var e=Sr(t.target);if(e!==null){var n=Gr(e);if(n!==null){if(e=n.tag,e===13){if(e=By(n),e!==null){t.blockedOn=e,Jy(t.priority,function(){Xy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function el(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ch(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yh=r,n.target.dispatchEvent(r),yh=null}else return e=Js(n),e!==null&&td(e),t.blockedOn=n,!1;e.shift()}return!0}function Am(t,e,n){el(t)&&n.delete(e)}function BI(){Ih=!1,Gn!==null&&el(Gn)&&(Gn=null),Qn!==null&&el(Qn)&&(Qn=null),Xn!==null&&el(Xn)&&(Xn=null),cs.forEach(Am),hs.forEach(Am)}function So(t,e){t.blockedOn===e&&(t.blockedOn=null,Ih||(Ih=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,BI)))}function fs(t){function e(i){return So(i,t)}if(0<Pa.length){So(Pa[0],t);for(var n=1;n<Pa.length;n++){var r=Pa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gn!==null&&So(Gn,t),Qn!==null&&So(Qn,t),Xn!==null&&So(Xn,t),cs.forEach(e),hs.forEach(e),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)Zy(n),n.blockedOn===null&&Bn.shift()}var Ai=On.ReactCurrentBatchConfig,El=!0;function UI(t,e,n,r){var i=re,o=Ai.transition;Ai.transition=null;try{re=1,nd(t,e,n,r)}finally{re=i,Ai.transition=o}}function zI(t,e,n,r){var i=re,o=Ai.transition;Ai.transition=null;try{re=4,nd(t,e,n,r)}finally{re=i,Ai.transition=o}}function nd(t,e,n,r){if(El){var i=Ch(t,e,n,r);if(i===null)Ic(t,e,r,wl,n),Rm(t,r);else if(bI(i,t,e,n,r))r.stopPropagation();else if(Rm(t,r),e&4&&-1<FI.indexOf(t)){for(;i!==null;){var o=Js(i);if(o!==null&&Qy(o),o=Ch(t,e,n,r),o===null&&Ic(t,e,r,wl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ic(t,e,r,null,n)}}var wl=null;function Ch(t,e,n,r){if(wl=null,t=Jf(r),t=Sr(t),t!==null)if(e=Gr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=By(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wl=t,null}function e_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kI()){case Zf:return 1;case Hy:return 4;case yl:case NI:return 16;case qy:return 536870912;default:return 16}default:return 16}}var zn=null,rd=null,tl=null;function t_(){if(tl)return tl;var t,e=rd,n=e.length,r,i="value"in zn?zn.value:zn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return tl=i.slice(t,1<r?1-r:void 0)}function nl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ka(){return!0}function Pm(){return!1}function At(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ka:Pm,this.isPropagationStopped=Pm,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),e}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=At(io),Ys=Ee({},io,{view:0,detail:0}),WI=At(Ys),pc,mc,xo,fu=Ee({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xo&&(xo&&t.type==="mousemove"?(pc=t.screenX-xo.screenX,mc=t.screenY-xo.screenY):mc=pc=0,xo=t),pc)},movementY:function(t){return"movementY"in t?t.movementY:mc}}),km=At(fu),HI=Ee({},fu,{dataTransfer:0}),qI=At(HI),KI=Ee({},Ys,{relatedTarget:0}),gc=At(KI),GI=Ee({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),QI=At(GI),XI=Ee({},io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YI=At(XI),JI=Ee({},io,{data:0}),Nm=At(JI),ZI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tC[t])?!!e[t]:!1}function od(){return nC}var rC=Ee({},Ys,{key:function(t){if(t.key){var e=ZI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(t){return t.type==="keypress"?nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iC=At(rC),oC=Ee({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dm=At(oC),sC=Ee({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),aC=At(sC),lC=Ee({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),uC=At(lC),cC=Ee({},fu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hC=At(cC),fC=[9,13,27,32],sd=In&&"CompositionEvent"in window,qo=null;In&&"documentMode"in document&&(qo=document.documentMode);var dC=In&&"TextEvent"in window&&!qo,n_=In&&(!sd||qo&&8<qo&&11>=qo),Om=String.fromCharCode(32),Vm=!1;function r_(t,e){switch(t){case"keyup":return fC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var di=!1;function pC(t,e){switch(t){case"compositionend":return i_(e);case"keypress":return e.which!==32?null:(Vm=!0,Om);case"textInput":return t=e.data,t===Om&&Vm?null:t;default:return null}}function mC(t,e){if(di)return t==="compositionend"||!sd&&r_(t,e)?(t=t_(),tl=rd=zn=null,di=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return n_&&e.locale!=="ko"?null:e.data;default:return null}}var gC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gC[t.type]:e==="textarea"}function o_(t,e,n,r){My(r),e=Tl(e,"onChange"),0<e.length&&(n=new id("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ko=null,ds=null;function vC(t){g_(t,0)}function du(t){var e=gi(t);if(Py(e))return t}function yC(t,e){if(t==="change")return e}var s_=!1;if(In){var vc;if(In){var yc="oninput"in document;if(!yc){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),yc=typeof Mm.oninput=="function"}vc=yc}else vc=!1;s_=vc&&(!document.documentMode||9<document.documentMode)}function Lm(){Ko&&(Ko.detachEvent("onpropertychange",a_),ds=Ko=null)}function a_(t){if(t.propertyName==="value"&&du(ds)){var e=[];o_(e,ds,t,Jf(t)),by(vC,e)}}function _C(t,e,n){t==="focusin"?(Lm(),Ko=e,ds=n,Ko.attachEvent("onpropertychange",a_)):t==="focusout"&&Lm()}function EC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return du(ds)}function wC(t,e){if(t==="click")return du(e)}function TC(t,e){if(t==="input"||t==="change")return du(e)}function IC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gt=typeof Object.is=="function"?Object.is:IC;function ps(t,e){if(Gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sh.call(e,i)||!Gt(t[i],e[i]))return!1}return!0}function jm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fm(t,e){var n=jm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jm(n)}}function l_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?l_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function u_(){for(var t=window,e=ml();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ml(t.document)}return e}function ad(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CC(t){var e=u_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&l_(n.ownerDocument.documentElement,n)){if(r!==null&&ad(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Fm(n,o);var s=Fm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SC=In&&"documentMode"in document&&11>=document.documentMode,pi=null,Sh=null,Go=null,xh=!1;function bm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xh||pi==null||pi!==ml(r)||(r=pi,"selectionStart"in r&&ad(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Go&&ps(Go,r)||(Go=r,r=Tl(Sh,"onSelect"),0<r.length&&(e=new id("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pi)))}function Na(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mi={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionend:Na("Transition","TransitionEnd")},_c={},c_={};In&&(c_=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function pu(t){if(_c[t])return _c[t];if(!mi[t])return t;var e=mi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in c_)return _c[t]=e[n];return t}var h_=pu("animationend"),f_=pu("animationiteration"),d_=pu("animationstart"),p_=pu("transitionend"),m_=new Map,Bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(t,e){m_.set(t,e),Kr(e,[t])}for(var Ec=0;Ec<Bm.length;Ec++){var wc=Bm[Ec],xC=wc.toLowerCase(),RC=wc[0].toUpperCase()+wc.slice(1);fr(xC,"on"+RC)}fr(h_,"onAnimationEnd");fr(f_,"onAnimationIteration");fr(d_,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(p_,"onTransitionEnd");Mi("onMouseEnter",["mouseout","mouseover"]);Mi("onMouseLeave",["mouseout","mouseover"]);Mi("onPointerEnter",["pointerout","pointerover"]);Mi("onPointerLeave",["pointerout","pointerover"]);Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Um(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xI(r,e,void 0,t),t.currentTarget=null}function g_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Um(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Um(i,a,u),o=l}}}if(vl)throw t=wh,vl=!1,wh=null,t}function ce(t,e){var n=e[Nh];n===void 0&&(n=e[Nh]=new Set);var r=t+"__bubble";n.has(r)||(v_(e,t,2,!1),n.add(r))}function Tc(t,e,n){var r=0;e&&(r|=4),v_(n,t,r,e)}var Da="_reactListening"+Math.random().toString(36).slice(2);function ms(t){if(!t[Da]){t[Da]=!0,Cy.forEach(function(n){n!=="selectionchange"&&(AC.has(n)||Tc(n,!1,t),Tc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Da]||(e[Da]=!0,Tc("selectionchange",!1,e))}}function v_(t,e,n,r){switch(e_(e)){case 1:var i=UI;break;case 4:i=zI;break;default:i=nd}n=i.bind(null,e,n,t),i=void 0,!Eh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ic(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Sr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}by(function(){var u=o,c=Jf(n),h=[];e:{var f=m_.get(t);if(f!==void 0){var p=id,_=t;switch(t){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":p=iC;break;case"focusin":_="focus",p=gc;break;case"focusout":_="blur",p=gc;break;case"beforeblur":case"afterblur":p=gc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=aC;break;case h_:case f_:case d_:p=QI;break;case p_:p=uC;break;case"scroll":p=WI;break;case"wheel":p=hC;break;case"copy":case"cut":case"paste":p=YI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dm}var E=(e&4)!==0,w=!E&&t==="scroll",g=E?f!==null?f+"Capture":null:f;E=[];for(var d=u,v;d!==null;){v=d;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,g!==null&&(T=us(d,g),T!=null&&E.push(gs(d,T,v)))),w)break;d=d.return}0<E.length&&(f=new p(f,_,null,n,c),h.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==yh&&(_=n.relatedTarget||n.fromElement)&&(Sr(_)||_[Cn]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Sr(_):null,_!==null&&(w=Gr(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(E=km,T="onMouseLeave",g="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(E=Dm,T="onPointerLeave",g="onPointerEnter",d="pointer"),w=p==null?f:gi(p),v=_==null?f:gi(_),f=new E(T,d+"leave",p,n,c),f.target=w,f.relatedTarget=v,T=null,Sr(c)===u&&(E=new E(g,d+"enter",_,n,c),E.target=v,E.relatedTarget=w,T=E),w=T,p&&_)t:{for(E=p,g=_,d=0,v=E;v;v=ri(v))d++;for(v=0,T=g;T;T=ri(T))v++;for(;0<d-v;)E=ri(E),d--;for(;0<v-d;)g=ri(g),v--;for(;d--;){if(E===g||g!==null&&E===g.alternate)break t;E=ri(E),g=ri(g)}E=null}else E=null;p!==null&&zm(h,f,p,E,!1),_!==null&&w!==null&&zm(h,w,_,E,!0)}}e:{if(f=u?gi(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=yC;else if($m(f))if(s_)I=TC;else{I=EC;var C=_C}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=wC);if(I&&(I=I(t,u))){o_(h,I,n,c);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&dh(f,"number",f.value)}switch(C=u?gi(u):window,t){case"focusin":($m(C)||C.contentEditable==="true")&&(pi=C,Sh=u,Go=null);break;case"focusout":Go=Sh=pi=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,bm(h,n,c);break;case"selectionchange":if(SC)break;case"keydown":case"keyup":bm(h,n,c)}var S;if(sd)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else di?r_(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(n_&&n.locale!=="ko"&&(di||R!=="onCompositionStart"?R==="onCompositionEnd"&&di&&(S=t_()):(zn=c,rd="value"in zn?zn.value:zn.textContent,di=!0)),C=Tl(u,R),0<C.length&&(R=new Nm(R,t,null,n,c),h.push({event:R,listeners:C}),S?R.data=S:(S=i_(n),S!==null&&(R.data=S)))),(S=dC?pC(t,n):mC(t,n))&&(u=Tl(u,"onBeforeInput"),0<u.length&&(c=new Nm("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}g_(h,e)})}function gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=us(t,n),o!=null&&r.unshift(gs(t,o,i)),o=us(t,e),o!=null&&r.push(gs(t,o,i))),t=t.return}return r}function ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zm(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=us(n,o),l!=null&&s.unshift(gs(n,l,a))):i||(l=us(n,o),l!=null&&s.push(gs(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var PC=/\r\n?/g,kC=/\u0000|\uFFFD/g;function Wm(t){return(typeof t=="string"?t:""+t).replace(PC,`
`).replace(kC,"")}function Oa(t,e,n){if(e=Wm(e),Wm(t)!==e&&n)throw Error(A(425))}function Il(){}var Rh=null,Ah=null;function Ph(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kh=typeof setTimeout=="function"?setTimeout:void 0,NC=typeof clearTimeout=="function"?clearTimeout:void 0,Hm=typeof Promise=="function"?Promise:void 0,DC=typeof queueMicrotask=="function"?queueMicrotask:typeof Hm<"u"?function(t){return Hm.resolve(null).then(t).catch(OC)}:kh;function OC(t){setTimeout(function(){throw t})}function Cc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fs(e)}function Yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oo=Math.random().toString(36).slice(2),Zt="__reactFiber$"+oo,vs="__reactProps$"+oo,Cn="__reactContainer$"+oo,Nh="__reactEvents$"+oo,VC="__reactListeners$"+oo,$C="__reactHandles$"+oo;function Sr(t){var e=t[Zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cn]||n[Zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qm(t);t!==null;){if(n=t[Zt])return n;t=qm(t)}return e}t=n,n=t.parentNode}return null}function Js(t){return t=t[Zt]||t[Cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function mu(t){return t[vs]||null}var Dh=[],vi=-1;function dr(t){return{current:t}}function de(t){0>vi||(t.current=Dh[vi],Dh[vi]=null,vi--)}function le(t,e){vi++,Dh[vi]=t.current,t.current=e}var ar={},st=dr(ar),mt=dr(!1),Mr=ar;function Li(t,e){var n=t.type.contextTypes;if(!n)return ar;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gt(t){return t=t.childContextTypes,t!=null}function Cl(){de(mt),de(st)}function Km(t,e,n){if(st.current!==ar)throw Error(A(168));le(st,e),le(mt,n)}function y_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(A(108,_I(t)||"Unknown",i));return Ee({},n,r)}function Sl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ar,Mr=st.current,le(st,t),le(mt,mt.current),!0}function Gm(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=y_(t,e,Mr),r.__reactInternalMemoizedMergedChildContext=t,de(mt),de(st),le(st,t)):de(mt),le(mt,n)}var fn=null,gu=!1,Sc=!1;function __(t){fn===null?fn=[t]:fn.push(t)}function MC(t){gu=!0,__(t)}function pr(){if(!Sc&&fn!==null){Sc=!0;var t=0,e=re;try{var n=fn;for(re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fn=null,gu=!1}catch(i){throw fn!==null&&(fn=fn.slice(t+1)),Wy(Zf,pr),i}finally{re=e,Sc=!1}}return null}var yi=[],_i=0,xl=null,Rl=0,Pt=[],kt=0,Lr=null,mn=1,gn="";function Tr(t,e){yi[_i++]=Rl,yi[_i++]=xl,xl=t,Rl=e}function E_(t,e,n){Pt[kt++]=mn,Pt[kt++]=gn,Pt[kt++]=Lr,Lr=t;var r=mn;t=gn;var i=32-qt(r)-1;r&=~(1<<i),n+=1;var o=32-qt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,mn=1<<32-qt(e)+i|n<<i|r,gn=o+t}else mn=1<<o|n<<i|r,gn=t}function ld(t){t.return!==null&&(Tr(t,1),E_(t,1,0))}function ud(t){for(;t===xl;)xl=yi[--_i],yi[_i]=null,Rl=yi[--_i],yi[_i]=null;for(;t===Lr;)Lr=Pt[--kt],Pt[kt]=null,gn=Pt[--kt],Pt[kt]=null,mn=Pt[--kt],Pt[kt]=null}var Tt=null,wt=null,ge=!1,zt=null;function w_(t,e){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tt=t,wt=Yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tt=t,wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lr!==null?{id:mn,overflow:gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tt=t,wt=null,!0):!1;default:return!1}}function Oh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vh(t){if(ge){var e=wt;if(e){var n=e;if(!Qm(t,e)){if(Oh(t))throw Error(A(418));e=Yn(n.nextSibling);var r=Tt;e&&Qm(t,e)?w_(r,n):(t.flags=t.flags&-4097|2,ge=!1,Tt=t)}}else{if(Oh(t))throw Error(A(418));t.flags=t.flags&-4097|2,ge=!1,Tt=t}}}function Xm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tt=t}function Va(t){if(t!==Tt)return!1;if(!ge)return Xm(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ph(t.type,t.memoizedProps)),e&&(e=wt)){if(Oh(t))throw T_(),Error(A(418));for(;e;)w_(t,e),e=Yn(e.nextSibling)}if(Xm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wt=Yn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wt=null}}else wt=Tt?Yn(t.stateNode.nextSibling):null;return!0}function T_(){for(var t=wt;t;)t=Yn(t.nextSibling)}function ji(){wt=Tt=null,ge=!1}function cd(t){zt===null?zt=[t]:zt.push(t)}var LC=On.ReactCurrentBatchConfig;function Bt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Al=dr(null),Pl=null,Ei=null,hd=null;function fd(){hd=Ei=Pl=null}function dd(t){var e=Al.current;de(Al),t._currentValue=e}function $h(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pi(t,e){Pl=t,hd=Ei=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pt=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(hd!==t)if(t={context:t,memoizedValue:e,next:null},Ei===null){if(Pl===null)throw Error(A(308));Ei=t,Pl.dependencies={lanes:0,firstContext:t}}else Ei=Ei.next=t;return e}var xr=null;function pd(t){xr===null?xr=[t]:xr.push(t)}function I_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pd(e)):(n.next=i.next,i.next=n),e.interleaved=n,Sn(t,r)}function Sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fn=!1;function md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sn(t,n)}return i=r.interleaved,i===null?(e.next=e,pd(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sn(t,n)}function rl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ed(t,n)}}function Ym(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kl(t,e,n,r){var i=t.updateQueue;Fn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,E=a;switch(f=e,p=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){h=_.call(p,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,f=typeof _=="function"?_.call(p,h,f):_,f==null)break e;h=Ee({},h,f);break e;case 2:Fn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Fr|=s,t.lanes=s,t.memoizedState=h}}function Jm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var S_=new Iy.Component().refs;function Mh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vu={isMounted:function(t){return(t=t._reactInternals)?Gr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ct(),i=er(t),o=yn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Jn(t,o,i),e!==null&&(Kt(e,t,i,r),rl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ct(),i=er(t),o=yn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Jn(t,o,i),e!==null&&(Kt(e,t,i,r),rl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ct(),r=er(t),i=yn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Jn(t,i,r),e!==null&&(Kt(e,t,r,n),rl(e,t,r))}};function Zm(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ps(n,r)||!ps(i,o):!0}function x_(t,e,n){var r=!1,i=ar,o=e.contextType;return typeof o=="object"&&o!==null?o=$t(o):(i=gt(e)?Mr:st.current,r=e.contextTypes,o=(r=r!=null)?Li(t,i):ar),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function eg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vu.enqueueReplaceState(e,e.state,null)}function Lh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=S_,md(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=$t(o):(o=gt(e)?Mr:st.current,i.context=Li(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Mh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vu.enqueueReplaceState(i,i.state,null),kl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ro(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===S_&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function $a(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tg(t){var e=t._init;return e(t._payload)}function R_(t){function e(g,d){if(t){var v=g.deletions;v===null?(g.deletions=[d],g.flags|=16):v.push(d)}}function n(g,d){if(!t)return null;for(;d!==null;)e(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function i(g,d){return g=tr(g,d),g.index=0,g.sibling=null,g}function o(g,d,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<d?(g.flags|=2,d):v):(g.flags|=2,d)):(g.flags|=1048576,d)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,d,v,T){return d===null||d.tag!==6?(d=Dc(v,g.mode,T),d.return=g,d):(d=i(d,v),d.return=g,d)}function l(g,d,v,T){var I=v.type;return I===fi?c(g,d,v.props.children,T,v.key):d!==null&&(d.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===jn&&tg(I)===d.type)?(T=i(d,v.props),T.ref=Ro(g,d,v),T.return=g,T):(T=ul(v.type,v.key,v.props,null,g.mode,T),T.ref=Ro(g,d,v),T.return=g,T)}function u(g,d,v,T){return d===null||d.tag!==4||d.stateNode.containerInfo!==v.containerInfo||d.stateNode.implementation!==v.implementation?(d=Oc(v,g.mode,T),d.return=g,d):(d=i(d,v.children||[]),d.return=g,d)}function c(g,d,v,T,I){return d===null||d.tag!==7?(d=Or(v,g.mode,T,I),d.return=g,d):(d=i(d,v),d.return=g,d)}function h(g,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Dc(""+d,g.mode,v),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ca:return v=ul(d.type,d.key,d.props,null,g.mode,v),v.ref=Ro(g,null,d),v.return=g,v;case hi:return d=Oc(d,g.mode,v),d.return=g,d;case jn:var T=d._init;return h(g,T(d._payload),v)}if($o(d)||To(d))return d=Or(d,g.mode,v,null),d.return=g,d;$a(g,d)}return null}function f(g,d,v,T){var I=d!==null?d.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:a(g,d,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ca:return v.key===I?l(g,d,v,T):null;case hi:return v.key===I?u(g,d,v,T):null;case jn:return I=v._init,f(g,d,I(v._payload),T)}if($o(v)||To(v))return I!==null?null:c(g,d,v,T,null);$a(g,v)}return null}function p(g,d,v,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(v)||null,a(d,g,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ca:return g=g.get(T.key===null?v:T.key)||null,l(d,g,T,I);case hi:return g=g.get(T.key===null?v:T.key)||null,u(d,g,T,I);case jn:var C=T._init;return p(g,d,v,C(T._payload),I)}if($o(T)||To(T))return g=g.get(v)||null,c(d,g,T,I,null);$a(d,T)}return null}function _(g,d,v,T){for(var I=null,C=null,S=d,R=d=0,b=null;S!==null&&R<v.length;R++){S.index>R?(b=S,S=null):b=S.sibling;var D=f(g,S,v[R],T);if(D===null){S===null&&(S=b);break}t&&S&&D.alternate===null&&e(g,S),d=o(D,d,R),C===null?I=D:C.sibling=D,C=D,S=b}if(R===v.length)return n(g,S),ge&&Tr(g,R),I;if(S===null){for(;R<v.length;R++)S=h(g,v[R],T),S!==null&&(d=o(S,d,R),C===null?I=S:C.sibling=S,C=S);return ge&&Tr(g,R),I}for(S=r(g,S);R<v.length;R++)b=p(S,g,R,v[R],T),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?R:b.key),d=o(b,d,R),C===null?I=b:C.sibling=b,C=b);return t&&S.forEach(function(j){return e(g,j)}),ge&&Tr(g,R),I}function E(g,d,v,T){var I=To(v);if(typeof I!="function")throw Error(A(150));if(v=I.call(v),v==null)throw Error(A(151));for(var C=I=null,S=d,R=d=0,b=null,D=v.next();S!==null&&!D.done;R++,D=v.next()){S.index>R?(b=S,S=null):b=S.sibling;var j=f(g,S,D.value,T);if(j===null){S===null&&(S=b);break}t&&S&&j.alternate===null&&e(g,S),d=o(j,d,R),C===null?I=j:C.sibling=j,C=j,S=b}if(D.done)return n(g,S),ge&&Tr(g,R),I;if(S===null){for(;!D.done;R++,D=v.next())D=h(g,D.value,T),D!==null&&(d=o(D,d,R),C===null?I=D:C.sibling=D,C=D);return ge&&Tr(g,R),I}for(S=r(g,S);!D.done;R++,D=v.next())D=p(S,g,R,D.value,T),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?R:D.key),d=o(D,d,R),C===null?I=D:C.sibling=D,C=D);return t&&S.forEach(function(W){return e(g,W)}),ge&&Tr(g,R),I}function w(g,d,v,T){if(typeof v=="object"&&v!==null&&v.type===fi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ca:e:{for(var I=v.key,C=d;C!==null;){if(C.key===I){if(I=v.type,I===fi){if(C.tag===7){n(g,C.sibling),d=i(C,v.props.children),d.return=g,g=d;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===jn&&tg(I)===C.type){n(g,C.sibling),d=i(C,v.props),d.ref=Ro(g,C,v),d.return=g,g=d;break e}n(g,C);break}else e(g,C);C=C.sibling}v.type===fi?(d=Or(v.props.children,g.mode,T,v.key),d.return=g,g=d):(T=ul(v.type,v.key,v.props,null,g.mode,T),T.ref=Ro(g,d,v),T.return=g,g=T)}return s(g);case hi:e:{for(C=v.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===v.containerInfo&&d.stateNode.implementation===v.implementation){n(g,d.sibling),d=i(d,v.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else e(g,d);d=d.sibling}d=Oc(v,g.mode,T),d.return=g,g=d}return s(g);case jn:return C=v._init,w(g,d,C(v._payload),T)}if($o(v))return _(g,d,v,T);if(To(v))return E(g,d,v,T);$a(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,d!==null&&d.tag===6?(n(g,d.sibling),d=i(d,v),d.return=g,g=d):(n(g,d),d=Dc(v,g.mode,T),d.return=g,g=d),s(g)):n(g,d)}return w}var Fi=R_(!0),A_=R_(!1),Zs={},on=dr(Zs),ys=dr(Zs),_s=dr(Zs);function Rr(t){if(t===Zs)throw Error(A(174));return t}function gd(t,e){switch(le(_s,e),le(ys,t),le(on,Zs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mh(e,t)}de(on),le(on,e)}function bi(){de(on),de(ys),de(_s)}function P_(t){Rr(_s.current);var e=Rr(on.current),n=mh(e,t.type);e!==n&&(le(ys,t),le(on,n))}function vd(t){ys.current===t&&(de(on),de(ys))}var ye=dr(0);function Nl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xc=[];function yd(){for(var t=0;t<xc.length;t++)xc[t]._workInProgressVersionPrimary=null;xc.length=0}var il=On.ReactCurrentDispatcher,Rc=On.ReactCurrentBatchConfig,jr=0,_e=null,Ve=null,je=null,Dl=!1,Qo=!1,Es=0,jC=0;function Xe(){throw Error(A(321))}function _d(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gt(t[n],e[n]))return!1;return!0}function Ed(t,e,n,r,i,o){if(jr=o,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,il.current=t===null||t.memoizedState===null?UC:zC,t=n(r,i),Qo){o=0;do{if(Qo=!1,Es=0,25<=o)throw Error(A(301));o+=1,je=Ve=null,e.updateQueue=null,il.current=WC,t=n(r,i)}while(Qo)}if(il.current=Ol,e=Ve!==null&&Ve.next!==null,jr=0,je=Ve=_e=null,Dl=!1,e)throw Error(A(300));return t}function wd(){var t=Es!==0;return Es=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?_e.memoizedState=je=t:je=je.next=t,je}function Mt(){if(Ve===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=je===null?_e.memoizedState:je.next;if(e!==null)je=e,Ve=t;else{if(t===null)throw Error(A(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},je===null?_e.memoizedState=je=t:je=je.next=t}return je}function ws(t,e){return typeof e=="function"?e(t):e}function Ac(t){var e=Mt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=Ve,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((jr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,_e.lanes|=c,Fr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Gt(r,e.memoizedState)||(pt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_e.lanes|=o,Fr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pc(t){var e=Mt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Gt(o,e.memoizedState)||(pt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function k_(){}function N_(t,e){var n=_e,r=Mt(),i=e(),o=!Gt(r.memoizedState,i);if(o&&(r.memoizedState=i,pt=!0),r=r.queue,Td(V_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Ts(9,O_.bind(null,n,r,i,e),void 0,null),Fe===null)throw Error(A(349));jr&30||D_(n,e,i)}return i}function D_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function O_(t,e,n,r){e.value=n,e.getSnapshot=r,$_(e)&&M_(t)}function V_(t,e,n){return n(function(){$_(e)&&M_(t)})}function $_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gt(t,n)}catch{return!0}}function M_(t){var e=Sn(t,1);e!==null&&Kt(e,t,1,-1)}function ng(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},e.queue=t,t=t.dispatch=BC.bind(null,_e,t),[e.memoizedState,t]}function Ts(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function L_(){return Mt().memoizedState}function ol(t,e,n,r){var i=Jt();_e.flags|=t,i.memoizedState=Ts(1|e,n,void 0,r===void 0?null:r)}function yu(t,e,n,r){var i=Mt();r=r===void 0?null:r;var o=void 0;if(Ve!==null){var s=Ve.memoizedState;if(o=s.destroy,r!==null&&_d(r,s.deps)){i.memoizedState=Ts(e,n,o,r);return}}_e.flags|=t,i.memoizedState=Ts(1|e,n,o,r)}function rg(t,e){return ol(8390656,8,t,e)}function Td(t,e){return yu(2048,8,t,e)}function j_(t,e){return yu(4,2,t,e)}function F_(t,e){return yu(4,4,t,e)}function b_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function B_(t,e,n){return n=n!=null?n.concat([t]):null,yu(4,4,b_.bind(null,e,t),n)}function Id(){}function U_(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_d(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function z_(t,e){var n=Mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_d(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function W_(t,e,n){return jr&21?(Gt(n,e)||(n=Ky(),_e.lanes|=n,Fr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pt=!0),t.memoizedState=n)}function FC(t,e){var n=re;re=n!==0&&4>n?n:4,t(!0);var r=Rc.transition;Rc.transition={};try{t(!1),e()}finally{re=n,Rc.transition=r}}function H_(){return Mt().memoizedState}function bC(t,e,n){var r=er(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},q_(t))K_(e,n);else if(n=I_(t,e,n,r),n!==null){var i=ct();Kt(n,t,r,i),G_(n,e,r)}}function BC(t,e,n){var r=er(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(q_(t))K_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Gt(a,s)){var l=e.interleaved;l===null?(i.next=i,pd(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=I_(t,e,i,r),n!==null&&(i=ct(),Kt(n,t,r,i),G_(n,e,r))}}function q_(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function K_(t,e){Qo=Dl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function G_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ed(t,n)}}var Ol={readContext:$t,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},UC={readContext:$t,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:rg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ol(4194308,4,b_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ol(4194308,4,t,e)},useInsertionEffect:function(t,e){return ol(4,2,t,e)},useMemo:function(t,e){var n=Jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bC.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:ng,useDebugValue:Id,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=ng(!1),e=t[0];return t=FC.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_e,i=Jt();if(ge){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),Fe===null)throw Error(A(349));jr&30||D_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,rg(V_.bind(null,r,o,t),[t]),r.flags|=2048,Ts(9,O_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Jt(),e=Fe.identifierPrefix;if(ge){var n=gn,r=mn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Es++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zC={readContext:$t,useCallback:U_,useContext:$t,useEffect:Td,useImperativeHandle:B_,useInsertionEffect:j_,useLayoutEffect:F_,useMemo:z_,useReducer:Ac,useRef:L_,useState:function(){return Ac(ws)},useDebugValue:Id,useDeferredValue:function(t){var e=Mt();return W_(e,Ve.memoizedState,t)},useTransition:function(){var t=Ac(ws)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:k_,useSyncExternalStore:N_,useId:H_,unstable_isNewReconciler:!1},WC={readContext:$t,useCallback:U_,useContext:$t,useEffect:Td,useImperativeHandle:B_,useInsertionEffect:j_,useLayoutEffect:F_,useMemo:z_,useReducer:Pc,useRef:L_,useState:function(){return Pc(ws)},useDebugValue:Id,useDeferredValue:function(t){var e=Mt();return Ve===null?e.memoizedState=t:W_(e,Ve.memoizedState,t)},useTransition:function(){var t=Pc(ws)[0],e=Mt().memoizedState;return[t,e]},useMutableSource:k_,useSyncExternalStore:N_,useId:H_,unstable_isNewReconciler:!1};function Bi(t,e){try{var n="",r=e;do n+=yI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function kc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HC=typeof WeakMap=="function"?WeakMap:Map;function Q_(t,e,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$l||($l=!0,Gh=r),jh(t,e)},n}function X_(t,e,n){n=yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jh(t,e),typeof r!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function ig(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new HC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=oS.bind(null,t,e,n),e.then(t,t))}function og(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yn(-1,1),e.tag=2,Jn(n,e,1))),n.lanes|=1),t)}var qC=On.ReactCurrentOwner,pt=!1;function lt(t,e,n,r){e.child=t===null?A_(e,null,n,r):Fi(e,t.child,n,r)}function ag(t,e,n,r,i){n=n.render;var o=e.ref;return Pi(e,i),r=Ed(t,e,n,r,o,i),n=wd(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xn(t,e,i)):(ge&&n&&ld(e),e.flags|=1,lt(t,e,r,i),e.child)}function lg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Nd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Y_(t,e,o,r,i)):(t=ul(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ps,n(s,r)&&t.ref===e.ref)return xn(t,e,i)}return e.flags|=1,t=tr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Y_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ps(o,r)&&t.ref===e.ref)if(pt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(pt=!0);else return e.lanes=t.lanes,xn(t,e,i)}return Fh(t,e,n,r,i)}function J_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Ti,Et),Et|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(Ti,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,le(Ti,Et),Et|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,le(Ti,Et),Et|=r;return lt(t,e,i,n),e.child}function Z_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fh(t,e,n,r,i){var o=gt(n)?Mr:st.current;return o=Li(e,o),Pi(e,i),n=Ed(t,e,n,r,o,i),r=wd(),t!==null&&!pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xn(t,e,i)):(ge&&r&&ld(e),e.flags|=1,lt(t,e,n,i),e.child)}function ug(t,e,n,r,i){if(gt(n)){var o=!0;Sl(e)}else o=!1;if(Pi(e,i),e.stateNode===null)sl(t,e),x_(e,n,r),Lh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=gt(n)?Mr:st.current,u=Li(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&eg(e,s,r,u),Fn=!1;var f=e.memoizedState;s.state=f,kl(e,r,s,i),l=e.memoizedState,a!==r||f!==l||mt.current||Fn?(typeof c=="function"&&(Mh(e,n,c,r),l=e.memoizedState),(a=Fn||Zm(e,n,a,r,f,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,C_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Bt(e.type,a),s.props=u,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=gt(n)?Mr:st.current,l=Li(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&eg(e,s,r,l),Fn=!1,f=e.memoizedState,s.state=f,kl(e,r,s,i);var _=e.memoizedState;a!==h||f!==_||mt.current||Fn?(typeof p=="function"&&(Mh(e,n,p,r),_=e.memoizedState),(u=Fn||Zm(e,n,u,r,f,_,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return bh(t,e,n,r,o,i)}function bh(t,e,n,r,i,o){Z_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Gm(e,n,!1),xn(t,e,o);r=e.stateNode,qC.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Fi(e,t.child,null,o),e.child=Fi(e,null,a,o)):lt(t,e,a,o),e.memoizedState=r.state,i&&Gm(e,n,!0),e.child}function e0(t){var e=t.stateNode;e.pendingContext?Km(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Km(t,e.context,!1),gd(t,e.containerInfo)}function cg(t,e,n,r,i){return ji(),cd(i),e.flags|=256,lt(t,e,n,r),e.child}var Bh={dehydrated:null,treeContext:null,retryLane:0};function Uh(t){return{baseLanes:t,cachePool:null,transitions:null}}function t0(t,e,n){var r=e.pendingProps,i=ye.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),le(ye,i&1),t===null)return Vh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=wu(s,r,0,null),t=Or(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Uh(n),e.memoizedState=Bh,t):Cd(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KC(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=tr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=tr(a,o):(o=Or(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Uh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Bh,r}return o=t.child,t=o.sibling,r=tr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Cd(t,e){return e=wu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ma(t,e,n,r){return r!==null&&cd(r),Fi(e,t.child,null,n),t=Cd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KC(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=kc(Error(A(422))),Ma(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=wu({mode:"visible",children:r.children},i,0,null),o=Or(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Fi(e,t.child,null,s),e.child.memoizedState=Uh(s),e.memoizedState=Bh,o);if(!(e.mode&1))return Ma(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(A(419)),r=kc(o,r,void 0),Ma(t,e,s,r)}if(a=(s&t.childLanes)!==0,pt||a){if(r=Fe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Sn(t,i),Kt(r,t,i,-1))}return kd(),r=kc(Error(A(421))),Ma(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sS.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,wt=Yn(i.nextSibling),Tt=e,ge=!0,zt=null,t!==null&&(Pt[kt++]=mn,Pt[kt++]=gn,Pt[kt++]=Lr,mn=t.id,gn=t.overflow,Lr=e),e=Cd(e,r.children),e.flags|=4096,e)}function hg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$h(t.return,e,n)}function Nc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function n0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(lt(t,e,r.children,n),r=ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hg(t,n,e);else if(t.tag===19)hg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(le(ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Nl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nc(e,!0,n,null,o);break;case"together":Nc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=tr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=tr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GC(t,e,n){switch(e.tag){case 3:e0(e),ji();break;case 5:P_(e);break;case 1:gt(e.type)&&Sl(e);break;case 4:gd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;le(Al,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(le(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?t0(t,e,n):(le(ye,ye.current&1),t=xn(t,e,n),t!==null?t.sibling:null);le(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return n0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,J_(t,e,n)}return xn(t,e,n)}var r0,zh,i0,o0;r0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zh=function(){};i0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Rr(on.current);var o=null;switch(n){case"input":i=hh(t,i),r=hh(t,r),o=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),o=[];break;case"textarea":i=ph(t,i),r=ph(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Il)}gh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(as.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(as.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ce("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};o0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ao(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QC(t,e,n){var r=e.pendingProps;switch(ud(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return gt(e.type)&&Cl(),Ye(e),null;case 3:return r=e.stateNode,bi(),de(mt),de(st),yd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Va(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zt!==null&&(Yh(zt),zt=null))),zh(t,e),Ye(e),null;case 5:vd(e);var i=Rr(_s.current);if(n=e.type,t!==null&&e.stateNode!=null)i0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return Ye(e),null}if(t=Rr(on.current),Va(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Zt]=e,r[vs]=o,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(i=0;i<Lo.length;i++)ce(Lo[i],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":Em(r,o),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ce("invalid",r);break;case"textarea":Tm(r,o),ce("invalid",r)}gh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Oa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Oa(r.textContent,a,t),i=["children",""+a]):as.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ce("scroll",r)}switch(n){case"input":Sa(r),wm(r,o,!0);break;case"textarea":Sa(r),Im(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Il)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Zt]=e,t[vs]=r,r0(t,e,!1,!1),e.stateNode=t;e:{switch(s=vh(n,r),n){case"dialog":ce("cancel",t),ce("close",t),i=r;break;case"iframe":case"object":case"embed":ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Lo.length;i++)ce(Lo[i],t);i=r;break;case"source":ce("error",t),i=r;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=r;break;case"details":ce("toggle",t),i=r;break;case"input":Em(t,r),i=hh(t,r),ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),ce("invalid",t);break;case"textarea":Tm(t,r),i=ph(t,r),ce("invalid",t);break;default:i=r}gh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?$y(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Oy(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ls(t,l):typeof l=="number"&&ls(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(as.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ce("scroll",t):l!=null&&Gf(t,o,l,s))}switch(n){case"input":Sa(t),wm(t,r,!1);break;case"textarea":Sa(t),Im(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Si(t,!!r.multiple,o,!1):r.defaultValue!=null&&Si(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)o0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=Rr(_s.current),Rr(on.current),Va(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zt]=e,(o=r.nodeValue!==n)&&(t=Tt,t!==null))switch(t.tag){case 3:Oa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=e,e.stateNode=r}return Ye(e),null;case 13:if(de(ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&wt!==null&&e.mode&1&&!(e.flags&128))T_(),ji(),e.flags|=98560,o=!1;else if(o=Va(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(A(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[Zt]=e}else ji(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),o=!1}else zt!==null&&(Yh(zt),zt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?$e===0&&($e=3):kd())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return bi(),zh(t,e),t===null&&ms(e.stateNode.containerInfo),Ye(e),null;case 10:return dd(e.type._context),Ye(e),null;case 17:return gt(e.type)&&Cl(),Ye(e),null;case 19:if(de(ye),o=e.memoizedState,o===null)return Ye(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ao(o,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Nl(t),s!==null){for(e.flags|=128,Ao(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(ye,ye.current&1|2),e.child}t=t.sibling}o.tail!==null&&Se()>Ui&&(e.flags|=128,r=!0,Ao(o,!1),e.lanes=4194304)}else{if(!r)if(t=Nl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ao(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ge)return Ye(e),null}else 2*Se()-o.renderingStartTime>Ui&&n!==1073741824&&(e.flags|=128,r=!0,Ao(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Se(),e.sibling=null,n=ye.current,le(ye,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return Pd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Et&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function XC(t,e){switch(ud(e),e.tag){case 1:return gt(e.type)&&Cl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bi(),de(mt),de(st),yd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vd(e),null;case 13:if(de(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));ji()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(ye),null;case 4:return bi(),null;case 10:return dd(e.type._context),null;case 22:case 23:return Pd(),null;case 24:return null;default:return null}}var La=!1,et=!1,YC=typeof WeakSet=="function"?WeakSet:Set,O=null;function wi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function Wh(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var fg=!1;function JC(t,e){if(Rh=El,t=u_(),ad(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ah={focusedElem:t,selectionRange:n},El=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,w=_.memoizedState,g=e.stateNode,d=g.getSnapshotBeforeUpdate(e.elementType===e.type?E:Bt(e.type,E),w);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(T){Ie(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return _=fg,fg=!1,_}function Xo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Wh(e,n,o)}i=i.next}while(i!==r)}}function _u(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function s0(t){var e=t.alternate;e!==null&&(t.alternate=null,s0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zt],delete e[vs],delete e[Nh],delete e[VC],delete e[$C])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a0(t){return t.tag===5||t.tag===3||t.tag===4}function dg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Il));else if(r!==4&&(t=t.child,t!==null))for(qh(t,e,n),t=t.sibling;t!==null;)qh(t,e,n),t=t.sibling}function Kh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kh(t,e,n),t=t.sibling;t!==null;)Kh(t,e,n),t=t.sibling}var Ue=null,Ut=!1;function $n(t,e,n){for(n=n.child;n!==null;)l0(t,e,n),n=n.sibling}function l0(t,e,n){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(hu,n)}catch{}switch(n.tag){case 5:et||wi(n,e);case 6:var r=Ue,i=Ut;Ue=null,$n(t,e,n),Ue=r,Ut=i,Ue!==null&&(Ut?(t=Ue,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(Ut?(t=Ue,n=n.stateNode,t.nodeType===8?Cc(t.parentNode,n):t.nodeType===1&&Cc(t,n),fs(t)):Cc(Ue,n.stateNode));break;case 4:r=Ue,i=Ut,Ue=n.stateNode.containerInfo,Ut=!0,$n(t,e,n),Ue=r,Ut=i;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Wh(n,e,s),i=i.next}while(i!==r)}$n(t,e,n);break;case 1:if(!et&&(wi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,e,a)}$n(t,e,n);break;case 21:$n(t,e,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,$n(t,e,n),et=r):$n(t,e,n);break;default:$n(t,e,n)}}function pg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YC),e.forEach(function(r){var i=aS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ue=a.stateNode,Ut=!1;break e;case 3:Ue=a.stateNode.containerInfo,Ut=!0;break e;case 4:Ue=a.stateNode.containerInfo,Ut=!0;break e}a=a.return}if(Ue===null)throw Error(A(160));l0(o,s,i),Ue=null,Ut=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ie(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)u0(e,t),e=e.sibling}function u0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bt(e,t),Yt(t),r&4){try{Xo(3,t,t.return),_u(3,t)}catch(E){Ie(t,t.return,E)}try{Xo(5,t,t.return)}catch(E){Ie(t,t.return,E)}}break;case 1:bt(e,t),Yt(t),r&512&&n!==null&&wi(n,n.return);break;case 5:if(bt(e,t),Yt(t),r&512&&n!==null&&wi(n,n.return),t.flags&32){var i=t.stateNode;try{ls(i,"")}catch(E){Ie(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&ky(i,o),vh(a,s);var u=vh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?$y(i,h):c==="dangerouslySetInnerHTML"?Oy(i,h):c==="children"?ls(i,h):Gf(i,c,h,u)}switch(a){case"input":fh(i,o);break;case"textarea":Ny(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Si(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Si(i,!!o.multiple,o.defaultValue,!0):Si(i,!!o.multiple,o.multiple?[]:"",!1))}i[vs]=o}catch(E){Ie(t,t.return,E)}}break;case 6:if(bt(e,t),Yt(t),r&4){if(t.stateNode===null)throw Error(A(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){Ie(t,t.return,E)}}break;case 3:if(bt(e,t),Yt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fs(e.containerInfo)}catch(E){Ie(t,t.return,E)}break;case 4:bt(e,t),Yt(t);break;case 13:bt(e,t),Yt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Rd=Se())),r&4&&pg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(et=(u=et)||c,bt(e,t),et=u):bt(e,t),Yt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(O=t,c=t.child;c!==null;){for(h=O=c;O!==null;){switch(f=O,p=f.child,f.tag){case 0:case 11:case 14:case 15:Xo(4,f,f.return);break;case 1:wi(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(E){Ie(r,n,E)}}break;case 5:wi(f,f.return);break;case 22:if(f.memoizedState!==null){gg(h);continue}}p!==null?(p.return=f,O=p):gg(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Vy("display",s))}catch(E){Ie(t,t.return,E)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){Ie(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bt(e,t),Yt(t),r&4&&pg(t);break;case 21:break;default:bt(e,t),Yt(t)}}function Yt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(a0(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ls(i,""),r.flags&=-33);var o=dg(t);Kh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=dg(t);qh(t,a,s);break;default:throw Error(A(161))}}catch(l){Ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZC(t,e,n){O=t,c0(t)}function c0(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||La;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||et;a=La;var u=et;if(La=s,(et=l)&&!u)for(O=i;O!==null;)s=O,l=s.child,s.tag===22&&s.memoizedState!==null?vg(i):l!==null?(l.return=s,O=l):vg(i);for(;o!==null;)O=o,c0(o),o=o.sibling;O=i,La=a,et=u}mg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,O=o):mg(t)}}function mg(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:et||_u(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Jm(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jm(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&fs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}et||e.flags&512&&Hh(e)}catch(f){Ie(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function gg(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function vg(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_u(4,e)}catch(l){Ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ie(e,i,l)}}var o=e.return;try{Hh(e)}catch(l){Ie(e,o,l)}break;case 5:var s=e.return;try{Hh(e)}catch(l){Ie(e,s,l)}}}catch(l){Ie(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var eS=Math.ceil,Vl=On.ReactCurrentDispatcher,Sd=On.ReactCurrentOwner,Vt=On.ReactCurrentBatchConfig,J=0,Fe=null,Pe=null,qe=0,Et=0,Ti=dr(0),$e=0,Is=null,Fr=0,Eu=0,xd=0,Yo=null,dt=null,Rd=0,Ui=1/0,hn=null,$l=!1,Gh=null,Zn=null,ja=!1,Wn=null,Ml=0,Jo=0,Qh=null,al=-1,ll=0;function ct(){return J&6?Se():al!==-1?al:al=Se()}function er(t){return t.mode&1?J&2&&qe!==0?qe&-qe:LC.transition!==null?(ll===0&&(ll=Ky()),ll):(t=re,t!==0||(t=window.event,t=t===void 0?16:e_(t.type)),t):1}function Kt(t,e,n,r){if(50<Jo)throw Jo=0,Qh=null,Error(A(185));Xs(t,n,r),(!(J&2)||t!==Fe)&&(t===Fe&&(!(J&2)&&(Eu|=n),$e===4&&Un(t,qe)),vt(t,r),n===1&&J===0&&!(e.mode&1)&&(Ui=Se()+500,gu&&pr()))}function vt(t,e){var n=t.callbackNode;LI(t,e);var r=_l(t,t===Fe?qe:0);if(r===0)n!==null&&xm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xm(n),e===1)t.tag===0?MC(yg.bind(null,t)):__(yg.bind(null,t)),DC(function(){!(J&6)&&pr()}),n=null;else{switch(Gy(r)){case 1:n=Zf;break;case 4:n=Hy;break;case 16:n=yl;break;case 536870912:n=qy;break;default:n=yl}n=y0(n,h0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h0(t,e){if(al=-1,ll=0,J&6)throw Error(A(327));var n=t.callbackNode;if(ki()&&t.callbackNode!==n)return null;var r=_l(t,t===Fe?qe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ll(t,r);else{e=r;var i=J;J|=2;var o=d0();(Fe!==t||qe!==e)&&(hn=null,Ui=Se()+500,Dr(t,e));do try{rS();break}catch(a){f0(t,a)}while(1);fd(),Vl.current=o,J=i,Pe!==null?e=0:(Fe=null,qe=0,e=$e)}if(e!==0){if(e===2&&(i=Th(t),i!==0&&(r=i,e=Xh(t,i))),e===1)throw n=Is,Dr(t,0),Un(t,r),vt(t,Se()),n;if(e===6)Un(t,r);else{if(i=t.current.alternate,!(r&30)&&!tS(i)&&(e=Ll(t,r),e===2&&(o=Th(t),o!==0&&(r=o,e=Xh(t,o))),e===1))throw n=Is,Dr(t,0),Un(t,r),vt(t,Se()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:Ir(t,dt,hn);break;case 3:if(Un(t,r),(r&130023424)===r&&(e=Rd+500-Se(),10<e)){if(_l(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kh(Ir.bind(null,t,dt,hn),e);break}Ir(t,dt,hn);break;case 4:if(Un(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-qt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eS(r/1960))-r,10<r){t.timeoutHandle=kh(Ir.bind(null,t,dt,hn),r);break}Ir(t,dt,hn);break;case 5:Ir(t,dt,hn);break;default:throw Error(A(329))}}}return vt(t,Se()),t.callbackNode===n?h0.bind(null,t):null}function Xh(t,e){var n=Yo;return t.current.memoizedState.isDehydrated&&(Dr(t,e).flags|=256),t=Ll(t,e),t!==2&&(e=dt,dt=n,e!==null&&Yh(e)),t}function Yh(t){dt===null?dt=t:dt.push.apply(dt,t)}function tS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Gt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Un(t,e){for(e&=~xd,e&=~Eu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qt(e),r=1<<n;t[n]=-1,e&=~r}}function yg(t){if(J&6)throw Error(A(327));ki();var e=_l(t,0);if(!(e&1))return vt(t,Se()),null;var n=Ll(t,e);if(t.tag!==0&&n===2){var r=Th(t);r!==0&&(e=r,n=Xh(t,r))}if(n===1)throw n=Is,Dr(t,0),Un(t,e),vt(t,Se()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ir(t,dt,hn),vt(t,Se()),null}function Ad(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&(Ui=Se()+500,gu&&pr())}}function br(t){Wn!==null&&Wn.tag===0&&!(J&6)&&ki();var e=J;J|=1;var n=Vt.transition,r=re;try{if(Vt.transition=null,re=1,t)return t()}finally{re=r,Vt.transition=n,J=e,!(J&6)&&pr()}}function Pd(){Et=Ti.current,de(Ti)}function Dr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NC(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(ud(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cl();break;case 3:bi(),de(mt),de(st),yd();break;case 5:vd(r);break;case 4:bi();break;case 13:de(ye);break;case 19:de(ye);break;case 10:dd(r.type._context);break;case 22:case 23:Pd()}n=n.return}if(Fe=t,Pe=t=tr(t.current,null),qe=Et=e,$e=0,Is=null,xd=Eu=Fr=0,dt=Yo=null,xr!==null){for(e=0;e<xr.length;e++)if(n=xr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}xr=null}return t}function f0(t,e){do{var n=Pe;try{if(fd(),il.current=Ol,Dl){for(var r=_e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dl=!1}if(jr=0,je=Ve=_e=null,Qo=!1,Es=0,Sd.current=null,n===null||n.return===null){$e=1,Is=e,Pe=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=qe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=og(s);if(p!==null){p.flags&=-257,sg(p,s,a,o,e),p.mode&1&&ig(o,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var E=new Set;E.add(l),e.updateQueue=E}else _.add(l);break e}else{if(!(e&1)){ig(o,u,e),kd();break e}l=Error(A(426))}}else if(ge&&a.mode&1){var w=og(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),sg(w,s,a,o,e),cd(Bi(l,a));break e}}o=l=Bi(l,a),$e!==4&&($e=2),Yo===null?Yo=[o]:Yo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=Q_(o,l,e);Ym(o,g);break e;case 1:a=l;var d=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Zn===null||!Zn.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=X_(o,a,e);Ym(o,T);break e}}o=o.return}while(o!==null)}m0(n)}catch(I){e=I,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(1)}function d0(){var t=Vl.current;return Vl.current=Ol,t===null?Ol:t}function kd(){($e===0||$e===3||$e===2)&&($e=4),Fe===null||!(Fr&268435455)&&!(Eu&268435455)||Un(Fe,qe)}function Ll(t,e){var n=J;J|=2;var r=d0();(Fe!==t||qe!==e)&&(hn=null,Dr(t,e));do try{nS();break}catch(i){f0(t,i)}while(1);if(fd(),J=n,Vl.current=r,Pe!==null)throw Error(A(261));return Fe=null,qe=0,$e}function nS(){for(;Pe!==null;)p0(Pe)}function rS(){for(;Pe!==null&&!AI();)p0(Pe)}function p0(t){var e=v0(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?m0(t):Pe=e,Sd.current=null}function m0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XC(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,Pe=null;return}}else if(n=QC(n,e,Et),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);$e===0&&($e=5)}function Ir(t,e,n){var r=re,i=Vt.transition;try{Vt.transition=null,re=1,iS(t,e,n,r)}finally{Vt.transition=i,re=r}return null}function iS(t,e,n,r){do ki();while(Wn!==null);if(J&6)throw Error(A(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jI(t,o),t===Fe&&(Pe=Fe=null,qe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ja||(ja=!0,y0(yl,function(){return ki(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Vt.transition,Vt.transition=null;var s=re;re=1;var a=J;J|=4,Sd.current=null,JC(t,n),u0(n,t),CC(Ah),El=!!Rh,Ah=Rh=null,t.current=n,ZC(n),PI(),J=a,re=s,Vt.transition=o}else t.current=n;if(ja&&(ja=!1,Wn=t,Ml=i),o=t.pendingLanes,o===0&&(Zn=null),DI(n.stateNode),vt(t,Se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,t=Gh,Gh=null,t;return Ml&1&&t.tag!==0&&ki(),o=t.pendingLanes,o&1?t===Qh?Jo++:(Jo=0,Qh=t):Jo=0,pr(),null}function ki(){if(Wn!==null){var t=Gy(Ml),e=Vt.transition,n=re;try{if(Vt.transition=null,re=16>t?16:t,Wn===null)var r=!1;else{if(t=Wn,Wn=null,Ml=0,J&6)throw Error(A(331));var i=J;for(J|=4,O=t.current;O!==null;){var o=O,s=o.child;if(O.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Xo(8,c,o)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var f=c.sibling,p=c.return;if(s0(c),c===u){O=null;break}if(f!==null){f.return=p,O=f;break}O=p}}}var _=o.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var w=E.sibling;E.sibling=null,E=w}while(E!==null)}}O=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,O=s;else e:for(;O!==null;){if(o=O,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xo(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,O=g;break e}O=o.return}}var d=t.current;for(O=d;O!==null;){s=O;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,O=v;else e:for(s=d;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_u(9,a)}}catch(I){Ie(a,a.return,I)}if(a===s){O=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,O=T;break e}O=a.return}}if(J=i,pr(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(hu,t)}catch{}r=!0}return r}finally{re=n,Vt.transition=e}}return!1}function _g(t,e,n){e=Bi(n,e),e=Q_(t,e,1),t=Jn(t,e,1),e=ct(),t!==null&&(Xs(t,1,e),vt(t,e))}function Ie(t,e,n){if(t.tag===3)_g(t,t,n);else for(;e!==null;){if(e.tag===3){_g(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zn===null||!Zn.has(r))){t=Bi(n,t),t=X_(e,t,1),e=Jn(e,t,1),t=ct(),e!==null&&(Xs(e,1,t),vt(e,t));break}}e=e.return}}function oS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ct(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&(qe&n)===n&&($e===4||$e===3&&(qe&130023424)===qe&&500>Se()-Rd?Dr(t,0):xd|=n),vt(t,e)}function g0(t,e){e===0&&(t.mode&1?(e=Aa,Aa<<=1,!(Aa&130023424)&&(Aa=4194304)):e=1);var n=ct();t=Sn(t,e),t!==null&&(Xs(t,e,n),vt(t,n))}function sS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),g0(t,n)}function aS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),g0(t,n)}var v0;v0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mt.current)pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pt=!1,GC(t,e,n);pt=!!(t.flags&131072)}else pt=!1,ge&&e.flags&1048576&&E_(e,Rl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sl(t,e),t=e.pendingProps;var i=Li(e,st.current);Pi(e,n),i=Ed(null,e,r,t,i,n);var o=wd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gt(r)?(o=!0,Sl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,md(e),i.updater=vu,e.stateNode=i,i._reactInternals=e,Lh(e,r,t,n),e=bh(null,e,r,!0,o,n)):(e.tag=0,ge&&o&&ld(e),lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=uS(r),t=Bt(r,t),i){case 0:e=Fh(null,e,r,t,n);break e;case 1:e=ug(null,e,r,t,n);break e;case 11:e=ag(null,e,r,t,n);break e;case 14:e=lg(null,e,r,Bt(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Fh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),ug(t,e,r,i,n);case 3:e:{if(e0(e),t===null)throw Error(A(387));r=e.pendingProps,o=e.memoizedState,i=o.element,C_(t,e),kl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Bi(Error(A(423)),e),e=cg(t,e,r,n,i);break e}else if(r!==i){i=Bi(Error(A(424)),e),e=cg(t,e,r,n,i);break e}else for(wt=Yn(e.stateNode.containerInfo.firstChild),Tt=e,ge=!0,zt=null,n=A_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ji(),r===i){e=xn(t,e,n);break e}lt(t,e,r,n)}e=e.child}return e;case 5:return P_(e),t===null&&Vh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ph(r,i)?s=null:o!==null&&Ph(r,o)&&(e.flags|=32),Z_(t,e),lt(t,e,s,n),e.child;case 6:return t===null&&Vh(e),null;case 13:return t0(t,e,n);case 4:return gd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fi(e,null,r,n):lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),ag(t,e,r,i,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,le(Al,r._currentValue),r._currentValue=s,o!==null)if(Gt(o.value,s)){if(o.children===i.children&&!mt.current){e=xn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=yn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$h(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(A(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),$h(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pi(e,n),i=$t(i),r=r(i),e.flags|=1,lt(t,e,r,n),e.child;case 14:return r=e.type,i=Bt(r,e.pendingProps),i=Bt(r.type,i),lg(t,e,r,i,n);case 15:return Y_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),sl(t,e),e.tag=1,gt(r)?(t=!0,Sl(e)):t=!1,Pi(e,n),x_(e,r,i),Lh(e,r,i,n),bh(null,e,r,!0,t,n);case 19:return n0(t,e,n);case 22:return J_(t,e,n)}throw Error(A(156,e.tag))};function y0(t,e){return Wy(t,e)}function lS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,n,r){return new lS(t,e,n,r)}function Nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uS(t){if(typeof t=="function")return Nd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xf)return 11;if(t===Yf)return 14}return 2}function tr(t,e){var n=t.alternate;return n===null?(n=Ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ul(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Nd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case fi:return Or(n.children,i,o,e);case Qf:s=8,i|=8;break;case ah:return t=Ot(12,n,e,i|2),t.elementType=ah,t.lanes=o,t;case lh:return t=Ot(13,n,e,i),t.elementType=lh,t.lanes=o,t;case uh:return t=Ot(19,n,e,i),t.elementType=uh,t.lanes=o,t;case Ry:return wu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sy:s=10;break e;case xy:s=9;break e;case Xf:s=11;break e;case Yf:s=14;break e;case jn:s=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Ot(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Or(t,e,n,r){return t=Ot(7,t,r,e),t.lanes=n,t}function wu(t,e,n,r){return t=Ot(22,t,r,e),t.elementType=Ry,t.lanes=n,t.stateNode={isHidden:!1},t}function Dc(t,e,n){return t=Ot(6,t,null,e),t.lanes=n,t}function Oc(t,e,n){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dc(0),this.expirationTimes=dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dd(t,e,n,r,i,o,s,a,l){return t=new cS(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ot(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},md(o),t}function hS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _0(t){if(!t)return ar;t=t._reactInternals;e:{if(Gr(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(gt(n))return y_(t,n,e)}return e}function E0(t,e,n,r,i,o,s,a,l){return t=Dd(n,r,!0,t,i,o,s,a,l),t.context=_0(null),n=t.current,r=ct(),i=er(n),o=yn(r,i),o.callback=e??null,Jn(n,o,i),t.current.lanes=i,Xs(t,i,r),vt(t,r),t}function Tu(t,e,n,r){var i=e.current,o=ct(),s=er(i);return n=_0(n),e.context===null?e.context=n:e.pendingContext=n,e=yn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jn(i,e,s),t!==null&&(Kt(t,i,s,o),rl(t,i,s)),s}function jl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Eg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Od(t,e){Eg(t,e),(t=t.alternate)&&Eg(t,e)}function fS(){return null}var w0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vd(t){this._internalRoot=t}Iu.prototype.render=Vd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));Tu(t,e,null,null)};Iu.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;br(function(){Tu(null,t,null,null)}),e[Cn]=null}};function Iu(t){this._internalRoot=t}Iu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bn.length&&e!==0&&e<Bn[n].priority;n++);Bn.splice(n,0,t),n===0&&Zy(t)}};function $d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wg(){}function dS(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=jl(s);o.call(u)}}var s=E0(e,r,t,0,null,!1,!1,"",wg);return t._reactRootContainer=s,t[Cn]=s.current,ms(t.nodeType===8?t.parentNode:t),br(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=jl(l);a.call(u)}}var l=Dd(t,0,!1,null,null,!1,!1,"",wg);return t._reactRootContainer=l,t[Cn]=l.current,ms(t.nodeType===8?t.parentNode:t),br(function(){Tu(e,l,n,r)}),l}function Su(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=jl(s);a.call(l)}}Tu(e,s,t,i)}else s=dS(n,e,t,i,r);return jl(s)}Qy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mo(e.pendingLanes);n!==0&&(ed(e,n|1),vt(e,Se()),!(J&6)&&(Ui=Se()+500,pr()))}break;case 13:br(function(){var r=Sn(t,1);if(r!==null){var i=ct();Kt(r,t,1,i)}}),Od(t,1)}};td=function(t){if(t.tag===13){var e=Sn(t,134217728);if(e!==null){var n=ct();Kt(e,t,134217728,n)}Od(t,134217728)}};Xy=function(t){if(t.tag===13){var e=er(t),n=Sn(t,e);if(n!==null){var r=ct();Kt(n,t,e,r)}Od(t,e)}};Yy=function(){return re};Jy=function(t,e){var n=re;try{return re=t,e()}finally{re=n}};_h=function(t,e,n){switch(e){case"input":if(fh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mu(r);if(!i)throw Error(A(90));Py(r),fh(r,i)}}}break;case"textarea":Ny(t,n);break;case"select":e=n.value,e!=null&&Si(t,!!n.multiple,e,!1)}};jy=Ad;Fy=br;var pS={usingClientEntryPoint:!1,Events:[Js,gi,mu,My,Ly,Ad]},Po={findFiberByHostInstance:Sr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mS={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Uy(t),t===null?null:t.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance||fS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{hu=Fa.inject(mS),rn=Fa}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pS;Rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(e))throw Error(A(200));return hS(t,e,null,n)};Rt.createRoot=function(t,e){if(!$d(t))throw Error(A(299));var n=!1,r="",i=w0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dd(t,1,!1,null,null,n,!1,r,i),t[Cn]=e.current,ms(t.nodeType===8?t.parentNode:t),new Vd(e)};Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=Uy(e),t=t===null?null:t.stateNode,t};Rt.flushSync=function(t){return br(t)};Rt.hydrate=function(t,e,n){if(!Cu(e))throw Error(A(200));return Su(null,t,e,!0,n)};Rt.hydrateRoot=function(t,e,n){if(!$d(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=w0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=E0(e,null,t,1,n??null,i,!1,o,s),t[Cn]=e.current,ms(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Iu(e)};Rt.render=function(t,e,n){if(!Cu(e))throw Error(A(200));return Su(null,t,e,!1,n)};Rt.unmountComponentAtNode=function(t){if(!Cu(t))throw Error(A(40));return t._reactRootContainer?(br(function(){Su(null,null,t,!1,function(){t._reactRootContainer=null,t[Cn]=null})}),!0):!1};Rt.unstable_batchedUpdates=Ad;Rt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cu(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return Su(t,e,n,!1,r)};Rt.version="18.2.0-next-9e3b772b8-20220608";function T0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T0)}catch(t){console.error(t)}}T0(),Ey.exports=Rt;var I0=Ey.exports;const Ii=Gs(I0);var Tg=I0;oh.createRoot=Tg.createRoot,oh.hydrateRoot=Tg.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cs.apply(this,arguments)}var Hn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hn||(Hn={}));const Ig="popstate";function gS(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Jh("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fl(i)}return yS(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Md(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vS(){return Math.random().toString(36).substr(2,8)}function Cg(t,e){return{usr:t.state,key:t.key,idx:e}}function Jh(t,e,n,r){return n===void 0&&(n=null),Cs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?so(e):e,{state:n,key:e&&e.key||r||vS()})}function Fl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function so(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Hn.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Cs({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Hn.Pop;let w=c(),g=w==null?null:w-u;u=w,l&&l({action:a,location:E.location,delta:g})}function f(w,g){a=Hn.Push;let d=Jh(E.location,w,g);n&&n(d,w),u=c()+1;let v=Cg(d,u),T=E.createHref(d);try{s.pushState(v,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(T)}o&&l&&l({action:a,location:E.location,delta:1})}function p(w,g){a=Hn.Replace;let d=Jh(E.location,w,g);n&&n(d,w),u=c();let v=Cg(d,u),T=E.createHref(d);s.replaceState(v,"",T),o&&l&&l({action:a,location:E.location,delta:0})}function _(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof w=="string"?w:Fl(w);return De(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let E={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ig,h),l=w,()=>{i.removeEventListener(Ig,h),l=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let g=_(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return s.go(w)}};return E}var Sg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sg||(Sg={}));function _S(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?so(e):e,i=Ld(r.pathname||"/",n);if(i==null)return null;let o=C0(t);ES(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=PS(o[a],DS(i));return s}function C0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(De(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=nr([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(De(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),C0(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:RS(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of S0(o.path))i(o,s,l)}),e}function S0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=S0(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ES(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wS=/^:\w+$/,TS=3,IS=2,CS=1,SS=10,xS=-2,xg=t=>t==="*";function RS(t,e){let n=t.split("/"),r=n.length;return n.some(xg)&&(r+=xS),e&&(r+=IS),n.filter(i=>!xg(i)).reduce((i,o)=>i+(wS.test(o)?TS:o===""?CS:SS),r)}function AS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function PS(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=kS({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:nr([i,c.pathname]),pathnameBase:MS(nr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=nr([i,c.pathnameBase]))}return o}function kS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=OS(a[h]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function NS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Md(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DS(t){try{return decodeURI(t)}catch(e){return Md(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function OS(t,e){try{return decodeURIComponent(t)}catch(n){return Md(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ld(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?so(t):t;return{pathname:n?n.startsWith("/")?n:$S(n,e):e,search:LS(r),hash:jS(i)}}function $S(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=so(t):(i=Cs({},t),De(!i.pathname||!i.pathname.includes("?"),Vc("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),Vc("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),Vc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let h=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=VS(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const nr=t=>t.join("/").replace(/\/\/+/g,"/"),MS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const A0=["post","put","patch","delete"];new Set(A0);const bS=["get",...A0];new Set(bS);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}const jd=m.createContext(null),P0=m.createContext(null),Qr=m.createContext(null),xu=m.createContext(null),mr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),k0=m.createContext(null);function BS(t,e){let{relative:n}=e===void 0?{}:e;ea()||De(!1);let{basename:r,navigator:i}=m.useContext(Qr),{hash:o,pathname:s,search:a}=Fd(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:nr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function ea(){return m.useContext(xu)!=null}function ta(){return ea()||De(!1),m.useContext(xu).location}function N0(t){m.useContext(Qr).static||m.useLayoutEffect(t)}function US(){let{isDataRoute:t}=m.useContext(mr);return t?tx():zS()}function zS(){ea()||De(!1);let t=m.useContext(jd),{basename:e,navigator:n}=m.useContext(Qr),{matches:r}=m.useContext(mr),{pathname:i}=ta(),o=JSON.stringify(x0(r).map(l=>l.pathnameBase)),s=m.useRef(!1);return N0(()=>{s.current=!0}),m.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=R0(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:nr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}function D0(){let{matches:t}=m.useContext(mr),e=t[t.length-1];return e?e.params:{}}function Fd(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=m.useContext(mr),{pathname:i}=ta(),o=JSON.stringify(x0(r).map(s=>s.pathnameBase));return m.useMemo(()=>R0(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function WS(t,e){return HS(t,e)}function HS(t,e,n){ea()||De(!1);let{navigator:r}=m.useContext(Qr),{matches:i}=m.useContext(mr),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=ta(),u;if(e){var c;let E=typeof e=="string"?so(e):e;a==="/"||(c=E.pathname)!=null&&c.startsWith(a)||De(!1),u=E}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",p=_S(t,{pathname:f}),_=XS(p&&p.map(E=>Object.assign({},E,{params:Object.assign({},s,E.params),pathname:nr([a,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?a:nr([a,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n);return e&&_?m.createElement(xu.Provider,{value:{location:bl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Hn.Pop}},_):_}function qS(){let t=ex(),e=FS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,o)}const KS=m.createElement(qS,null);class GS extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?m.createElement(mr.Provider,{value:this.props.routeContext},m.createElement(k0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QS(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(jd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(mr.Provider,{value:e},r)}function XS(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||De(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,h=null;n&&(h=l.route.errorElement||KS);let f=e.concat(o.slice(0,u+1)),p=()=>{let _;return c?_=h:l.route.Component?_=m.createElement(l.route.Component,null):l.route.element?_=l.route.element:_=a,m.createElement(QS,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:_})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?m.createElement(GS,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var Zh;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Zh||(Zh={}));var Ss;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Ss||(Ss={}));function YS(t){let e=m.useContext(jd);return e||De(!1),e}function JS(t){let e=m.useContext(P0);return e||De(!1),e}function ZS(t){let e=m.useContext(mr);return e||De(!1),e}function O0(t){let e=ZS(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function ex(){var t;let e=m.useContext(k0),n=JS(Ss.UseRouteError),r=O0(Ss.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function tx(){let{router:t}=YS(Zh.UseNavigateStable),e=O0(Ss.UseNavigateStable),n=m.useRef(!1);return N0(()=>{n.current=!0}),m.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,bl({fromRouteId:e},o)))},[t,e])}function Ln(t){De(!1)}function nx(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Hn.Pop,navigator:o,static:s=!1}=t;ea()&&De(!1);let a=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=so(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:p="default"}=r,_=m.useMemo(()=>{let E=Ld(u,a);return E==null?null:{location:{pathname:E,search:c,hash:h,state:f,key:p},navigationType:i}},[a,u,c,h,f,p,i]);return _==null?null:m.createElement(Qr.Provider,{value:l},m.createElement(xu.Provider,{children:n,value:_}))}function rx(t){let{children:e,location:n}=t;return WS(ef(e),n)}var Rg;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Rg||(Rg={}));new Promise(()=>{});function ef(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;let o=[...e,i];if(r.type===m.Fragment){n.push.apply(n,ef(r.props.children,o));return}r.type!==Ln&&De(!1),!r.props.index||!r.props.children||De(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=ef(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bl(){return Bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bl.apply(this,arguments)}function V0(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ix(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ox(t,e){return t.button===0&&(!e||e==="_self")&&!ix(t)}const sx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ax=["aria-current","caseSensitive","className","end","style","to","children"],lx="startTransition",Ag=sI[lx];function ux(t){let{basename:e,children:n,future:r,window:i}=t,o=m.useRef();o.current==null&&(o.current=gS({window:i,v5Compat:!0}));let s=o.current,[a,l]=m.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=m.useCallback(h=>{u&&Ag?Ag(()=>l(h)):l(h)},[l,u]);return m.useLayoutEffect(()=>s.listen(c),[s,c]),m.createElement(nx,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}const cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xs=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=e,h=V0(e,sx),{basename:f}=m.useContext(Qr),p,_=!1;if(typeof u=="string"&&hx.test(u)&&(p=u,cx))try{let d=new URL(window.location.href),v=u.startsWith("//")?new URL(d.protocol+u):new URL(u),T=Ld(v.pathname,f);v.origin===d.origin&&T!=null?u=T+v.search+v.hash:_=!0}catch{}let E=BS(u,{relative:i}),w=fx(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function g(d){r&&r(d),d.defaultPrevented||w(d)}return m.createElement("a",Bl({},h,{href:p||E,onClick:_||o?r:g,ref:n,target:l}))}),Mn=m.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,children:u}=e,c=V0(e,ax),h=Fd(l,{relative:c.relative}),f=ta(),p=m.useContext(P0),{navigator:_}=m.useContext(Qr),E=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,w=f.pathname,g=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(w=w.toLowerCase(),g=g?g.toLowerCase():null,E=E.toLowerCase());let d=w===E||!s&&w.startsWith(E)&&w.charAt(E.length)==="/",v=g!=null&&(g===E||!s&&g.startsWith(E)&&g.charAt(E.length)==="/"),T=d?r:void 0,I;typeof o=="function"?I=o({isActive:d,isPending:v}):I=[o,d?"active":null,v?"pending":null].filter(Boolean).join(" ");let C=typeof a=="function"?a({isActive:d,isPending:v}):a;return m.createElement(xs,Bl({},c,{"aria-current":T,className:I,ref:n,style:C,to:l}),typeof u=="function"?u({isActive:d,isPending:v}):u)});var Pg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Pg||(Pg={}));var kg;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kg||(kg={}));function fx(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=US(),l=ta(),u=Fd(t,{relative:s});return m.useCallback(c=>{if(ox(c,n)){c.preventDefault();let h=r!==void 0?r:Fl(l)===Fl(u);a(t,{replace:h,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}function dx(){return y.jsxs("div",{className:"conocenos-container",children:[y.jsx("h2",{className:"conocenos-title",children:"Conocenos"}),y.jsx("div",{className:"conocenos-parrafo",children:y.jsx("p",{children:"En un pequeño y encantador pueblo, vivía Benjamin Baez, un apasionado entusiasta de la tecnología desde muy joven. Su fascinación por los teléfonos celulares y su capacidad para conectar a las personas en todo el mundo nunca dejó de crecer. A medida que el tiempo pasaba, Benjamin se dio cuenta de que no había una tienda especializada en la venta de celulares y accesorios en su comunidad.Impulsado por su visión y entusiasmo, decidió embarcarse en la emocionante aventura de abrir su propia tienda de celulares. Con ahorros limitados pero una gran determinación, Benjamin alquiló un pequeño local en el corazón del pueblo. Con sus propias manos, transformó el lugar en una tienda acogedora y moderna.Benjamin se esforzó por ofrecer la mejor selección de teléfonos, desde modelos básicos y asequibles hasta los últimos avances tecnológicos. También buscó los accesorios más novedosos para complementar la experiencia de los clientes.Los comienzos fueron desafiantes, ya que algunos habitantes del pueblo aún se mostraban reticentes ante la nueva tecnología. Pero Benjamin no se desanimó; en cambio, veía cada reto como una oportunidad para educar y mostrar a la gente las ventajas que los teléfonos celulares podían brindarles.Con paciencia y dedicación, la tienda de Benjamin comenzó a ganarse la confianza de la comunidad. Siempre dispuesto a escuchar y entender las necesidades de sus clientes, Benjamin ofrecía asesoramiento personalizado y soporte técnico que dejaba a todos satisfechos.Con el boca a boca y las recomendaciones de sus clientes, la tienda de Benjamin fue ganando popularidad. A medida que crecía la demanda, pudo expandirse y abrir nuevas sucursales en pueblos cercanos. Contrató a un equipo de empleados apasionados por la tecnología, a quienes capacitó para brindar el mismo nivel de servicio excepcional que él había establecido como estándar.Sin embargo, Benjamin no se detuvo allí. Con el advenimiento de las redes sociales y el auge del comercio electrónico, decidió llevar su negocio al mundo en línea. Creó un sitio web interactivo y una plataforma de comercio electrónico que permitía a personas de todo el país comprar en su tienda.La tienda de Benjamin continuó prosperando a lo largo de los años. Siempre adaptándose a las últimas tendencias y avances tecnológicos, expandió su oferta para incluir servicios de reparación de teléfonos y planes de telefonía móvil. Además, estableció relaciones comerciales con empresas locales para proporcionar soluciones móviles para sus empleados.Hoy en día, la tienda de Benjamin Baez es una marca reconocida y respetada en la industria. Su dedicación a la excelencia en el servicio al cliente y su pasión por la tecnología han sido la clave de su éxito continuo. Su tienda sigue siendo un lugar donde la gente acude no solo para comprar un teléfono, sino también para recibir asesoramiento experto y experimentar un servicio amigable y confiable.La historia de Benjamin Baez y su tienda de celulares es una inspiradora muestra de cómo la pasión, la perseverancia y la visión pueden llevar a un pequeño negocio a convertirse en un pilar de su comunidad y más allá."})})]})}var $0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})($0);var px=$0.exports;const Q=Gs(px),mx=["as","disabled"];function gx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vx(t){return!t||t.trim()==="#"}function bd({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=f=>{if((e||t==="a"&&vx(n))&&f.preventDefault(),e){f.stopPropagation();return}s==null||s(f)},h=f=>{f.key===" "&&(f.preventDefault(),c(f))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:h},u]}const Bd=m.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=gx(t,mx);const[o,{tagName:s}]=bd(Object.assign({tagName:n,disabled:r},i));return y.jsx(s,Object.assign({},i,o,{ref:e}))});Bd.displayName="Button";const yx=["xxl","xl","lg","md","sm","xs"],_x="xs",Ru=m.createContext({prefixes:{},breakpoints:yx,minBreakpoint:_x});function ie(t,e){const{prefixes:n}=m.useContext(Ru);return t||n[e]||e}function M0(){const{breakpoints:t}=m.useContext(Ru);return t}function L0(){const{minBreakpoint:t}=m.useContext(Ru);return t}function Ex(){const{dir:t}=m.useContext(Ru);return t==="rtl"}const j0=m.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{const u=ie(e,"btn"),[c,{tagName:h}]=bd({tagName:t,disabled:o,...a}),f=h;return y.jsx(f,{...c,...a,ref:l,disabled:o,className:Q(s,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&o&&"disabled")})});j0.displayName="Button";const F0=j0;function wx({as:t,bsPrefix:e,className:n,...r}){e=ie(e,"col");const i=M0(),o=L0(),s=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,h,f;typeof u=="object"&&u!=null?{span:c,offset:h,order:f}=u:c=u;const p=l!==o?`-${l}`:"";c&&s.push(c===!0?`${e}${p}`:`${e}${p}-${c}`),f!=null&&a.push(`order${p}-${f}`),h!=null&&a.push(`offset${p}-${h}`)}),[{...r,className:Q(n,...s,...a)},{as:t,bsPrefix:e,spans:s}]}const b0=m.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=wx(t);return y.jsx(i,{...r,ref:e,className:Q(n,!s.length&&o)})});b0.displayName="Col";const li=b0;var B0={exports:{}},Tx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ix=Tx,Cx=Ix;function U0(){}function z0(){}z0.resetWarningCache=U0;var Sx=function(){function t(r,i,o,s,a,l){if(l!==Cx){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:z0,resetWarningCache:U0};return n.PropTypes=n,n};B0.exports=Sx();var xx=B0.exports;const _n=Gs(xx),Rx={type:_n.string,tooltip:_n.bool,as:_n.elementType},Ud=m.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},o)=>y.jsx(t,{...i,ref:o,className:Q(e,`${n}-${r?"tooltip":"feedback"}`)}));Ud.displayName="Feedback";Ud.propTypes=Rx;const W0=Ud,Ax=m.createContext({}),Rn=Ax,H0=m.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:s="input",...a},l)=>{const{controlId:u}=m.useContext(Rn);return e=ie(e,"form-check-input"),y.jsx(s,{...a,ref:l,type:r,id:t||u,className:Q(n,e,i&&"is-valid",o&&"is-invalid")})});H0.displayName="FormCheckInput";const q0=H0,K0=m.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:o}=m.useContext(Rn);return t=ie(t,"form-check-label"),y.jsx("label",{...r,ref:i,htmlFor:n||o,className:Q(e,t)})});K0.displayName="FormCheckLabel";const tf=K0;function Px(t,e){return m.Children.toArray(t).some(n=>m.isValidElement(n)&&n.type===e)}const G0=m.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:s=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:h,style:f,title:p="",type:_="checkbox",label:E,children:w,as:g="input",...d},v)=>{e=ie(e,"form-check"),n=ie(n,"form-switch");const{controlId:T}=m.useContext(Rn),I=m.useMemo(()=>({controlId:t||T}),[T,t]),C=!w&&E!=null&&E!==!1||Px(w,tf),S=y.jsx(q0,{...d,type:_==="switch"?"checkbox":_,ref:v,isValid:s,isInvalid:a,disabled:o,as:g});return y.jsx(Rn.Provider,{value:I,children:y.jsx("div",{style:f,className:Q(h,C&&e,r&&`${e}-inline`,i&&`${e}-reverse`,_==="switch"&&n),children:w||y.jsxs(y.Fragment,{children:[S,C&&y.jsx(tf,{title:p,children:E}),u&&y.jsx(W0,{type:c,tooltip:l,children:u})]})})})});G0.displayName="FormCheck";const Ul=Object.assign(G0,{Input:q0,Label:tf});var kx=function(){},Nx=kx;const Dx=Gs(Nx),Q0=m.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:o,isValid:s=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...h},f)=>{const{controlId:p}=m.useContext(Rn);t=ie(t,"form-control");let _;return l?_={[`${t}-plaintext`]:!0}:_={[t]:!0,[`${t}-${n}`]:n},y.jsx(c,{...h,type:e,size:r,ref:f,readOnly:u,id:i||p,className:Q(o,_,s&&"is-valid",a&&"is-invalid",e==="color"&&`${t}-color`)})});Q0.displayName="FormControl";const Ox=Object.assign(Q0,{Feedback:W0});var Vx=/-(.)/g;function $x(t){return t.replace(Vx,function(e,n){return n.toUpperCase()})}const Mx=t=>t[0].toUpperCase()+$x(t).slice(1);function gr(t,{displayName:e=Mx(t),Component:n,defaultProps:r}={}){const i=m.forwardRef(({className:o,bsPrefix:s,as:a=n||"div",...l},u)=>{const c={...r,...l},h=ie(s,t);return y.jsx(a,{ref:u,className:Q(o,h),...c})});return i.displayName=e,i}const Lx=gr("form-floating"),X0=m.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=m.useMemo(()=>({controlId:t}),[t]);return y.jsx(Rn.Provider,{value:i,children:y.jsx(e,{...n,ref:r})})});X0.displayName="FormGroup";const Y0=X0,J0=m.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...s},a)=>{const{controlId:l}=m.useContext(Rn);e=ie(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=Q(i,e,r&&"visually-hidden",n&&u);return o=o||l,n?y.jsx(li,{ref:a,as:"label",className:c,htmlFor:o,...s}):y.jsx(t,{ref:a,className:c,htmlFor:o,...s})});J0.displayName="FormLabel";const jx=J0,Z0=m.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:o}=m.useContext(Rn);return t=ie(t,"form-range"),y.jsx("input",{...r,type:"range",ref:i,className:Q(e,t),id:n||o})});Z0.displayName="FormRange";const Fx=Z0,eE=m.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:o=!1,id:s,...a},l)=>{const{controlId:u}=m.useContext(Rn);return t=ie(t,"form-select"),y.jsx("select",{...a,size:n,ref:l,className:Q(r,t,e&&`${t}-${e}`,i&&"is-valid",o&&"is-invalid"),id:s||u})});eE.displayName="FormSelect";const bx=eE,tE=m.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},o)=>(t=ie(t,"form-text"),y.jsx(n,{...i,ref:o,className:Q(e,t,r&&"text-muted")})));tE.displayName="FormText";const Bx=tE,nE=m.forwardRef((t,e)=>y.jsx(Ul,{...t,ref:e,type:"switch"}));nE.displayName="Switch";const Ux=Object.assign(nE,{Input:Ul.Input,Label:Ul.Label}),rE=m.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...o},s)=>(t=ie(t,"form-floating"),y.jsxs(Y0,{ref:s,className:Q(e,t),controlId:r,...o,children:[n,y.jsx("label",{htmlFor:r,children:i})]})));rE.displayName="FloatingLabel";const zx=rE,Wx={_ref:_n.any,validated:_n.bool,as:_n.elementType},zd=m.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>y.jsx(n,{...r,ref:i,className:Q(t,e&&"was-validated")}));zd.displayName="Form";zd.propTypes=Wx;const me=Object.assign(zd,{Group:Y0,Control:Ox,Floating:Lx,Check:Ul,Switch:Ux,Label:jx,Text:Bx,Range:Fx,Select:bx,FloatingLabel:zx}),iE=m.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=ie(t,"row"),s=M0(),a=L0(),l=`${o}-cols`,u=[];return s.forEach(c=>{const h=r[c];delete r[c];let f;h!=null&&typeof h=="object"?{cols:f}=h:f=h;const p=c!==a?`-${c}`:"";f!=null&&u.push(`${l}${p}-${f}`)}),y.jsx(n,{ref:i,...r,className:Q(e,o,...u)})});iE.displayName="Row";const Ng=iE;function Hx(){return y.jsxs("div",{className:"container-formulario",children:[y.jsx("div",{children:y.jsx("h2",{children:"Registrate aquí!"})}),y.jsx("div",{className:"formulario",children:y.jsxs(me,{children:[y.jsxs(Ng,{className:"mb-3",children:[y.jsxs(me.Group,{as:li,controlId:"formGridEmail",children:[y.jsx(me.Label,{children:"Email"}),y.jsx(me.Control,{type:"email",placeholder:"Enter email"})]}),y.jsxs(me.Group,{as:li,controlId:"formGridPassword",children:[y.jsx(me.Label,{children:"Password"}),y.jsx(me.Control,{type:"password",placeholder:"Password"})]})]}),y.jsxs(me.Group,{className:"mb-3",controlId:"formGridAddress1",children:[y.jsx(me.Label,{children:"Address"}),y.jsx(me.Control,{placeholder:"1234 Main St"})]}),y.jsxs(me.Group,{className:"mb-3",controlId:"formGridAddress2",children:[y.jsx(me.Label,{children:"Address 2"}),y.jsx(me.Control,{placeholder:"Apartment, studio, or floor"})]}),y.jsxs(Ng,{className:"mb-3",children:[y.jsxs(me.Group,{as:li,controlId:"formGridCity",children:[y.jsx(me.Label,{children:"City"}),y.jsx(me.Control,{})]}),y.jsxs(me.Group,{as:li,controlId:"formGridState",children:[y.jsx(me.Label,{children:"State"}),y.jsxs(me.Select,{defaultValue:"Choose...",children:[y.jsx("option",{children:"Choose..."}),y.jsx("option",{children:"..."})]})]}),y.jsxs(me.Group,{as:li,controlId:"formGridZip",children:[y.jsx(me.Label,{children:"Zip"}),y.jsx(me.Control,{})]})]}),y.jsx(me.Group,{className:"mb-3",id:"formGridCheckbox",children:y.jsx(me.Check,{type:"checkbox",label:"Check me out"})}),y.jsx(F0,{variant:"primary",type:"submit",children:"Submit"})]})})]})}const ao=m.createContext(),qx=({children:t})=>{const[e,n]=m.useState([]);console.log(e);const r=(u,c)=>{o(u.id)?n(e.map(h=>h.id===u.id?{...h,quantity:h.quantity+c}:h)):n([...e,{...u,quantity:c}])},i=()=>{n([])},o=u=>e.some(c=>c.id===u),s=u=>{n(e.filter(c=>c.id!==u))},a=()=>e.reduce((u,c)=>u+c.quantity,0),l=()=>e.reduce((u,c)=>u+c.quantity*c.precio,0);return y.jsx(ao.Provider,{value:{cart:e,addItem:r,clear:i,isInCart:o,deleteItem:s,cartCantidad:a,total:l},children:t})};const oE=m.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},o)=>{const s=ie(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return y.jsx(n,{ref:o,...i,className:Q(r,e?`${s}${a}`:s)})});oE.displayName="Container";const Kx=oE;var Dg={exports:{}},nf={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(s,a,l,u,c,h){var f=u||"<<anonymous>>",p=h||l;if(a[l]==null)return s?new Error("Required "+c+" `"+p+"` was not specified "+("in `"+f+"`.")):null;for(var _=arguments.length,E=Array(_>6?_-6:0),w=6;w<_;w++)E[w-6]=arguments[w];return r.apply(void 0,[a,l,f,c,p].concat(E))}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}t.exports=e.default})(nf,nf.exports);var Gx=nf.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=Gx,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function o(){for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];function u(){for(var c=arguments.length,h=Array(c),f=0;f<c;f++)h[f]=arguments[f];var p=null;return a.forEach(function(_){if(p==null){var E=_.apply(void 0,h);E!=null&&(p=E)}}),p}return(0,r.default)(u)}t.exports=e.default})(Dg,Dg.exports);function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(this,arguments)}function sE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Og(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Qx(t){var e=Xx(t,"string");return typeof e=="symbol"?e:String(e)}function Xx(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yx(t,e,n){var r=m.useRef(t!==void 0),i=m.useState(e),o=i[0],s=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&o!==e&&s(e),[a?t:o,m.useCallback(function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(h)),s(u)},[n])]}function Wd(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[Og(r)],a=o[r],l=sE(o,[Og(r),r].map(Qx)),u=e[r],c=Yx(a,s,t[u]),h=c[0],f=c[1];return rf({},l,(i={},i[r]=h,i[u]=f,i))},t)}function of(t,e){return of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},of(t,e)}function Jx(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,of(t,e)}var Zx=Function.prototype.bind.call(Function.prototype.call,[].slice);function dn(t,e){return Zx(t.querySelectorAll(e))}function aE(){const[,t]=m.useReducer(e=>!e,!1);return t}const Vg=t=>!t||typeof t=="function"?t:e=>{t.current=e};function eR(t,e){const n=Vg(t),r=Vg(e);return i=>{n&&n(i),r&&r(i)}}function lo(t,e){return m.useMemo(()=>eR(t,e),[t,e])}const lE=m.createContext(null);lE.displayName="NavContext";const Hd=lE,tR=m.createContext(null),Rs=(t,e=null)=>t!=null?String(t):e||null,Br=tR,nR=m.createContext(null),uE=nR,rR="data-rr-ui-",iR="rrUi";function uo(t){return`${rR}${t}`}function oR(t){return`${iR}${t}`}function sR(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t},[t]),e}function ke(t){const e=sR(t);return m.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const aR=["as","active","eventKey"];function lR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cE({key:t,onClick:e,active:n,id:r,role:i,disabled:o}){const s=m.useContext(Br),a=m.useContext(Hd),l=m.useContext(uE);let u=n;const c={role:i};if(a){!i&&a.role==="tablist"&&(c.role="tab");const h=a.getControllerId(t??null),f=a.getControlledId(t??null);c[uo("event-key")]=t,c.id=h||r,u=n==null&&t!=null?a.activeKey===t:n,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=f)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),o&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=ke(h=>{o||(e==null||e(h),t!=null&&s&&!h.isPropagationStopped()&&s(t,h))}),[c,{isActive:u}]}const hE=m.forwardRef((t,e)=>{let{as:n=Bd,active:r,eventKey:i}=t,o=lR(t,aR);const[s,a]=cE(Object.assign({key:Rs(i,o.href),active:r},o));return s[uo("active")]=a.isActive,y.jsx(n,Object.assign({},o,s,{ref:e}))});hE.displayName="NavItem";const uR=hE,cR=["as","onSelect","activeKey","role","onKeyDown"];function hR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const $g=()=>{},Mg=uo("event-key"),fE=m.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:s}=t,a=hR(t,cR);const l=aE(),u=m.useRef(!1),c=m.useContext(Br),h=m.useContext(uE);let f,p;h&&(o=o||"tablist",i=h.activeKey,f=h.getControlledId,p=h.getControllerId);const _=m.useRef(null),E=v=>{const T=_.current;if(!T)return null;const I=dn(T,`[${Mg}]:not([aria-disabled=true])`),C=T.querySelector("[aria-selected=true]");if(!C||C!==document.activeElement)return null;const S=I.indexOf(C);if(S===-1)return null;let R=S+v;return R>=I.length&&(R=0),R<0&&(R=I.length-1),I[R]},w=(v,T)=>{v!=null&&(r==null||r(v,T),c==null||c(v,T))},g=v=>{if(s==null||s(v),!h)return;let T;switch(v.key){case"ArrowLeft":case"ArrowUp":T=E(-1);break;case"ArrowRight":case"ArrowDown":T=E(1);break;default:return}T&&(v.preventDefault(),w(T.dataset[oR("EventKey")]||null,v),u.current=!0,l())};m.useEffect(()=>{if(_.current&&u.current){const v=_.current.querySelector(`[${Mg}][aria-selected=true]`);v==null||v.focus()}u.current=!1});const d=lo(e,_);return y.jsx(Br.Provider,{value:w,children:y.jsx(Hd.Provider,{value:{role:o,activeKey:Rs(i),getControlledId:f||$g,getControllerId:p||$g},children:y.jsx(n,Object.assign({},a,{onKeyDown:g,ref:d,role:o}))})})});fE.displayName="Nav";const fR=Object.assign(fE,{Item:uR}),dE=m.createContext(null);dE.displayName="NavbarContext";const Xr=dE,pE=m.createContext(null);pE.displayName="CardHeaderContext";const dR=pE,pR=gr("nav-item");function mR(){return m.useState(null)}function gR(t,e,n,r=!1){const i=ke(n);m.useEffect(()=>{const o=typeof t=="function"?t():t;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[t])}function mE(){const t=m.useRef(!0),e=m.useRef(()=>t.current);return m.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function gE(t){const e=m.useRef(null);return m.useEffect(()=>{e.current=t}),e.current}const vR=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",yR=typeof document<"u",zl=yR||vR?m.useLayoutEffect:m.useEffect,_R=["onKeyDown"];function ER(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wR(t){return!t||t.trim()==="#"}const vE=m.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=ER(t,_R);const[i]=bd(Object.assign({tagName:"a"},r)),o=ke(s=>{i.onKeyDown(s),n==null||n(s)});return wR(r.href)||r.role==="button"?y.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):y.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});vE.displayName="Anchor";const yE=vE,_E=m.forwardRef(({bsPrefix:t,className:e,as:n=yE,active:r,eventKey:i,disabled:o=!1,...s},a)=>{t=ie(t,"nav-link");const[l,u]=cE({key:Rs(i,s.href),active:r,disabled:o,...s});return y.jsx(n,{...s,...l,ref:a,disabled:o,className:Q(e,t,o&&"disabled",u.isActive&&"active")})});_E.displayName="NavLink";const EE=_E,wE=m.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:o=!1,justify:s=!1,navbar:a,navbarScroll:l,className:u,activeKey:c,...h}=Wd(t,{activeKey:"onSelect"}),f=ie(r,"nav");let p,_,E=!1;const w=m.useContext(Xr),g=m.useContext(dR);return w?(p=w.bsPrefix,E=a??!0):g&&({cardHeaderBsPrefix:_}=g),y.jsx(fR,{as:n,ref:e,activeKey:c,className:Q(u,{[f]:!E,[`${p}-nav`]:E,[`${p}-nav-scroll`]:E&&l,[`${_}-${i}`]:!!_,[`${f}-${i}`]:!!i,[`${f}-fill`]:o,[`${f}-justified`]:s}),...h})});wE.displayName="Nav";const $c=Object.assign(wE,{Item:pR,Link:EE}),TE=m.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ie(t,"navbar-brand");const o=n||(r.href?"a":"span");return y.jsx(o,{...r,ref:i,className:Q(e,t)})});TE.displayName="NavbarBrand";const TR=TE;function Au(t){return t&&t.ownerDocument||document}function IR(t){var e=Au(t);return e&&e.defaultView||window}function CR(t,e){return IR(t).getComputedStyle(t,e)}var SR=/([A-Z])/g;function xR(t){return t.replace(SR,"-$1").toLowerCase()}var RR=/^ms-/;function ba(t){return xR(t).replace(RR,"-ms-")}var AR=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function PR(t){return!!(t&&AR.test(t))}function En(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(ba(e))||CR(t).getPropertyValue(ba(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(ba(i)):PR(i)?r+=i+"("+o+") ":n+=ba(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}const Lg={disabled:!1},IE=He.createContext(null);var kR=function(e){return e.scrollTop},jo="unmounted",bn="exited",Wt="entering",pn="entered",As="exiting",Vn=function(t){Jx(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=bn,o.appearStatus=Wt):l=pn:r.unmountOnExit||r.mountOnEnter?l=jo:l=bn,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===jo?{status:bn}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Wt&&s!==pn&&(o=Wt):(s===Wt||s===pn)&&(o=As)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Wt){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Ii.findDOMNode(this);s&&kR(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===bn&&this.setState({status:jo})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ii.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),f=a?h.appear:h.enter;if(!i&&!s||Lg.disabled){this.safeSetState({status:pn},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Wt},function(){o.props.onEntering(u,c),o.onTransitionEnd(f,function(){o.safeSetState({status:pn},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:Ii.findDOMNode(this);if(!o||Lg.disabled){this.safeSetState({status:bn},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:As},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:bn},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Ii.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===jo)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=sE(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return He.createElement(IE.Provider,{value:null},typeof s=="function"?s(i,a):He.cloneElement(He.Children.only(s),a))},e}(He.Component);Vn.contextType=IE;Vn.propTypes={};function ii(){}Vn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ii,onEntering:ii,onEntered:ii,onExit:ii,onExiting:ii,onExited:ii};Vn.UNMOUNTED=jo;Vn.EXITED=bn;Vn.ENTERING=Wt;Vn.ENTERED=pn;Vn.EXITING=As;const NR=Vn,Pu=!!(typeof window<"u"&&window.document&&window.document.createElement);var sf=!1,af=!1;try{var Mc={get passive(){return sf=!0},get once(){return af=sf=!0}};Pu&&(window.addEventListener("test",Mc,Mc),window.removeEventListener("test",Mc,!0))}catch{}function CE(t,e,n,r){if(r&&typeof r!="boolean"&&!af){var i=r.once,o=r.capture,s=n;!af&&i&&(s=n.__once||function a(l){this.removeEventListener(e,a,o),n.call(this,l)},n.__once=s),t.addEventListener(e,s,sf?r:o)}t.addEventListener(e,n,r)}function DR(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function qn(t,e,n,r){return CE(t,e,n,r),function(){DR(t,e,n,r)}}function OR(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function VR(t){var e=En(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function $R(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||OR(t,"transitionend",!0)},e+n),o=qn(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function MR(t,e,n,r){n==null&&(n=VR(t)||0);var i=$R(t,n,r),o=qn(t,"transitionend",e);return function(){i(),o()}}function jg(t,e){const n=En(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function qd(t,e){const n=jg(t,"transitionDuration"),r=jg(t,"transitionDelay"),i=MR(t,o=>{o.target===t&&(i(),e(o))},n+r)}function ko(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function SE(t){t.offsetHeight}function LR(t){return t&&"setState"in t?Ii.findDOMNode(t):t??null}const jR=He.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:a,childRef:l,...u},c)=>{const h=m.useRef(null),f=lo(h,l),p=C=>{f(LR(C))},_=C=>S=>{C&&h.current&&C(h.current,S)},E=m.useCallback(_(t),[t]),w=m.useCallback(_(e),[e]),g=m.useCallback(_(n),[n]),d=m.useCallback(_(r),[r]),v=m.useCallback(_(i),[i]),T=m.useCallback(_(o),[o]),I=m.useCallback(_(s),[s]);return y.jsx(NR,{ref:c,...u,onEnter:E,onEntered:g,onEntering:w,onExit:d,onExited:T,onExiting:v,addEndListener:I,nodeRef:h,children:typeof a=="function"?(C,S)=>a(C,{...S,ref:p}):He.cloneElement(a,{ref:p})})}),Kd=jR,FR={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function bR(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=FR[t];return r+parseInt(En(e,i[0]),10)+parseInt(En(e,i[1]),10)}const BR={[bn]:"collapse",[As]:"collapsing",[Wt]:"collapsing",[pn]:"collapse show"},UR=He.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:a="height",in:l=!1,timeout:u=300,mountOnEnter:c=!1,unmountOnExit:h=!1,appear:f=!1,getDimensionValue:p=bR,..._},E)=>{const w=typeof a=="function"?a():a,g=m.useMemo(()=>ko(C=>{C.style[w]="0"},t),[w,t]),d=m.useMemo(()=>ko(C=>{const S=`scroll${w[0].toUpperCase()}${w.slice(1)}`;C.style[w]=`${C[S]}px`},e),[w,e]),v=m.useMemo(()=>ko(C=>{C.style[w]=null},n),[w,n]),T=m.useMemo(()=>ko(C=>{C.style[w]=`${p(w,C)}px`,SE(C)},r),[r,p,w]),I=m.useMemo(()=>ko(C=>{C.style[w]=null},i),[w,i]);return y.jsx(Kd,{ref:E,addEndListener:qd,..._,"aria-expanded":_.role?l:null,onEnter:g,onEntering:d,onEntered:v,onExit:T,onExiting:I,childRef:s.ref,in:l,timeout:u,mountOnEnter:c,unmountOnExit:h,appear:f,children:(C,S)=>He.cloneElement(s,{...S,className:Q(o,s.props.className,BR[C],w==="width"&&"collapse-horizontal")})})}),zR=UR,xE=m.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ie(e,"navbar-collapse");const i=m.useContext(Xr);return y.jsx(zR,{in:!!(i&&i.expanded),...n,children:y.jsx("div",{ref:r,className:e,children:t})})});xE.displayName="NavbarCollapse";const WR=xE,RE=m.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:o,...s},a)=>{t=ie(t,"navbar-toggler");const{onToggle:l,expanded:u}=m.useContext(Xr)||{},c=ke(h=>{o&&o(h),l&&l()});return i==="button"&&(s.type="button"),y.jsx(i,{...s,ref:a,onClick:c,"aria-label":r,className:Q(e,t,!u&&"collapsed"),children:n||y.jsx("span",{className:`${t}-icon`})})});RE.displayName="NavbarToggle";const HR=RE,lf=new WeakMap,Fg=(t,e)=>{if(!t||!e)return;const n=lf.get(e)||new Map;lf.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function qR(t,e=typeof window>"u"?void 0:window){const n=Fg(t,e),[r,i]=m.useState(()=>n?n.matches:!1);return zl(()=>{let o=Fg(t,e);if(!o)return i(!1);let s=lf.get(e);const a=()=>{i(o.matches)};return o.refCount++,o.addListener(a),a(),()=>{o.removeListener(a),o.refCount--,o.refCount<=0&&(s==null||s.delete(o.media)),o=void 0}},[t]),r}function KR(t){const e=Object.keys(t);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return e[Math.min(e.indexOf(a)+1,e.length-1)]}function i(a){const l=r(a);let u=t[l];return typeof u=="number"?u=`${u-.2}px`:u=`calc(${u} - 0.2px)`,`(max-width: ${u})`}function o(a){let l=t[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function s(a,l,u){let c;typeof a=="object"?(c=a,u=l,l=!0):(l=l||!0,c={[a]:l});let h=m.useMemo(()=>Object.entries(c).reduce((f,[p,_])=>((_==="up"||_===!0)&&(f=n(f,o(p))),(_==="down"||_===!0)&&(f=n(f,i(p))),f),""),[JSON.stringify(c)]);return qR(h,u)}return s}const GR=KR({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Lc(t){t===void 0&&(t=Au());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Wl(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function QR(t){const e=m.useRef(t);return e.current=t,e}function XR(t){const e=QR(t);m.useEffect(()=>()=>e.current(),[])}function YR(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const bg=uo("modal-open");class JR{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return YR(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(En(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(bg,""),En(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(bg),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Gd=JR,AE=m.createContext(Pu?window:void 0);AE.Provider;function ku(){return m.useContext(AE)}const jc=(t,e)=>Pu?t==null?(e||Au()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function ZR(t,e){const n=ku(),[r,i]=m.useState(()=>jc(t,n==null?void 0:n.document));if(!r){const o=jc(t);o&&i(o)}return m.useEffect(()=>{e&&r&&e(r)},[e,r]),m.useEffect(()=>{const o=jc(t);o!==r&&i(o)},[t,r]),r}function eA({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=m.useRef(null),s=m.useRef(e),a=ke(n);m.useEffect(()=>{e?s.current=!0:a(o.current)},[e,a]);const l=lo(o,t.ref),u=m.cloneElement(t,{ref:l});return e?u:i||!s.current&&r?null:u}function tA({in:t,onTransition:e}){const n=m.useRef(null),r=m.useRef(!0),i=ke(e);return zl(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),zl(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function nA({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=m.useState(!e);e&&o&&s(!1);const a=tA({in:!!e,onTransition:u=>{const c=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(s(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(c,h=>{throw u.in||s(!0),h})}}),l=lo(a,t.ref);return o&&!e?null:m.cloneElement(t,{ref:l})}function Bg(t,e,n){return t?y.jsx(t,Object.assign({},n)):e?y.jsx(nA,Object.assign({},n,{transition:e})):y.jsx(eA,Object.assign({},n))}function rA(t){return t.code==="Escape"||t.keyCode===27}const iA=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function oA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let Fc;function sA(t){return Fc||(Fc=new Gd({ownerDocument:t==null?void 0:t.document})),Fc}function aA(t){const e=ku(),n=t||sA(e),r=m.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:m.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:m.useCallback(i=>{r.current.backdrop=i},[])})}const PE=m.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:h,runTransition:f,backdropTransition:p,runBackdropTransition:_,autoFocus:E=!0,enforceFocus:w=!0,restoreFocus:g=!0,restoreFocusOptions:d,renderDialog:v,renderBackdrop:T=ve=>y.jsx("div",Object.assign({},ve)),manager:I,container:C,onShow:S,onHide:R=()=>{},onExit:b,onExited:D,onExiting:j,onEnter:W,onEntering:H,onEntered:ae}=t,Te=oA(t,iA);const te=ku(),ue=ZR(C),k=aA(I),L=mE(),$=gE(n),[X,ne]=m.useState(!n),Qe=m.useRef(null);m.useImperativeHandle(e,()=>k,[k]),Pu&&!$&&n&&(Qe.current=Lc(te==null?void 0:te.document)),n&&X&&ne(!1);const xe=ke(()=>{if(k.add(),_o.current=qn(document,"keydown",cn),Er.current=qn(document,"focus",()=>setTimeout(Oe),!0),S&&S(),E){var ve,wo;const ni=Lc((ve=(wo=k.dialog)==null?void 0:wo.ownerDocument)!=null?ve:te==null?void 0:te.document);k.dialog&&ni&&!Wl(k.dialog,ni)&&(Qe.current=ni,k.dialog.focus())}}),se=ke(()=>{if(k.remove(),_o.current==null||_o.current(),Er.current==null||Er.current(),g){var ve;(ve=Qe.current)==null||ve.focus==null||ve.focus(d),Qe.current=null}});m.useEffect(()=>{!n||!ue||xe()},[n,ue,xe]),m.useEffect(()=>{X&&se()},[X,se]),XR(()=>{se()});const Oe=ke(()=>{if(!w||!L()||!k.isTopModal())return;const ve=Lc(te==null?void 0:te.document);k.dialog&&ve&&!Wl(k.dialog,ve)&&k.dialog.focus()}),Ft=ke(ve=>{ve.target===ve.currentTarget&&(u==null||u(ve),a===!0&&R())}),cn=ke(ve=>{l&&rA(ve)&&k.isTopModal()&&(c==null||c(ve),ve.defaultPrevented||R())}),Er=m.useRef(),_o=m.useRef(),Eo=(...ve)=>{ne(!0),D==null||D(...ve)};if(!ue)return null;const wa=Object.assign({role:r,ref:k.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Te,{style:o,className:i,tabIndex:-1});let ei=v?v(wa):y.jsx("div",Object.assign({},wa,{children:m.cloneElement(s,{role:"document"})}));ei=Bg(h,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:b,onExiting:j,onExited:Eo,onEnter:W,onEntering:H,onEntered:ae,children:ei});let ti=null;return a&&(ti=T({ref:k.setBackdropRef,onClick:Ft}),ti=Bg(p,_,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ti})),y.jsx(y.Fragment,{children:Ii.createPortal(y.jsxs(y.Fragment,{children:[ti,ei]}),ue)})});PE.displayName="Modal";const lA=Object.assign(PE,{Manager:Gd}),uA={[Wt]:"show",[pn]:"show"},kE=m.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=m.useCallback((l,u)=>{SE(l),r==null||r(l,u)},[r]);return y.jsx(Kd,{ref:o,addEndListener:qd,...s,onEnter:a,childRef:e.ref,children:(l,u)=>m.cloneElement(e,{...u,className:Q("fade",t,e.props.className,uA[l],n[l])})})});kE.displayName="Fade";const cA=kE,hA=gr("offcanvas-body"),fA={[Wt]:"show",[pn]:"show"},NE=m.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:s=!1,...a},l)=>(t=ie(t,"offcanvas"),y.jsx(Kd,{ref:l,addEndListener:qd,in:r,mountOnEnter:i,unmountOnExit:o,appear:s,...a,childRef:n.ref,children:(u,c)=>m.cloneElement(n,{...c,className:Q(e,n.props.className,(u===Wt||u===As)&&`${t}-toggling`,fA[u])})})));NE.displayName="OffcanvasToggling";const dA=NE,pA=m.createContext({onHide(){}}),DE=pA,mA={"aria-label":_n.string,onClick:_n.func,variant:_n.oneOf(["white"])},Qd=m.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>y.jsx("button",{ref:i,type:"button",className:Q("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Qd.displayName="CloseButton";Qd.propTypes=mA;const gA=Qd,vA=m.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const a=m.useContext(DE),l=ke(()=>{a==null||a.onHide(),r==null||r()});return y.jsxs("div",{ref:s,...o,children:[i,n&&y.jsx(gA,{"aria-label":t,variant:e,onClick:l})]})}),yA=vA,OE=m.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=ie(t,"offcanvas-header"),y.jsx(yA,{ref:o,...i,className:Q(e,t),closeLabel:n,closeButton:r})));OE.displayName="OffcanvasHeader";const _A=OE,EA=t=>m.forwardRef((e,n)=>y.jsx("div",{...e,ref:n,className:Q(e.className,t)})),wA=EA("h5"),TA=gr("offcanvas-title",{Component:wA});function IA(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function CA(t,e){t.classList?t.classList.add(e):IA(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Ug(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function SA(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Ug(t.className,e):t.setAttribute("class",Ug(t.className&&t.className.baseVal||"",e))}const oi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class VE extends Gd{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,En(n,{[e]:`${parseFloat(En(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],En(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(CA(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";dn(n,oi.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),dn(n,oi.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),dn(n,oi.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();SA(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";dn(n,oi.FIXED_CONTENT).forEach(o=>this.restore(r,o)),dn(n,oi.STICKY_CONTENT).forEach(o=>this.restore(i,o)),dn(n,oi.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let bc;function xA(t){return bc||(bc=new VE(t)),bc}const RA=VE;function AA(t){return y.jsx(dA,{...t})}function PA(t){return y.jsx(cA,{...t})}const $E=m.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:o,show:s=!1,backdrop:a=!0,keyboard:l=!0,scroll:u=!1,onEscapeKeyDown:c,onShow:h,onHide:f,container:p,autoFocus:_=!0,enforceFocus:E=!0,restoreFocus:w=!0,restoreFocusOptions:g,onEntered:d,onExit:v,onExiting:T,onEnter:I,onEntering:C,onExited:S,backdropClassName:R,manager:b,renderStaticNode:D=!1,...j},W)=>{const H=m.useRef();t=ie(t,"offcanvas");const{onToggle:ae}=m.useContext(Xr)||{},[Te,te]=m.useState(!1),ue=GR(o||"xs","up");m.useEffect(()=>{te(o?s&&!ue:s)},[s,o,ue]);const k=ke(()=>{ae==null||ae(),f==null||f()}),L=m.useMemo(()=>({onHide:k}),[k]);function $(){return b||(u?(H.current||(H.current=new RA({handleContainerOverflow:!1})),H.current):xA())}const X=(se,...Oe)=>{se&&(se.style.visibility="visible"),I==null||I(se,...Oe)},ne=(se,...Oe)=>{se&&(se.style.visibility=""),S==null||S(...Oe)},Qe=m.useCallback(se=>y.jsx("div",{...se,className:Q(`${t}-backdrop`,R)}),[R,t]),xe=se=>y.jsx("div",{...se,...j,className:Q(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return y.jsxs(y.Fragment,{children:[!Te&&(o||D)&&xe({}),y.jsx(DE.Provider,{value:L,children:y.jsx(lA,{show:Te,ref:W,backdrop:a,container:p,keyboard:l,autoFocus:_,enforceFocus:E&&!u,restoreFocus:w,restoreFocusOptions:g,onEscapeKeyDown:c,onShow:h,onHide:k,onEnter:X,onEntering:C,onEntered:d,onExit:v,onExiting:T,onExited:ne,manager:$(),transition:AA,backdropTransition:PA,renderBackdrop:Qe,renderDialog:xe})})]})});$E.displayName="Offcanvas";const kA=Object.assign($E,{Body:hA,Header:_A,Title:TA}),ME=m.forwardRef((t,e)=>{const n=m.useContext(Xr);return y.jsx(kA,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});ME.displayName="NavbarOffcanvas";const NA=ME,DA=gr("navbar-text",{Component:"span"}),LE=m.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:o,fixed:s,sticky:a,className:l,as:u="nav",expanded:c,onToggle:h,onSelect:f,collapseOnSelect:p=!1,..._}=Wd(t,{expanded:"onToggle"}),E=ie(n,"navbar"),w=m.useCallback((...v)=>{f==null||f(...v),p&&c&&(h==null||h(!1))},[f,p,c,h]);_.role===void 0&&u!=="nav"&&(_.role="navigation");let g=`${E}-expand`;typeof r=="string"&&(g=`${g}-${r}`);const d=m.useMemo(()=>({onToggle:()=>h==null?void 0:h(!c),bsPrefix:E,expanded:!!c,expand:r}),[E,c,r,h]);return y.jsx(Xr.Provider,{value:d,children:y.jsx(Br.Provider,{value:w,children:y.jsx(u,{ref:e,..._,className:Q(l,E,r&&g,i&&`${E}-${i}`,o&&`bg-${o}`,a&&`sticky-${a}`,s&&`fixed-${s}`)})})})});LE.displayName="Navbar";const Ba=Object.assign(LE,{Brand:TR,Collapse:WR,Offcanvas:NA,Text:DA,Toggle:HR});function OA(t,e,n){const r=m.useRef(t!==void 0),[i,o]=m.useState(e),s=t!==void 0,a=r.current;return r.current=s,!s&&a&&i!==e&&o(e),[s?t:i,m.useCallback((l,...u)=>{n&&n(l,...u),o(l)},[n])]}const VA=m.createContext(null),Nu=VA;var zg=Object.prototype.hasOwnProperty;function Wg(t,e,n){for(n of t.keys())if(Zo(n,e))return n}function Zo(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Zo(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=Wg(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=Wg(e,i),!i)||!Zo(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(zg.call(t,n)&&++r&&!zg.call(e,n)||!(n in e)||!Zo(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function $A(t){const e=mE();return[t[0],m.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var yt="top",Lt="bottom",jt="right",_t="left",Xd="auto",na=[yt,Lt,jt,_t],zi="start",Ps="end",MA="clippingParents",jE="viewport",No="popper",LA="reference",Hg=na.reduce(function(t,e){return t.concat([e+"-"+zi,e+"-"+Ps])},[]),FE=[].concat(na,[Xd]).reduce(function(t,e){return t.concat([e,e+"-"+zi,e+"-"+Ps])},[]),jA="beforeRead",FA="read",bA="afterRead",BA="beforeMain",UA="main",zA="afterMain",WA="beforeWrite",HA="write",qA="afterWrite",KA=[jA,FA,bA,BA,UA,zA,WA,HA,qA];function sn(t){return t.split("-")[0]}function St(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ur(t){var e=St(t).Element;return t instanceof e||t instanceof Element}function an(t){var e=St(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Yd(t){if(typeof ShadowRoot>"u")return!1;var e=St(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Vr=Math.max,Hl=Math.min,Wi=Math.round;function uf(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function bE(){return!/^((?!chrome|android).)*safari/i.test(uf())}function Hi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&an(t)&&(i=t.offsetWidth>0&&Wi(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Wi(r.height)/t.offsetHeight||1);var s=Ur(t)?St(t):window,a=s.visualViewport,l=!bE()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,h=r.width/i,f=r.height/o;return{width:h,height:f,top:c,right:u+h,bottom:c+f,left:u,x:u,y:c}}function Jd(t){var e=Hi(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function BE(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Yd(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function lr(t){return t?(t.nodeName||"").toLowerCase():null}function An(t){return St(t).getComputedStyle(t)}function GA(t){return["table","td","th"].indexOf(lr(t))>=0}function vr(t){return((Ur(t)?t.ownerDocument:t.document)||window.document).documentElement}function Du(t){return lr(t)==="html"?t:t.assignedSlot||t.parentNode||(Yd(t)?t.host:null)||vr(t)}function qg(t){return!an(t)||An(t).position==="fixed"?null:t.offsetParent}function QA(t){var e=/firefox/i.test(uf()),n=/Trident/i.test(uf());if(n&&an(t)){var r=An(t);if(r.position==="fixed")return null}var i=Du(t);for(Yd(i)&&(i=i.host);an(i)&&["html","body"].indexOf(lr(i))<0;){var o=An(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ra(t){for(var e=St(t),n=qg(t);n&&GA(n)&&An(n).position==="static";)n=qg(n);return n&&(lr(n)==="html"||lr(n)==="body"&&An(n).position==="static")?e:n||QA(t)||e}function Zd(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function es(t,e,n){return Vr(t,Hl(e,n))}function XA(t,e,n){var r=es(t,e,n);return r>n?n:r}function UE(){return{top:0,right:0,bottom:0,left:0}}function zE(t){return Object.assign({},UE(),t)}function WE(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var YA=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,zE(typeof e!="number"?e:WE(e,na))};function JA(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=sn(n.placement),l=Zd(a),u=[_t,jt].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var h=YA(i.padding,n),f=Jd(o),p=l==="y"?yt:_t,_=l==="y"?Lt:jt,E=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],w=s[l]-n.rects.reference[l],g=ra(o),d=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,v=E/2-w/2,T=h[p],I=d-f[c]-h[_],C=d/2-f[c]/2+v,S=es(T,C,I),R=l;n.modifiersData[r]=(e={},e[R]=S,e.centerOffset=S-C,e)}}function ZA(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||BE(e.elements.popper,i)&&(e.elements.arrow=i))}const eP={name:"arrow",enabled:!0,phase:"main",fn:JA,effect:ZA,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qi(t){return t.split("-")[1]}var tP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nP(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Wi(n*i)/i||0,y:Wi(r*i)/i||0}}function Kg(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,h=t.isFixed,f=s.x,p=f===void 0?0:f,_=s.y,E=_===void 0?0:_,w=typeof c=="function"?c({x:p,y:E}):{x:p,y:E};p=w.x,E=w.y;var g=s.hasOwnProperty("x"),d=s.hasOwnProperty("y"),v=_t,T=yt,I=window;if(u){var C=ra(n),S="clientHeight",R="clientWidth";if(C===St(n)&&(C=vr(n),An(C).position!=="static"&&a==="absolute"&&(S="scrollHeight",R="scrollWidth")),C=C,i===yt||(i===_t||i===jt)&&o===Ps){T=Lt;var b=h&&C===I&&I.visualViewport?I.visualViewport.height:C[S];E-=b-r.height,E*=l?1:-1}if(i===_t||(i===yt||i===Lt)&&o===Ps){v=jt;var D=h&&C===I&&I.visualViewport?I.visualViewport.width:C[R];p-=D-r.width,p*=l?1:-1}}var j=Object.assign({position:a},u&&tP),W=c===!0?nP({x:p,y:E},St(n)):{x:p,y:E};if(p=W.x,E=W.y,l){var H;return Object.assign({},j,(H={},H[T]=d?"0":"",H[v]=g?"0":"",H.transform=(I.devicePixelRatio||1)<=1?"translate("+p+"px, "+E+"px)":"translate3d("+p+"px, "+E+"px, 0)",H))}return Object.assign({},j,(e={},e[T]=d?E+"px":"",e[v]=g?p+"px":"",e.transform="",e))}function rP(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:sn(e.placement),variation:qi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Kg(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Kg(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const iP={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rP,data:{}};var Ua={passive:!0};function oP(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=St(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,Ua)}),a&&l.addEventListener("resize",n.update,Ua),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Ua)}),a&&l.removeEventListener("resize",n.update,Ua)}}const sP={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:oP,data:{}};var aP={left:"right",right:"left",bottom:"top",top:"bottom"};function cl(t){return t.replace(/left|right|bottom|top/g,function(e){return aP[e]})}var lP={start:"end",end:"start"};function Gg(t){return t.replace(/start|end/g,function(e){return lP[e]})}function ep(t){var e=St(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function tp(t){return Hi(vr(t)).left+ep(t).scrollLeft}function uP(t,e){var n=St(t),r=vr(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=bE();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+tp(t),y:l}}function cP(t){var e,n=vr(t),r=ep(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Vr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Vr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+tp(t),l=-r.scrollTop;return An(i||n).direction==="rtl"&&(a+=Vr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function np(t){var e=An(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function HE(t){return["html","body","#document"].indexOf(lr(t))>=0?t.ownerDocument.body:an(t)&&np(t)?t:HE(Du(t))}function ts(t,e){var n;e===void 0&&(e=[]);var r=HE(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=St(r),s=i?[o].concat(o.visualViewport||[],np(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(ts(Du(s)))}function cf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function hP(t,e){var n=Hi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Qg(t,e,n){return e===jE?cf(uP(t,n)):Ur(e)?hP(e,n):cf(cP(vr(t)))}function fP(t){var e=ts(Du(t)),n=["absolute","fixed"].indexOf(An(t).position)>=0,r=n&&an(t)?ra(t):t;return Ur(r)?e.filter(function(i){return Ur(i)&&BE(i,r)&&lr(i)!=="body"}):[]}function dP(t,e,n,r){var i=e==="clippingParents"?fP(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var c=Qg(t,u,r);return l.top=Vr(c.top,l.top),l.right=Hl(c.right,l.right),l.bottom=Hl(c.bottom,l.bottom),l.left=Vr(c.left,l.left),l},Qg(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function qE(t){var e=t.reference,n=t.element,r=t.placement,i=r?sn(r):null,o=r?qi(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case yt:l={x:s,y:e.y-n.height};break;case Lt:l={x:s,y:e.y+e.height};break;case jt:l={x:e.x+e.width,y:a};break;case _t:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?Zd(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case zi:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Ps:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function ks(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?MA:a,u=n.rootBoundary,c=u===void 0?jE:u,h=n.elementContext,f=h===void 0?No:h,p=n.altBoundary,_=p===void 0?!1:p,E=n.padding,w=E===void 0?0:E,g=zE(typeof w!="number"?w:WE(w,na)),d=f===No?LA:No,v=t.rects.popper,T=t.elements[_?d:f],I=dP(Ur(T)?T:T.contextElement||vr(t.elements.popper),l,c,s),C=Hi(t.elements.reference),S=qE({reference:C,element:v,strategy:"absolute",placement:i}),R=cf(Object.assign({},v,S)),b=f===No?R:C,D={top:I.top-b.top+g.top,bottom:b.bottom-I.bottom+g.bottom,left:I.left-b.left+g.left,right:b.right-I.right+g.right},j=t.modifiersData.offset;if(f===No&&j){var W=j[i];Object.keys(D).forEach(function(H){var ae=[jt,Lt].indexOf(H)>=0?1:-1,Te=[yt,Lt].indexOf(H)>=0?"y":"x";D[H]+=W[Te]*ae})}return D}function pP(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?FE:l,c=qi(r),h=c?a?Hg:Hg.filter(function(_){return qi(_)===c}):na,f=h.filter(function(_){return u.indexOf(_)>=0});f.length===0&&(f=h);var p=f.reduce(function(_,E){return _[E]=ks(t,{placement:E,boundary:i,rootBoundary:o,padding:s})[sn(E)],_},{});return Object.keys(p).sort(function(_,E){return p[_]-p[E]})}function mP(t){if(sn(t)===Xd)return[];var e=cl(t);return[Gg(t),e,Gg(e)]}function gP(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,_=p===void 0?!0:p,E=n.allowedAutoPlacements,w=e.options.placement,g=sn(w),d=g===w,v=l||(d||!_?[cl(w)]:mP(w)),T=[w].concat(v).reduce(function(xe,se){return xe.concat(sn(se)===Xd?pP(e,{placement:se,boundary:c,rootBoundary:h,padding:u,flipVariations:_,allowedAutoPlacements:E}):se)},[]),I=e.rects.reference,C=e.rects.popper,S=new Map,R=!0,b=T[0],D=0;D<T.length;D++){var j=T[D],W=sn(j),H=qi(j)===zi,ae=[yt,Lt].indexOf(W)>=0,Te=ae?"width":"height",te=ks(e,{placement:j,boundary:c,rootBoundary:h,altBoundary:f,padding:u}),ue=ae?H?jt:_t:H?Lt:yt;I[Te]>C[Te]&&(ue=cl(ue));var k=cl(ue),L=[];if(o&&L.push(te[W]<=0),a&&L.push(te[ue]<=0,te[k]<=0),L.every(function(xe){return xe})){b=j,R=!1;break}S.set(j,L)}if(R)for(var $=_?3:1,X=function(se){var Oe=T.find(function(Ft){var cn=S.get(Ft);if(cn)return cn.slice(0,se).every(function(Er){return Er})});if(Oe)return b=Oe,"break"},ne=$;ne>0;ne--){var Qe=X(ne);if(Qe==="break")break}e.placement!==b&&(e.modifiersData[r]._skip=!0,e.placement=b,e.reset=!0)}}const vP={name:"flip",enabled:!0,phase:"main",fn:gP,requiresIfExists:["offset"],data:{_skip:!1}};function Xg(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Yg(t){return[yt,jt,Lt,_t].some(function(e){return t[e]>=0})}function yP(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=ks(e,{elementContext:"reference"}),a=ks(e,{altBoundary:!0}),l=Xg(s,r),u=Xg(a,i,o),c=Yg(l),h=Yg(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}const _P={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yP};function EP(t,e,n){var r=sn(t),i=[_t,yt].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[_t,jt].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function wP(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=FE.reduce(function(c,h){return c[h]=EP(h,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const TP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wP};function IP(t){var e=t.state,n=t.name;e.modifiersData[n]=qE({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const CP={name:"popperOffsets",enabled:!0,phase:"read",fn:IP,data:{}};function SP(t){return t==="x"?"y":"x"}function xP(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,h=n.padding,f=n.tether,p=f===void 0?!0:f,_=n.tetherOffset,E=_===void 0?0:_,w=ks(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),g=sn(e.placement),d=qi(e.placement),v=!d,T=Zd(g),I=SP(T),C=e.modifiersData.popperOffsets,S=e.rects.reference,R=e.rects.popper,b=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,D=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,W={x:0,y:0};if(C){if(o){var H,ae=T==="y"?yt:_t,Te=T==="y"?Lt:jt,te=T==="y"?"height":"width",ue=C[T],k=ue+w[ae],L=ue-w[Te],$=p?-R[te]/2:0,X=d===zi?S[te]:R[te],ne=d===zi?-R[te]:-S[te],Qe=e.elements.arrow,xe=p&&Qe?Jd(Qe):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:UE(),Oe=se[ae],Ft=se[Te],cn=es(0,S[te],xe[te]),Er=v?S[te]/2-$-cn-Oe-D.mainAxis:X-cn-Oe-D.mainAxis,_o=v?-S[te]/2+$+cn+Ft+D.mainAxis:ne+cn+Ft+D.mainAxis,Eo=e.elements.arrow&&ra(e.elements.arrow),wa=Eo?T==="y"?Eo.clientTop||0:Eo.clientLeft||0:0,ei=(H=j==null?void 0:j[T])!=null?H:0,ti=ue+Er-ei-wa,ve=ue+_o-ei,wo=es(p?Hl(k,ti):k,ue,p?Vr(L,ve):L);C[T]=wo,W[T]=wo-ue}if(a){var ni,UT=T==="x"?yt:_t,zT=T==="x"?Lt:jt,wr=C[I],Ta=I==="y"?"height":"width",lm=wr+w[UT],um=wr-w[zT],ac=[yt,_t].indexOf(g)!==-1,cm=(ni=j==null?void 0:j[I])!=null?ni:0,hm=ac?lm:wr-S[Ta]-R[Ta]-cm+D.altAxis,fm=ac?wr+S[Ta]+R[Ta]-cm-D.altAxis:um,dm=p&&ac?XA(hm,wr,fm):es(p?hm:lm,wr,p?fm:um);C[I]=dm,W[I]=dm-wr}e.modifiersData[r]=W}}const RP={name:"preventOverflow",enabled:!0,phase:"main",fn:xP,requiresIfExists:["offset"]};function AP(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function PP(t){return t===St(t)||!an(t)?ep(t):AP(t)}function kP(t){var e=t.getBoundingClientRect(),n=Wi(e.width)/t.offsetWidth||1,r=Wi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function NP(t,e,n){n===void 0&&(n=!1);var r=an(e),i=an(e)&&kP(e),o=vr(e),s=Hi(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((lr(e)!=="body"||np(o))&&(a=PP(e)),an(e)?(l=Hi(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=tp(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function DP(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function OP(t){var e=DP(t);return KA.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function VP(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function $P(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Jg={placement:"bottom",modifiers:[],strategy:"absolute"};function Zg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function MP(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?Jg:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jg,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:c,setOptions:function(g){var d=typeof g=="function"?g(c.options):g;E(),c.options=Object.assign({},o,c.options,d),c.scrollParents={reference:Ur(a)?ts(a):a.contextElement?ts(a.contextElement):[],popper:ts(l)};var v=OP($P([].concat(r,c.options.modifiers)));return c.orderedModifiers=v.filter(function(T){return T.enabled}),_(),p.update()},forceUpdate:function(){if(!f){var g=c.elements,d=g.reference,v=g.popper;if(Zg(d,v)){c.rects={reference:NP(d,ra(v),c.options.strategy==="fixed"),popper:Jd(v)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(D){return c.modifiersData[D.name]=Object.assign({},D.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var I=c.orderedModifiers[T],C=I.fn,S=I.options,R=S===void 0?{}:S,b=I.name;typeof C=="function"&&(c=C({state:c,options:R,name:b,instance:p})||c)}}}},update:VP(function(){return new Promise(function(w){p.forceUpdate(),w(c)})}),destroy:function(){E(),f=!0}};if(!Zg(a,l))return p;p.setOptions(u).then(function(w){!f&&u.onFirstUpdate&&u.onFirstUpdate(w)});function _(){c.orderedModifiers.forEach(function(w){var g=w.name,d=w.options,v=d===void 0?{}:d,T=w.effect;if(typeof T=="function"){var I=T({state:c,name:g,instance:p,options:v}),C=function(){};h.push(I||C)}})}function E(){h.forEach(function(w){return w()}),h=[]}return p}}const LP=MP({defaultModifiers:[_P,CP,iP,sP,TP,vP,RP,eP]}),jP=["enabled","placement","strategy","modifiers"];function FP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const bP={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},BP={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${n.id}`:n.id)}}},UP=[];function zP(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:s=UP}=n,a=FP(n,jP);const l=m.useRef(s),u=m.useRef(),c=m.useCallback(()=>{var w;(w=u.current)==null||w.update()},[]),h=m.useCallback(()=>{var w;(w=u.current)==null||w.forceUpdate()},[]),[f,p]=$A(m.useState({placement:i,update:c,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),_=m.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:w})=>{const g={},d={};Object.keys(w.elements).forEach(v=>{g[v]=w.styles[v],d[v]=w.attributes[v]}),p({state:w,styles:g,attributes:d,update:c,forceUpdate:h,placement:w.placement})}}),[c,h,p]),E=m.useMemo(()=>(Zo(l.current,s)||(l.current=s),l.current),[s]);return m.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:i,strategy:o,modifiers:[...E,_,bP]})},[o,i,_,r,E]),m.useEffect(()=>{if(!(!r||t==null||e==null))return u.current=LP(t,e,Object.assign({},a,{placement:i,strategy:o,modifiers:[...E,BP,_]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,p(w=>Object.assign({},w,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),f}const ev=()=>{};function WP(t){return t.button===0}function HP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Bc=t=>t&&("current"in t?t.current:t),tv={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function qP(t,e=ev,{disabled:n,clickTrigger:r="click"}={}){const i=m.useRef(!1),o=m.useRef(!1),s=m.useCallback(u=>{const c=Bc(t);Dx(!!c,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!c||HP(u)||!WP(u)||!!Wl(c,u.target)||o.current,o.current=!1},[t]),a=ke(u=>{const c=Bc(t);c&&Wl(c,u.target)&&(o.current=!0)}),l=ke(u=>{i.current||e(u)});m.useEffect(()=>{var u,c;if(n||t==null)return;const h=Au(Bc(t)),f=h.defaultView||window;let p=(u=f.event)!=null?u:(c=f.parent)==null?void 0:c.event,_=null;tv[r]&&(_=qn(h,tv[r],a,!0));const E=qn(h,r,s,!0),w=qn(h,r,d=>{if(d===p){p=void 0;return}l(d)});let g=[];return"ontouchstart"in h.documentElement&&(g=[].slice.call(h.body.children).map(d=>qn(d,"mousemove",ev))),()=>{_==null||_(),E(),w(),g.forEach(d=>d())}},[t,n,r,s,a,l])}function KP(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function GP(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function QP({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:o,containerPadding:s,arrowElement:a,popperConfig:l={}}){var u,c,h,f,p;const _=KP(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:o?"fixed":l.strategy,modifiers:GP(Object.assign({},_,{eventListeners:{enabled:e,options:(u=_.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},_.preventOverflow,{options:s?Object.assign({padding:s},(c=_.preventOverflow)==null?void 0:c.options):(h=_.preventOverflow)==null?void 0:h.options}),offset:{options:Object.assign({offset:i},(f=_.offset)==null?void 0:f.options)},arrow:Object.assign({},_.arrow,{enabled:!!a,options:Object.assign({},(p=_.arrow)==null?void 0:p.options,{element:a})}),flip:Object.assign({enabled:!!r},_.flip)}))})}const XP=["children"];function YP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const JP=()=>{};function KE(t={}){const e=m.useContext(Nu),[n,r]=mR(),i=m.useRef(!1),{flip:o,offset:s,rootCloseEvent:a,fixed:l=!1,placement:u,popperConfig:c={},enableEventListeners:h=!0,usePopper:f=!!e}=t,p=(e==null?void 0:e.show)==null?!!t.show:e.show;p&&!i.current&&(i.current=!0);const _=C=>{e==null||e.toggle(!1,C)},{placement:E,setMenu:w,menuElement:g,toggleElement:d}=e||{},v=zP(d,g,QP({placement:u||E||"bottom-start",enabled:f,enableEvents:h??p,offset:s,flip:o,fixed:l,arrowElement:n,popperConfig:c})),T=Object.assign({ref:w||JP,"aria-labelledby":d==null?void 0:d.id},v.attributes.popper,{style:v.styles.popper}),I={show:p,placement:E,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:f?v:null,arrowProps:f?Object.assign({ref:r},v.attributes.arrow,{style:v.styles.arrow}):{}};return qP(g,_,{clickTrigger:a,disabled:!p}),[T,I]}const ZP={usePopper:!0};function rp(t){let{children:e}=t,n=YP(t,XP);const[r,i]=KE(n);return y.jsx(y.Fragment,{children:e(r,i)})}rp.displayName="DropdownMenu";rp.defaultProps=ZP;const ip={prefix:String(Math.round(Math.random()*1e10)),current:0,isSSR:!1},op=He.createContext(ip);let ek=!!(typeof window<"u"&&window.document&&window.document.createElement),Uc=new WeakMap;function tk(t=!1){let e=m.useContext(op),n=m.useRef(null);if(n.current===null&&!t){var r,i;let o=(r=He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||r===void 0||(i=r.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(o){let s=Uc.get(o);s==null?Uc.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==s.state&&(e.current=s.id,Uc.delete(o))}n.current=++e.current}return n.current}function nk(t){let e=m.useContext(op);e===ip&&!ek&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=tk(!!t);return t||`react-aria${e.prefix}-${n}`}function rk(t){let e=He.useId(),[n]=m.useState(lk()),r=n?"react-aria":`react-aria${ip.prefix}`;return t||`${r}-${e}`}const ik=typeof He.useId=="function"?rk:nk;function ok(){return!1}function sk(){return!0}function ak(t){return()=>{}}function lk(){return typeof He.useSyncExternalStore=="function"?He.useSyncExternalStore(ak,ok,sk):m.useContext(op).isSSR}const GE=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},nv=()=>{};function QE(){const t=ik(),{show:e=!1,toggle:n=nv,setToggle:r,menuElement:i}=m.useContext(Nu)||{},o=m.useCallback(a=>{n(!e,a)},[e,n]),s={id:t,ref:r||nv,onClick:o,"aria-expanded":!!e};return i&&GE(i)&&(s["aria-haspopup"]=!0),[s,{show:e,toggle:n}]}function XE({children:t}){const[e,n]=QE();return y.jsx(y.Fragment,{children:t(e,n)})}XE.displayName="DropdownToggle";const uk=["eventKey","disabled","onClick","active","as"];function ck(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YE({key:t,href:e,active:n,disabled:r,onClick:i}){const o=m.useContext(Br),s=m.useContext(Hd),{activeKey:a}=s||{},l=Rs(t,e),u=n==null&&t!=null?Rs(a)===l:n;return[{onClick:ke(h=>{r||(i==null||i(h),o&&!h.isPropagationStopped()&&o(l,h))}),"aria-disabled":r||void 0,"aria-selected":u,[uo("dropdown-item")]:""},{isActive:u}]}const JE=m.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:s=Bd}=t,a=ck(t,uk);const[l]=YE({key:n,href:a.href,disabled:r,onClick:i,active:o});return y.jsx(s,Object.assign({},a,{ref:e},l))});JE.displayName="DropdownItem";function rv(){const t=aE(),e=m.useRef(null),n=m.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function ia({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${uo("dropdown-item")}]`,focusFirstItemOnShow:o,placement:s="bottom-start",children:a}){const l=ku(),[u,c]=OA(e,t,r),[h,f]=rv(),p=h.current,[_,E]=rv(),w=_.current,g=gE(u),d=m.useRef(null),v=m.useRef(!1),T=m.useContext(Br),I=m.useCallback((j,W,H=W==null?void 0:W.type)=>{c(j,{originalEvent:W,source:H})},[c]),C=ke((j,W)=>{n==null||n(j,W),I(!1,W,"select"),W.isPropagationStopped()||T==null||T(j,W)}),S=m.useMemo(()=>({toggle:I,placement:s,show:u,menuElement:p,toggleElement:w,setMenu:f,setToggle:E}),[I,s,u,p,w,f,E]);p&&g&&!u&&(v.current=p.contains(p.ownerDocument.activeElement));const R=ke(()=>{w&&w.focus&&w.focus()}),b=ke(()=>{const j=d.current;let W=o;if(W==null&&(W=h.current&&GE(h.current)?"keyboard":!1),W===!1||W==="keyboard"&&!/^key.+$/.test(j))return;const H=dn(h.current,i)[0];H&&H.focus&&H.focus()});m.useEffect(()=>{u?b():v.current&&(v.current=!1,R())},[u,v,R,b]),m.useEffect(()=>{d.current=null});const D=(j,W)=>{if(!h.current)return null;const H=dn(h.current,i);let ae=H.indexOf(j)+W;return ae=Math.max(0,Math.min(ae,H.length)),H[ae]};return gR(m.useCallback(()=>l.document,[l]),"keydown",j=>{var W,H;const{key:ae}=j,Te=j.target,te=(W=h.current)==null?void 0:W.contains(Te),ue=(H=_.current)==null?void 0:H.contains(Te);if(/input|textarea/i.test(Te.tagName)&&(ae===" "||ae!=="Escape"&&te||ae==="Escape"&&Te.type==="search")||!te&&!ue||ae==="Tab"&&(!h.current||!u))return;d.current=j.type;const L={originalEvent:j,source:j.type};switch(ae){case"ArrowUp":{const $=D(Te,-1);$&&$.focus&&$.focus(),j.preventDefault();return}case"ArrowDown":if(j.preventDefault(),!u)c(!0,L);else{const $=D(Te,1);$&&$.focus&&$.focus()}return;case"Tab":CE(Te.ownerDocument,"keyup",$=>{var X;($.key==="Tab"&&!$.target||!((X=h.current)!=null&&X.contains($.target)))&&c(!1,L)},{once:!0});break;case"Escape":ae==="Escape"&&(j.preventDefault(),j.stopPropagation()),c(!1,L);break}}),y.jsx(Br.Provider,{value:C,children:y.jsx(Nu.Provider,{value:S,children:a})})}ia.displayName="Dropdown";ia.Menu=rp;ia.Toggle=XE;ia.Item=JE;const ZE=m.createContext({});ZE.displayName="DropdownContext";const ew=ZE,tw=m.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:o,as:s=yE,...a},l)=>{const u=ie(t,"dropdown-item"),[c,h]=YE({key:n,href:a.href,disabled:r,onClick:i,active:o});return y.jsx(s,{...a,...c,ref:l,className:Q(e,u,h.isActive&&"active",r&&"disabled")})});tw.displayName="DropdownItem";const hk=tw,nw=m.createContext(null);nw.displayName="InputGroupContext";const rw=nw;function iw(t,e){return t}function ow(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",o=n?"bottom-end":"bottom-start",s=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",u=n?"left-start":"right-start",c=n?"left-end":"right-end";let h=t?s:o;return e==="up"?h=t?i:r:e==="end"?h=t?c:u:e==="start"?h=t?l:a:e==="down-centered"?h="bottom":e==="up-centered"&&(h="top"),h}const sw=m.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:s,as:a="div",popperConfig:l,variant:u,...c},h)=>{let f=!1;const p=m.useContext(Xr),_=ie(t,"dropdown-menu"),{align:E,drop:w,isRTL:g}=m.useContext(ew);n=n||E;const d=m.useContext(rw),v=[];if(n)if(typeof n=="object"){const j=Object.keys(n);if(j.length){const W=j[0],H=n[W];f=H==="start",v.push(`${_}-${W}-${H}`)}}else n==="end"&&(f=!0);const T=ow(f,w,g),[I,{hasShown:C,popper:S,show:R,toggle:b}]=KE({flip:i,rootCloseEvent:r,show:o,usePopper:!p&&v.length===0,offset:[0,2],popperConfig:l,placement:T});if(I.ref=lo(iw(h),I.ref),zl(()=>{R&&(S==null||S.update())},[R]),!C&&!s&&!d)return null;typeof a!="string"&&(I.show=R,I.close=()=>b==null?void 0:b(!1),I.align=n);let D=c.style;return S!=null&&S.placement&&(D={...c.style,...I.style},c["x-placement"]=S.placement),y.jsx(a,{...c,...I,style:D,...(v.length||p)&&{"data-bs-popper":"static"},className:Q(e,_,R&&"show",f&&`${_}-end`,u&&`${_}-${u}`,...v)})});sw.displayName="DropdownMenu";const fk=sw,aw=m.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=F0,...o},s)=>{const a=ie(t,"dropdown-toggle"),l=m.useContext(Nu);r!==void 0&&(o.bsPrefix=r);const[u]=QE();return u.ref=lo(u.ref,iw(s)),y.jsx(i,{className:Q(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...u,...o})});aw.displayName="DropdownToggle";const dk=aw,pk=gr("dropdown-header",{defaultProps:{role:"heading"}}),mk=gr("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),gk=gr("dropdown-item-text",{Component:"span"}),lw=m.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:o,align:s="start",onSelect:a,onToggle:l,focusFirstItemOnShow:u,as:c="div",navbar:h,autoClose:f=!0,...p}=Wd(t,{show:"onToggle"}),_=m.useContext(rw),E=ie(n,"dropdown"),w=Ex(),g=S=>f===!1?S==="click":f==="inside"?S!=="rootClose":f==="outside"?S!=="select":!0,d=ke((S,R)=>{R.originalEvent.currentTarget===document&&(R.source!=="keydown"||R.originalEvent.key==="Escape")&&(R.source="rootClose"),g(R.source)&&(l==null||l(S,R))}),T=ow(s==="end",r,w),I=m.useMemo(()=>({align:s,drop:r,isRTL:w}),[s,r,w]),C={down:E,"down-centered":`${E}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return y.jsx(ew.Provider,{value:I,children:y.jsx(ia,{placement:T,show:i,onSelect:a,onToggle:d,focusFirstItemOnShow:u,itemSelector:`.${E}-item:not(.disabled):not(:disabled)`,children:_?p.children:y.jsx(c,{...p,ref:e,className:Q(o,i&&"show",C[r])})})})});lw.displayName="Dropdown";const Ar=Object.assign(lw,{Toggle:dk,Menu:fk,Item:hk,ItemText:gk,Divider:mk,Header:pk}),uw=m.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:o,menuRole:s,disabled:a,active:l,renderMenuOnMount:u,menuVariant:c,...h},f)=>{const p=ie(void 0,"nav-item");return y.jsxs(Ar,{ref:f,...h,className:Q(i,p),children:[y.jsx(Ar.Toggle,{id:t,eventKey:null,active:l,disabled:a,childBsPrefix:r,as:EE,children:e}),y.jsx(Ar.Menu,{role:s,renderOnMount:u,rootCloseEvent:o,variant:c,children:n})]})});uw.displayName="NavDropdown";const si=Object.assign(uw,{Item:Ar.Item,ItemText:Ar.ItemText,Divider:Ar.Divider,Header:Ar.Header}),vk=()=>{const{cartCantidad:t}=m.useContext(ao);return y.jsxs("div",{className:"carrito-container",children:[y.jsx("img",{src:"../imagenes/carrito2.png",alt:"Carrito",className:"img-carrito"}),t()>0&&y.jsx("span",{className:"contad",children:t()})]})};function yk(){return y.jsx(Ba,{collapseOnSelect:!0,expand:"lg",className:"bg",children:y.jsxs(Kx,{className:"header-container",children:[y.jsx(Ba.Brand,{as:Mn,to:"/",className:"header-title",children:"B&B Mobile"}),y.jsx(Ba.Toggle,{"aria-controls":"responsive-navbar-nav"}),y.jsxs(Ba.Collapse,{id:"responsive-navbar-nav",children:[y.jsxs($c,{className:"navs-links me-auto",children:[y.jsx($c.Link,{as:Mn,to:"/conocenos",children:"Conocenos"}),y.jsx($c.Link,{as:Mn,to:"/registrarse",children:"Registrate"}),y.jsxs(si,{title:"Categorias",id:"collasible-nav-dropdown",children:[y.jsx(si.Item,{as:Mn,to:"/categorias/Ofertas",children:"Ofertas"}),y.jsx(si.Item,{as:Mn,to:"/categorias/Nuevos",children:"Nuevos"}),y.jsx(si.Item,{as:Mn,to:"/categorias/Vendidos",children:"Más Vendidos"}),y.jsx(si.Divider,{}),y.jsx(si.Item,{as:Mn,to:"/",children:"Todos los productos"})]})]}),y.jsx(Mn,{to:"/cart",className:"carrito",children:y.jsx(vk,{})})]})]})})}const _k=({prod:t})=>y.jsxs("div",{className:"card",children:[y.jsx("img",{src:t.imagen,alt:t.nombre,className:"img-producto"}),y.jsxs("div",{className:"card-body",children:[y.jsx("h2",{className:"card-title",children:t.nombre}),y.jsx("h5",{className:"card-title",children:t.modelo}),y.jsxs("p",{className:"precio",children:["Precio:",t.precioreal]}),y.jsx(xs,{to:`/item/${t.id}`,className:"btn btn-primary mt-2",children:"Ver Producto"})]})]}),Ek=({productos:t})=>y.jsx("div",{className:"contenedor",children:t.map(e=>y.jsx(_k,{prod:e},e.id))});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},hw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new Tk;const f=o<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Tk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ik=function(t){const e=cw(t);return hw.encodeByteArray(e,!0)},ql=function(t){return Ik(t).replace(/\./g,"")},Ck=function(t){try{return hw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=()=>Sk().__FIREBASE_DEFAULTS__,Rk=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ak=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ck(t[1]);return e&&JSON.parse(e)},fw=()=>{try{return xk()||Rk()||Ak()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pk=t=>{var e,n;return(n=(e=fw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kk=t=>{const e=Pk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dw=()=>{var t;return(t=fw())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ql(JSON.stringify(n)),ql(JSON.stringify(s)),a].join(".")}function Ok(){try{return typeof indexedDB=="object"}catch{return!1}}function Vk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="FirebaseError";class co extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$k,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pw.prototype.create)}}class pw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Mk(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new co(i,a,r)}}function Mk(t,e){return t.replace(Lk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Lk=/\{\$([^}]+)}/g;function hf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(iv(o)&&iv(s)){if(!hf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bk(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cr){return this.instances.has(e)}getOptions(e=Cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cr){return this.component?this.component.multipleInstances?e:Cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fk(t){return t===Cr?void 0:t}function bk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const Uk={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},zk=ee.INFO,Wk={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},Hk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Wk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mw{constructor(e){this.name=e,this._logLevel=zk,this._logHandler=Hk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const qk=(t,e)=>e.some(n=>t instanceof n);let ov,sv;function Kk(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gk(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gw=new WeakMap,ff=new WeakMap,vw=new WeakMap,zc=new WeakMap,sp=new WeakMap;function Qk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(rr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&gw.set(n,t)}).catch(()=>{}),sp.set(e,t),e}function Xk(t){if(ff.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ff.set(t,e)}let df={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ff.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yk(t){df=t(df)}function Jk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wc(this),e,...n);return vw.set(r,e.sort?e.sort():[e]),rr(r)}:Gk().includes(t)?function(...e){return t.apply(Wc(this),e),rr(gw.get(this))}:function(...e){return rr(t.apply(Wc(this),e))}}function Zk(t){return typeof t=="function"?Jk(t):(t instanceof IDBTransaction&&Xk(t),qk(t,Kk())?new Proxy(t,df):t)}function rr(t){if(t instanceof IDBRequest)return Qk(t);if(zc.has(t))return zc.get(t);const e=Zk(t);return e!==t&&(zc.set(t,e),sp.set(e,t)),e}const Wc=t=>sp.get(t);function eN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=rr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(rr(s.result),l.oldVersion,l.newVersion,rr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tN=["get","getKey","getAll","getAllKeys","count"],nN=["put","add","delete","clear"],Hc=new Map;function av(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hc.get(e))return Hc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tN.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Hc.set(e,o),o}Yk(t=>({...t,get:(e,n,r)=>av(e,n)||t.get(e,n,r),has:(e,n)=>!!av(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pf="@firebase/app",lv="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new mw("@firebase/app"),oN="@firebase/app-compat",sN="@firebase/analytics-compat",aN="@firebase/analytics",lN="@firebase/app-check-compat",uN="@firebase/app-check",cN="@firebase/auth",hN="@firebase/auth-compat",fN="@firebase/database",dN="@firebase/database-compat",pN="@firebase/functions",mN="@firebase/functions-compat",gN="@firebase/installations",vN="@firebase/installations-compat",yN="@firebase/messaging",_N="@firebase/messaging-compat",EN="@firebase/performance",wN="@firebase/performance-compat",TN="@firebase/remote-config",IN="@firebase/remote-config-compat",CN="@firebase/storage",SN="@firebase/storage-compat",xN="@firebase/firestore",RN="@firebase/firestore-compat",AN="firebase",PN="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="[DEFAULT]",kN={[pf]:"fire-core",[oN]:"fire-core-compat",[aN]:"fire-analytics",[sN]:"fire-analytics-compat",[uN]:"fire-app-check",[lN]:"fire-app-check-compat",[cN]:"fire-auth",[hN]:"fire-auth-compat",[fN]:"fire-rtdb",[dN]:"fire-rtdb-compat",[pN]:"fire-fn",[mN]:"fire-fn-compat",[gN]:"fire-iid",[vN]:"fire-iid-compat",[yN]:"fire-fcm",[_N]:"fire-fcm-compat",[EN]:"fire-perf",[wN]:"fire-perf-compat",[TN]:"fire-rc",[IN]:"fire-rc-compat",[CN]:"fire-gcs",[SN]:"fire-gcs-compat",[xN]:"fire-fst",[RN]:"fire-fst-compat","fire-js":"fire-js",[AN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=new Map,gf=new Map;function NN(t,e){try{t.container.addComponent(e)}catch(n){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gl(t){const e=t.name;if(gf.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;gf.set(e,t);for(const n of Kl.values())NN(n,t);return!0}function DN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ir=new pw("app","Firebase",ON);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=PN;function yw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ir.create("bad-app-name",{appName:String(i)});if(n||(n=dw()),!n)throw ir.create("no-options");const o=Kl.get(i);if(o){if(hf(n,o.options)&&hf(r,o.config))return o;throw ir.create("duplicate-app",{appName:i})}const s=new Bk(i);for(const l of gf.values())s.addComponent(l);const a=new VN(n,r,s);return Kl.set(i,a),a}function MN(t=mf){const e=Kl.get(t);if(!e&&t===mf&&dw())return yw();if(!e)throw ir.create("no-app",{appName:t});return e}function Ni(t,e,n){var r;let i=(r=kN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(a.join(" "));return}Gl(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="firebase-heartbeat-database",jN=1,Ds="firebase-heartbeat-store";let qc=null;function _w(){return qc||(qc=eN(LN,jN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ds)}}}).catch(t=>{throw ir.create("idb-open",{originalErrorMessage:t.message})})),qc}async function FN(t){try{return await(await _w()).transaction(Ds).objectStore(Ds).get(Ew(t))}catch(e){if(e instanceof co)zr.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zr.warn(n.message)}}}async function uv(t,e){try{const r=(await _w()).transaction(Ds,"readwrite");await r.objectStore(Ds).put(e,Ew(t)),await r.done}catch(n){if(n instanceof co)zr.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(r.message)}}}function Ew(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=1024,BN=30*24*60*60*1e3;class UN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=BN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cv(),{heartbeatsToSend:n,unsentEntries:r}=zN(this._heartbeatsCache.heartbeats),i=ql(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function cv(){return new Date().toISOString().substring(0,10)}function zN(t,e=bN){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),hv(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ok()?Vk().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await FN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hv(t){return ql(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){Gl(new Ns("platform-logger",e=>new rN(e),"PRIVATE")),Gl(new Ns("heartbeat",e=>new UN(e),"PRIVATE")),Ni(pf,lv,t),Ni(pf,lv,"esm2017"),Ni("fire-js","")}HN("");var qN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,ap=ap||{},U=qN||self;function Ou(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function oa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function KN(t){return Object.prototype.hasOwnProperty.call(t,Kc)&&t[Kc]||(t[Kc]=++GN)}var Kc="closure_uid_"+(1e9*Math.random()>>>0),GN=0;function QN(t,e,n){return t.call.apply(t.bind,arguments)}function XN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function rt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rt=QN:rt=XN,rt.apply(null,arguments)}function za(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Be(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function yr(){this.s=this.s,this.o=this.o}var YN=0;yr.prototype.s=!1;yr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),YN!=0)&&KN(this)};yr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ww=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function lp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function fv(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ou(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function it(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var JN=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{U.addEventListener("test",()=>{},e),U.removeEventListener("test",()=>{},e)}catch{}return t}();function Os(t){return/^[\s\xa0]*$/.test(t)}function Vu(){var t=U.navigator;return t&&(t=t.userAgent)?t:""}function en(t){return Vu().indexOf(t)!=-1}function up(t){return up[" "](t),t}up[" "]=function(){};function ZN(t,e){var n=H2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var e2=en("Opera"),Gi=en("Trident")||en("MSIE"),Tw=en("Edge"),vf=Tw||Gi,Iw=en("Gecko")&&!(Vu().toLowerCase().indexOf("webkit")!=-1&&!en("Edge"))&&!(en("Trident")||en("MSIE"))&&!en("Edge"),t2=Vu().toLowerCase().indexOf("webkit")!=-1&&!en("Edge");function Cw(){var t=U.document;return t?t.documentMode:void 0}var yf;e:{var Gc="",Qc=function(){var t=Vu();if(Iw)return/rv:([^\);]+)(\)|;)/.exec(t);if(Tw)return/Edge\/([\d\.]+)/.exec(t);if(Gi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(t2)return/WebKit\/(\S+)/.exec(t);if(e2)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Qc&&(Gc=Qc?Qc[1]:""),Gi){var Xc=Cw();if(Xc!=null&&Xc>parseFloat(Gc)){yf=String(Xc);break e}}yf=Gc}var _f;if(U.document&&Gi){var dv=Cw();_f=dv||parseInt(yf,10)||void 0}else _f=void 0;var n2=_f;function Vs(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Iw){e:{try{up(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:r2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Vs.$.h.call(this)}}Be(Vs,it);var r2={2:"touch",3:"pen",4:"mouse"};Vs.prototype.h=function(){Vs.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sa="closure_listenable_"+(1e6*Math.random()|0),i2=0;function o2(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++i2,this.fa=this.ia=!1}function $u(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function cp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function s2(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Sw(t){const e={};for(const n in t)e[n]=t[n];return e}const pv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xw(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<pv.length;o++)n=pv[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mu(t){this.src=t,this.g={},this.h=0}Mu.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=wf(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new o2(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Ef(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ww(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&($u(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function wf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var hp="closure_lm_"+(1e6*Math.random()|0),Yc={};function Rw(t,e,n,r,i){if(r&&r.once)return Pw(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Rw(t,e[o],n,r,i);return null}return n=pp(n),t&&t[sa]?t.O(e,n,oa(r)?!!r.capture:!!r,i):Aw(t,e,n,!1,r,i)}function Aw(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=oa(i)?!!i.capture:!!i,a=dp(t);if(a||(t[hp]=a=new Mu(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=a2(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)JN||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Nw(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function a2(){function t(n){return e.call(t.src,t.listener,n)}const e=l2;return t}function Pw(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Pw(t,e[o],n,r,i);return null}return n=pp(n),t&&t[sa]?t.P(e,n,oa(r)?!!r.capture:!!r,i):Aw(t,e,n,!0,r,i)}function kw(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)kw(t,e[o],n,r,i);else r=oa(r)?!!r.capture:!!r,n=pp(n),t&&t[sa]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=wf(o,n,r,i),-1<n&&($u(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=dp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wf(e,n,r,i)),(n=-1<t?e[t]:null)&&fp(n))}function fp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[sa])Ef(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Nw(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=dp(e))?(Ef(n,t),n.h==0&&(n.src=null,e[hp]=null)):$u(t)}}}function Nw(t){return t in Yc?Yc[t]:Yc[t]="on"+t}function l2(t,e){if(t.fa)t=!0;else{e=new Vs(e,this);var n=t.listener,r=t.la||t.src;t.ia&&fp(t),t=n.call(r,e)}return t}function dp(t){return t=t[hp],t instanceof Mu?t:null}var Jc="__closure_events_fn_"+(1e9*Math.random()>>>0);function pp(t){return typeof t=="function"?t:(t[Jc]||(t[Jc]=function(e){return t.handleEvent(e)}),t[Jc])}function be(){yr.call(this),this.i=new Mu(this),this.S=this,this.J=null}Be(be,yr);be.prototype[sa]=!0;be.prototype.removeEventListener=function(t,e,n,r){kw(this,t,e,n,r)};function Ke(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new it(e,t);else if(e instanceof it)e.target=e.target||t;else{var i=e;e=new it(r,t),xw(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Wa(s,r,!0,e)&&i}if(s=e.g=t,i=Wa(s,r,!0,e)&&i,i=Wa(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Wa(s,r,!1,e)&&i}be.prototype.N=function(){if(be.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$u(n[r]);delete t.g[e],t.h--}}this.J=null};be.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};be.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Wa(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Ef(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var mp=U.JSON.stringify;class u2{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function c2(){var t=gp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class h2{constructor(){this.h=this.g=null}add(e,n){const r=Dw.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Dw=new u2(()=>new f2,t=>t.reset());class f2{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function d2(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function p2(t){U.setTimeout(()=>{throw t},0)}let $s,Ms=!1,gp=new h2,Ow=()=>{const t=U.Promise.resolve(void 0);$s=()=>{t.then(m2)}};var m2=()=>{for(var t;t=c2();){try{t.h.call(t.g)}catch(n){p2(n)}var e=Dw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ms=!1};function Lu(t,e){be.call(this),this.h=t||1,this.g=e||U,this.j=rt(this.qb,this),this.l=Date.now()}Be(Lu,be);N=Lu.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ke(this,"tick"),this.ga&&(vp(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function vp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){Lu.$.N.call(this),vp(this),delete this.g};function yp(t,e,n){if(typeof t=="function")n&&(t=rt(t,n));else if(t&&typeof t.handleEvent=="function")t=rt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(t,e||0)}function Vw(t){t.g=yp(()=>{t.g=null,t.i&&(t.i=!1,Vw(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class g2 extends yr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vw(this)}N(){super.N(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(t){yr.call(this),this.h=t,this.g={}}Be(Ls,yr);var mv=[];function $w(t,e,n,r){Array.isArray(n)||(n&&(mv[0]=n.toString()),n=mv);for(var i=0;i<n.length;i++){var o=Rw(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Mw(t){cp(t.g,function(e,n){this.g.hasOwnProperty(n)&&fp(e)},t),t.g={}}Ls.prototype.N=function(){Ls.$.N.call(this),Mw(this)};Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ju(){this.g=!0}ju.prototype.Ea=function(){this.g=!1};function v2(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function y2(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Ci(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+E2(t,n)+(r?" "+r:"")})}function _2(t,e){t.info(function(){return"TIMEOUT: "+e})}ju.prototype.info=function(){};function E2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return mp(n)}catch{return e}}var Yr={},gv=null;function Fu(){return gv=gv||new be}Yr.Ta="serverreachability";function Lw(t){it.call(this,Yr.Ta,t)}Be(Lw,it);function js(t){const e=Fu();Ke(e,new Lw(e))}Yr.STAT_EVENT="statevent";function jw(t,e){it.call(this,Yr.STAT_EVENT,t),this.stat=e}Be(jw,it);function ut(t){const e=Fu();Ke(e,new jw(e,t))}Yr.Ua="timingevent";function Fw(t,e){it.call(this,Yr.Ua,t),this.size=e}Be(Fw,it);function aa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){t()},e)}var bu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _p(){}_p.prototype.h=null;function vv(t){return t.h||(t.h=t.i())}function Bw(){}var la={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ep(){it.call(this,"d")}Be(Ep,it);function wp(){it.call(this,"c")}Be(wp,it);var Tf;function Bu(){}Be(Bu,_p);Bu.prototype.g=function(){return new XMLHttpRequest};Bu.prototype.i=function(){return{}};Tf=new Bu;function ua(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ls(this),this.P=w2,t=vf?125:void 0,this.V=new Lu(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Uw}function Uw(){this.i=null,this.g="",this.h=!1}var w2=45e3,If={},Ql={};N=ua.prototype;N.setTimeout=function(t){this.P=t};function Cf(t,e,n){t.L=1,t.v=zu(Pn(e)),t.s=n,t.S=!0,zw(t,null)}function zw(t,e){t.G=Date.now(),ca(t),t.A=Pn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Yw(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Uw,t.g=y1(t.l,n?e:null,!t.s),0<t.O&&(t.M=new g2(rt(t.Pa,t,t.g),t.O)),$w(t.U,t.g,"readystatechange",t.nb),e=t.I?Sw(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),js(),v2(t.j,t.u,t.A,t.m,t.W,t.s)}N.nb=function(t){t=t.target;const e=this.M;e&&tn(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{const c=tn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||vf||this.g&&(this.h.h||this.g.ja()||wv(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?js(3):js(2)),Uu(this);var n=this.g.da();this.ca=n;t:if(Ww(this)){var r=wv(this.g);t="";var i=r.length,o=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pr(this),ns(this);var s="";break t}this.h.i=new U.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,y2(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Os(a)){var u=a;break t}}u=null}if(n=u)Ci(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sf(this,n);else{this.i=!1,this.o=3,ut(12),Pr(this),ns(this);break e}}this.S?(Hw(this,c,s),vf&&this.i&&c==3&&($w(this.U,this.V,"tick",this.mb),this.V.start())):(Ci(this.j,this.m,s,null),Sf(this,s)),c==4&&Pr(this),this.i&&!this.J&&(c==4?p1(this.l,this):(this.i=!1,ca(this)))}else U2(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,ut(12)):(this.o=0,ut(13)),Pr(this),ns(this)}}}catch{}finally{}};function Ww(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Hw(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=T2(t,n),i==Ql){e==4&&(t.o=4,ut(14),r=!1),Ci(t.j,t.m,null,"[Incomplete Response]");break}else if(i==If){t.o=4,ut(15),Ci(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ci(t.j,t.m,i,null),Sf(t,i);Ww(t)&&i!=Ql&&i!=If&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ut(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rp(e),e.M=!0,ut(11))):(Ci(t.j,t.m,n,"[Invalid Chunked Response]"),Pr(t),ns(t))}N.mb=function(){if(this.g){var t=tn(this.g),e=this.g.ja();this.C<e.length&&(Uu(this),Hw(this,t,e),this.i&&t!=4&&ca(this))}};function T2(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ql:(n=Number(e.substring(n,r)),isNaN(n)?If:(r+=1,r+n>e.length?Ql:(e=e.slice(r,r+n),t.C=r+n,e)))}N.cancel=function(){this.J=!0,Pr(this)};function ca(t){t.Y=Date.now()+t.P,qw(t,t.P)}function qw(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=aa(rt(t.lb,t),e)}function Uu(t){t.B&&(U.clearTimeout(t.B),t.B=null)}N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(_2(this.j,this.A),this.L!=2&&(js(),ut(17)),Pr(this),this.o=2,ns(this)):qw(this,this.Y-t)};function ns(t){t.l.H==0||t.J||p1(t.l,t)}function Pr(t){Uu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,vp(t.V),Mw(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sf(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||xf(n.i,t))){if(!t.K&&xf(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Jl(n),qu(n);else break e;xp(n),ut(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=aa(rt(n.ib,n),6e3));if(1>=e1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else kr(n,11)}else if((t.K||n.g==t)&&Jl(n),!Os(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.i;o.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Tp(o,o.h),o.h=null))}if(r.F){const E=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,he(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=v1(r,r.J?r.pa:null,r.Y),s.K){t1(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Uu(a),ca(a)),r.g=s}else f1(r);0<n.j.length&&Ku(n)}else u[0]!="stop"&&u[0]!="close"||kr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?kr(n,7):Sp(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}js(4)}catch{}}function I2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ou(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function C2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ou(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Kw(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ou(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=C2(t),r=I2(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var Gw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function S2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function $r(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof $r){this.h=t.h,Xl(this,t.j),this.s=t.s,this.g=t.g,Yl(this,t.m),this.l=t.l;var e=t.i,n=new Fs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),yv(this,n),this.o=t.o}else t&&(e=String(t).match(Gw))?(this.h=!1,Xl(this,e[1]||"",!0),this.s=Fo(e[2]||""),this.g=Fo(e[3]||"",!0),Yl(this,e[4]),this.l=Fo(e[5]||"",!0),yv(this,e[6]||"",!0),this.o=Fo(e[7]||"")):(this.h=!1,this.i=new Fs(null,this.h))}$r.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bo(e,_v,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(bo(e,_v,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(bo(n,n.charAt(0)=="/"?A2:R2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",bo(n,k2)),t.join("")};function Pn(t){return new $r(t)}function Xl(t,e,n){t.j=n?Fo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function yv(t,e,n){e instanceof Fs?(t.i=e,N2(t.i,t.h)):(n||(e=bo(e,P2)),t.i=new Fs(e,t.h))}function he(t,e,n){t.i.set(e,n)}function zu(t){return he(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,x2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function x2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var _v=/[#\/\?@]/g,R2=/[#\?:]/g,A2=/[#\?]/g,P2=/[#\?@]/g,k2=/#/g;function Fs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _r(t){t.g||(t.g=new Map,t.h=0,t.i&&S2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=Fs.prototype;N.add=function(t,e){_r(this),this.i=null,t=ho(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Qw(t,e){_r(t),e=ho(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Xw(t,e){return _r(t),e=ho(t,e),t.g.has(e)}N.forEach=function(t,e){_r(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};N.ta=function(){_r(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};N.Z=function(t){_r(this);let e=[];if(typeof t=="string")Xw(this,t)&&(e=e.concat(this.g.get(ho(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return _r(this),this.i=null,t=ho(this,t),Xw(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Yw(t,e,n){Qw(t,e),0<n.length&&(t.i=null,t.g.set(ho(t,e),lp(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ho(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function N2(t,e){e&&!t.j&&(_r(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Qw(this,r),Yw(this,i,n))},t)),t.j=e}var D2=class{constructor(t,e){this.g=t,this.map=e}};function Jw(t){this.l=t||O2,U.PerformanceNavigationTiming?(t=U.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(U.g&&U.g.Ka&&U.g.Ka()&&U.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var O2=10;function Zw(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function e1(t){return t.h?1:t.g?t.g.size:0}function xf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Tp(t,e){t.g?t.g.add(e):t.h=e}function t1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Jw.prototype.cancel=function(){if(this.i=n1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function n1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return lp(t.i)}var V2=class{stringify(t){return U.JSON.stringify(t,void 0)}parse(t){return U.JSON.parse(t,void 0)}};function $2(){this.g=new V2}function M2(t,e,n){const r=n||"";try{Kw(t,function(i,o){let s=i;oa(i)&&(s=mp(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function L2(t,e){const n=new ju;if(U.Image){const r=new Image;r.onload=za(Ha,n,r,"TestLoadImage: loaded",!0,e),r.onerror=za(Ha,n,r,"TestLoadImage: error",!1,e),r.onabort=za(Ha,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=za(Ha,n,r,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ha(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ha(t){this.l=t.fc||null,this.j=t.ob||!1}Be(ha,_p);ha.prototype.g=function(){return new Wu(this.l,this.j)};ha.prototype.i=function(t){return function(){return t}}({});function Wu(t,e){be.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ip,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Be(Wu,be);var Ip=0;N=Wu.prototype;N.open=function(t,e){if(this.readyState!=Ip)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bs(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||U).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=Ip};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;r1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function r1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fa(this):bs(this),this.readyState==3&&r1(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,fa(this))};N.Ya=function(t){this.g&&(this.response=t,fa(this))};N.ka=function(){this.g&&fa(this)};function fa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bs(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function bs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var j2=U.JSON.parse;function Ce(t){be.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=i1,this.L=this.M=!1}Be(Ce,be);var i1="",F2=/^https?$/i,b2=["POST","PUT"];N=Ce.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Tf.g(),this.C=this.u?vv(this.u):vv(Tf),this.g.onreadystatechange=rt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Ev(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=U.FormData&&t instanceof U.FormData,!(0<=ww(b2,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{a1(this),0<this.B&&((this.L=B2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rt(this.ua,this)):this.A=yp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Ev(this,o)}};function B2(t){return Gi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof ap<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ke(this,"timeout"),this.abort(8))};function Ev(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,o1(t),Hu(t)}function o1(t){t.F||(t.F=!0,Ke(t,"complete"),Ke(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ke(this,"complete"),Ke(this,"abort"),Hu(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hu(this,!0)),Ce.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?s1(this):this.kb())};N.kb=function(){s1(this)};function s1(t){if(t.h&&typeof ap<"u"&&(!t.C[1]||tn(t)!=4||t.da()!=2)){if(t.v&&tn(t)==4)yp(t.La,0,t);else if(Ke(t,"readystatechange"),tn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(Gw)[1]||null;!i&&U.self&&U.self.location&&(i=U.self.location.protocol.slice(0,-1)),r=!F2.test(i?i.toLowerCase():"")}n=r}if(n)Ke(t,"complete"),Ke(t,"success");else{t.m=6;try{var o=2<tn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",o1(t)}}finally{Hu(t)}}}}function Hu(t,e){if(t.g){a1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ke(t,"ready");try{n.onreadystatechange=r}catch{}}}function a1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(U.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function tn(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),j2(e)}};function wv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case i1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function U2(t){const e={};t=(t.g&&2<=tn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Os(t[r]))continue;var n=d2(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}s2(e,function(r){return r.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function l1(t){let e="";return cp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Cp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=l1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):he(t,e,n))}function Do(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function u1(t){this.Ga=0,this.j=[],this.l=new ju,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Do("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Do("baseRetryDelayMs",5e3,t),this.hb=Do("retryDelaySeedMs",1e4,t),this.eb=Do("forwardChannelMaxRetries",2,t),this.xa=Do("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Jw(t&&t.concurrentRequestLimit),this.Ja=new $2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=u1.prototype;N.ra=8;N.H=1;function Sp(t){if(c1(t),t.H==3){var e=t.W++,n=Pn(t.I);if(he(n,"SID",t.K),he(n,"RID",e),he(n,"TYPE","terminate"),da(t,n),e=new ua(t,t.l,e),e.L=2,e.v=zu(Pn(n)),n=!1,U.navigator&&U.navigator.sendBeacon)try{n=U.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&U.Image&&(new Image().src=e.v,n=!0),n||(e.g=y1(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ca(e)}g1(t)}function qu(t){t.g&&(Rp(t),t.g.cancel(),t.g=null)}function c1(t){qu(t),t.u&&(U.clearTimeout(t.u),t.u=null),Jl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&U.clearTimeout(t.m),t.m=null)}function Ku(t){if(!Zw(t.i)&&!t.m){t.m=!0;var e=t.Na;$s||Ow(),Ms||($s(),Ms=!0),gp.add(e,t),t.C=0}}function z2(t,e){return e1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=aa(rt(t.Na,t,e),m1(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ua(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Sw(o),xw(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=h1(this,i,e),n=Pn(this.I),he(n,"RID",t),he(n,"CVER",22),this.F&&he(n,"X-HTTP-Session-Id",this.F),da(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(l1(o)))+"&"+e:this.o&&Cp(n,this.o,o)),Tp(this.i,i),this.bb&&he(n,"TYPE","init"),this.P?(he(n,"$req",e),he(n,"SID","null"),i.aa=!0,Cf(i,n,null)):Cf(i,n,e),this.H=2}}else this.H==3&&(t?Tv(this,t):this.j.length==0||Zw(this.i)||Tv(this))};function Tv(t,e){var n;e?n=e.m:n=t.W++;const r=Pn(t.I);he(r,"SID",t.K),he(r,"RID",n),he(r,"AID",t.V),da(t,r),t.o&&t.s&&Cp(r,t.o,t.s),n=new ua(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=h1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Tp(t.i,n),Cf(n,r,e)}function da(t,e){t.na&&cp(t.na,function(n,r){he(e,r,n)}),t.h&&Kw({},function(n,r){he(e,r,n)})}function h1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?rt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{M2(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function f1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;$s||Ow(),Ms||($s(),Ms=!0),gp.add(e,t),t.A=0}}function xp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=aa(rt(t.Ma,t),m1(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,d1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=aa(rt(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ut(10),qu(this),d1(this))};function Rp(t){t.B!=null&&(U.clearTimeout(t.B),t.B=null)}function d1(t){t.g=new ua(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Pn(t.wa);he(e,"RID","rpc"),he(e,"SID",t.K),he(e,"AID",t.V),he(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&he(e,"TO",t.qa),he(e,"TYPE","xmlhttp"),da(t,e),t.o&&t.s&&Cp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=zu(Pn(e)),n.s=null,n.S=!0,zw(n,t)}N.ib=function(){this.v!=null&&(this.v=null,qu(this),xp(this),ut(19))};function Jl(t){t.v!=null&&(U.clearTimeout(t.v),t.v=null)}function p1(t,e){var n=null;if(t.g==e){Jl(t),Rp(t),t.g=null;var r=2}else if(xf(t.i,e))n=e.F,t1(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Fu(),Ke(r,new Fw(r,n)),Ku(t)}else f1(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&z2(t,e)||r==2&&xp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:kr(t,5);break;case 4:kr(t,10);break;case 3:kr(t,6);break;default:kr(t,2)}}}function m1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function kr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=rt(t.pb,t);n||(n=new $r("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||Xl(n,"https"),zu(n)),L2(n.toString(),r)}else ut(2);t.H=0,t.h&&t.h.za(e),g1(t),c1(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ut(2)):(this.l.info("Failed to ping google.com"),ut(1))};function g1(t){if(t.H=0,t.ma=[],t.h){const e=n1(t.i);(e.length!=0||t.j.length!=0)&&(fv(t.ma,e),fv(t.ma,t.j),t.i.i.length=0,lp(t.j),t.j.length=0),t.h.ya()}}function v1(t,e,n){var r=n instanceof $r?Pn(n):new $r(n);if(r.g!="")e&&(r.g=e+"."+r.g),Yl(r,r.m);else{var i=U.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new $r(null);r&&Xl(o,r),e&&(o.g=e),i&&Yl(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&he(r,n,e),he(r,"VER",t.ra),da(t,r),r}function y1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ce(new ha({ob:!0})):new Ce(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function _1(){}N=_1.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function Zl(){if(Gi&&!(10<=Number(n2)))throw Error("Environmental error: no available transport.")}Zl.prototype.g=function(t,e){return new xt(t,e)};function xt(t,e){be.call(this),this.g=new u1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Os(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Os(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new fo(this)}Be(xt,be);xt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ut(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=v1(t,null,t.Y),Ku(t)};xt.prototype.close=function(){Sp(this.g)};xt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=mp(t),t=n);e.j.push(new D2(e.fb++,t)),e.H==3&&Ku(e)};xt.prototype.N=function(){this.g.h=null,delete this.j,Sp(this.g),delete this.g,xt.$.N.call(this)};function E1(t){Ep.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Be(E1,Ep);function w1(){wp.call(this),this.status=1}Be(w1,wp);function fo(t){this.g=t}Be(fo,_1);fo.prototype.Ba=function(){Ke(this.g,"a")};fo.prototype.Aa=function(t){Ke(this.g,new E1(t))};fo.prototype.za=function(t){Ke(this.g,new w1)};fo.prototype.ya=function(){Ke(this.g,"b")};function W2(){this.blockSize=-1}function Qt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Be(Qt,W2);Qt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Zc(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Qt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Zc(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Zc(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Zc(this,r),i=0;break}}this.h=i,this.i+=e};Qt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var H2={};function Ap(t){return-128<=t&&128>t?ZN(t,function(e){return new oe([e|0],0>e?-1:0)}):new oe([t|0],0>t?-1:0)}function nn(t){if(isNaN(t)||!isFinite(t))return Di;if(0>t)return We(nn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Rf;return new oe(e,0)}function T1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return We(T1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=nn(Math.pow(e,8)),r=Di,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=nn(Math.pow(e,o)),r=r.R(o).add(nn(s))):(r=r.R(n),r=r.add(nn(s)))}return r}var Rf=4294967296,Di=Ap(0),Af=Ap(1),Iv=Ap(16777216);N=oe.prototype;N.ea=function(){if(Nt(this))return-We(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Rf+r)*e,e*=Rf}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(vn(this))return"0";if(Nt(this))return"-"+We(this).toString(t);for(var e=nn(Math.pow(t,6)),n=this,r="";;){var i=tu(n,e).g;n=eu(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,vn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function vn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Nt(t){return t.h==-1}N.X=function(t){return t=eu(this,t),Nt(t)?-1:vn(t)?0:1};function We(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new oe(n,~t.h).add(Af)}N.abs=function(){return Nt(this)?We(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new oe(n,n[n.length-1]&-2147483648?-1:0)};function eu(t,e){return t.add(We(e))}N.R=function(t){if(vn(this)||vn(t))return Di;if(Nt(this))return Nt(t)?We(this).R(We(t)):We(We(this).R(t));if(Nt(t))return We(this.R(We(t)));if(0>this.X(Iv)&&0>t.X(Iv))return nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,qa(n,2*r+2*i),n[2*r+2*i+1]+=o*l,qa(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,qa(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,qa(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new oe(n,0)};function qa(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Oo(t,e){this.g=t,this.h=e}function tu(t,e){if(vn(e))throw Error("division by zero");if(vn(t))return new Oo(Di,Di);if(Nt(t))return e=tu(We(t),e),new Oo(We(e.g),We(e.h));if(Nt(e))return e=tu(t,We(e)),new Oo(We(e.g),e.h);if(30<t.g.length){if(Nt(t)||Nt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Af,r=e;0>=r.X(t);)n=Cv(n),r=Cv(r);var i=ai(n,1),o=ai(r,1);for(r=ai(r,2),n=ai(n,2);!vn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ai(r,1),n=ai(n,1)}return e=eu(t,i.R(e)),new Oo(i,e)}for(i=Di;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=nn(n),s=o.R(e);Nt(s)||0<s.X(t);)n-=r,o=nn(n),s=o.R(e);vn(o)&&(o=Af),i=i.add(o),t=eu(t,s)}return new Oo(i,t)}N.gb=function(t){return tu(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new oe(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new oe(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new oe(n,this.h^t.h)};function Cv(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new oe(n,t.h)}function ai(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new oe(i,t.h)}Zl.prototype.createWebChannel=Zl.prototype.g;xt.prototype.send=xt.prototype.u;xt.prototype.open=xt.prototype.m;xt.prototype.close=xt.prototype.close;bu.NO_ERROR=0;bu.TIMEOUT=8;bu.HTTP_ERROR=6;bw.COMPLETE="complete";Bw.EventType=la;la.OPEN="a";la.CLOSE="b";la.ERROR="c";la.MESSAGE="d";be.prototype.listen=be.prototype.O;Ce.prototype.listenOnce=Ce.prototype.P;Ce.prototype.getLastError=Ce.prototype.Sa;Ce.prototype.getLastErrorCode=Ce.prototype.Ia;Ce.prototype.getStatus=Ce.prototype.da;Ce.prototype.getResponseJson=Ce.prototype.Wa;Ce.prototype.getResponseText=Ce.prototype.ja;Ce.prototype.send=Ce.prototype.ha;Ce.prototype.setWithCredentials=Ce.prototype.Oa;Qt.prototype.digest=Qt.prototype.l;Qt.prototype.reset=Qt.prototype.reset;Qt.prototype.update=Qt.prototype.j;oe.prototype.add=oe.prototype.add;oe.prototype.multiply=oe.prototype.R;oe.prototype.modulo=oe.prototype.gb;oe.prototype.compare=oe.prototype.X;oe.prototype.toNumber=oe.prototype.ea;oe.prototype.toString=oe.prototype.toString;oe.prototype.getBits=oe.prototype.D;oe.fromNumber=nn;oe.fromString=T1;var q2=function(){return new Zl},K2=function(){return Fu()},eh=bu,G2=bw,Q2=Yr,Sv={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},X2=ha,Ka=Bw,Y2=Ce,J2=Qt,Oi=oe;const xv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new mw("@firebase/firestore");function Rv(){return Wr.logLevel}function M(t,...e){if(Wr.logLevel<=ee.DEBUG){const n=e.map(Pp);Wr.debug(`Firestore (${po}): ${t}`,...n)}}function kn(t,...e){if(Wr.logLevel<=ee.ERROR){const n=e.map(Pp);Wr.error(`Firestore (${po}): ${t}`,...n)}}function Qi(t,...e){if(Wr.logLevel<=ee.WARN){const n=e.map(Pp);Wr.warn(`Firestore (${po}): ${t}`,...n)}}function Pp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(t="Unexpected state"){const e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+t;throw kn(e),new Error(e)}function pe(t,e){t||B()}function q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends co{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}}class eD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tD{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new wn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new I1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string"),new Ze(e)}}class nD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,M("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string"),this.R=n.token,new iD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function Xi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Me(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new Me(0,0))}static max(){return new z(new Me(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,r){n===void 0?n=0:n>e.length&&B(),r===void 0?r=e.length-n:r>e.length-n&&B(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends Bs{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const aD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends Bs{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return aD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new V(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new V(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.path=e}static fromPath(e){return new F(fe.fromString(e))}static fromName(e){return new F(fe.fromString(e).popFirst(5))}static empty(){return new F(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new fe(e.slice()))}}function lD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=z.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new ur(i,F.empty(),e)}function uD(t){return new ur(t.readTime,t.key,-1)}class ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ur(z.min(),F.empty(),-1)}static max(){return new ur(z.max(),F.empty(),-1)}}function cD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=F.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==hD)throw t;M("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new P((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function ma(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kp.ae=-1;function Gu(t){return t==null}function nu(t){return t===0&&1/t==-1/0}function dD(t){return typeof t=="number"&&Number.isInteger(t)&&!nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,n){this.comparator=e,this.root=n||ze.EMPTY}insert(e,n){return new we(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new we(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ga(this.root,e,this.comparator,!0)}}class Ga{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??ze.EMPTY,this.right=o??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new we(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new Ht([])}unionWith(e){let n=new ot(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ht(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new x1("Invalid base64 string: "+o):o}}(e);return new at(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const pD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(t){if(pe(!!t),typeof t=="string"){let e=0;const n=pD.exec(t);if(pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hr(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Dp(t){const e=t.mapValue.fields.__previous_value__;return Np(e)?Dp(e):e}function Us(t){const e=cr(t.mapValue.fields.__local_write_time__.timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class zs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Np(t)?4:gD(t)?9007199254740991:10:B()}function un(t,e){if(t===e)return!0;const n=qr(t);if(n!==qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Us(t).isEqual(Us(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=cr(i.timestampValue),a=cr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Hr(i.bytesValue).isEqual(Hr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?nu(s)===nu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Xi(t.arrayValue.values||[],e.arrayValue.values||[],un);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Av(s)!==Av(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!un(s[l],a[l])))return!1;return!0}(t,e);default:return B()}}function Ws(t,e){return(t.values||[]).find(n=>un(n,e))!==void 0}function Yi(t,e){if(t===e)return 0;const n=qr(t),r=qr(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ae(o.integerValue||o.doubleValue),l=Ae(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return kv(t.timestampValue,e.timestampValue);case 4:return kv(Us(t),Us(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Hr(o),l=Hr(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Z(a[u],l[u]);if(c!==0)return c}return Z(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Z(Ae(o.latitude),Ae(s.latitude));return a!==0?a:Z(Ae(o.longitude),Ae(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Yi(a[u],l[u]);if(c)return c}return Z(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Qa.mapValue&&s===Qa.mapValue)return 0;if(o===Qa.mapValue)return 1;if(s===Qa.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Z(l[h],c[h]);if(f!==0)return f;const p=Yi(a[l[h]],u[c[h]]);if(p!==0)return p}return Z(l.length,c.length)}(t.mapValue,e.mapValue);default:throw B()}}function kv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);const n=cr(t),r=cr(e),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function Ji(t){return Pf(t)}function Pf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return F.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Pf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Pf(n.fields[s])}`;return i+"}"}(t.mapValue):B()}function Nv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kf(t){return!!t&&"integerValue"in t}function Op(t){return!!t&&"arrayValue"in t}function Dv(t){return!!t&&"nullValue"in t}function Ov(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hl(t){return!!t&&"mapValue"in t}function rs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rs(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=rs(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());hl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];hl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Dt(rs(this.value))}}function R1(t){const e=[];return mo(t.fields,(n,r)=>{const i=new nt([n]);if(hl(r)){const o=R1(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ht(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new tt(e,0,z.min(),z.min(),z.min(),Dt.empty(),0)}static newFoundDocument(e,n,r,i){return new tt(e,1,n,z.min(),r,i,0)}static newNoDocument(e,n){return new tt(e,2,n,z.min(),z.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new tt(e,3,n,z.min(),z.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.position=e,this.inclusive=n}}function Vv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=F.comparator(F.fromName(s.referenceValue),n.key):r=Yi(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $v(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!un(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n="asc"){this.field=e,this.dir=n}}function vD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{}class Ne extends A1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _D(e,n,r):n==="array-contains"?new TD(e,r):n==="in"?new ID(e,r):n==="not-in"?new CD(e,r):n==="array-contains-any"?new SD(e,r):new Ne(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ED(e,r):new wD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yi(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(Yi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return B()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xt extends A1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Xt(e,n)}matches(e){return P1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function P1(t){return t.op==="and"}function k1(t){return yD(t)&&P1(t)}function yD(t){for(const e of t.filters)if(e instanceof Xt)return!1;return!0}function Nf(t){if(t instanceof Ne)return t.field.canonicalString()+t.op.toString()+Ji(t.value);if(k1(t))return t.filters.map(e=>Nf(e)).join(",");{const e=t.filters.map(n=>Nf(n)).join(",");return`${t.op}(${e})`}}function N1(t,e){return t instanceof Ne?function(r,i){return i instanceof Ne&&r.op===i.op&&r.field.isEqual(i.field)&&un(r.value,i.value)}(t,e):t instanceof Xt?function(r,i){return i instanceof Xt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&N1(s,i.filters[a]),!0):!1}(t,e):void B()}function D1(t){return t instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${Ji(n.value)}`}(t):t instanceof Xt?function(n){return n.op.toString()+" {"+n.getFilters().map(D1).join(" ,")+"}"}(t):"Filter"}class _D extends Ne{constructor(e,n,r){super(e,n,r),this.key=F.fromName(r.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.matchesComparison(n)}}class ED extends Ne{constructor(e,n){super(e,"in",n),this.keys=O1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wD extends Ne{constructor(e,n){super(e,"not-in",n),this.keys=O1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function O1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>F.fromName(r.referenceValue))}class TD extends Ne{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&Ws(n.arrayValue,this.value)}}class ID extends Ne{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ws(this.value.arrayValue,n)}}class CD extends Ne{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ws(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ws(this.value.arrayValue,n)}}class SD extends Ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ws(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.he=null}}function Mv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new xD(t,e,n,r,i,o,s)}function Vp(t){const e=q(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Gu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ji(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ji(r)).join(",")),e.he=n}return e.he}function $p(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!N1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$v(t.startAt,e.startAt)&&$v(t.endAt,e.endAt)}function Df(t){return F.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function RD(t,e,n,r,i,o,s,a){return new ga(t,e,n,r,i,o,s,a)}function Mp(t){return new ga(t)}function Lv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function V1(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Lp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function $1(t){return t.collectionGroup!==null}function Vi(t){const e=q(t);if(e.Pe===null){e.Pe=[];const n=Lp(e),r=V1(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new is(n)),e.Pe.push(new is(nt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new is(nt.keyField(),o))}}}return e.Pe}function Nn(t){const e=q(t);if(!e.Ie)if(e.limitType==="F")e.Ie=Mv(e.path,e.collectionGroup,Vi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Vi(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new is(o.field,s))}const r=e.endAt?new ru(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ru(e.startAt.position,e.startAt.inclusive):null;e.Ie=Mv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.Ie}function Of(t,e){e.getFirstInequalityField(),Lp(t);const n=t.filters.concat([e]);return new ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vf(t,e,n){return new ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qu(t,e){return $p(Nn(t),Nn(e))&&t.limitType===e.limitType}function M1(t){return`${Vp(Nn(t))}|lt:${t.limitType}`}function $f(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>D1(i)).join(", ")}]`),Gu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ji(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ji(i)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function Xu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):F.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Vi(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Vv(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Vi(r),i)||r.endAt&&!function(s,a,l){const u=Vv(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Vi(r),i))}(t,e)}function AD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function L1(t){return(e,n)=>{let r=!1;for(const i of Vi(t)){const o=PD(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function PD(t,e,n){const r=t.field.isKeyField()?F.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Yi(l,u):B()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return S1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new we(F.comparator);function Dn(){return kD}const j1=new we(F.comparator);function Bo(...t){let e=j1;for(const n of t)e=e.insert(n.key,n);return e}function F1(t){let e=j1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Nr(){return os()}function b1(){return os()}function os(){return new go(t=>t.toString(),(t,e)=>t.isEqual(e))}const ND=new we(F.comparator),DD=new ot(F.comparator);function K(...t){let e=DD;for(const n of t)e=e.add(n);return e}const OD=new ot(Z);function VD(){return OD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(e)?"-0":e}}function U1(t){return{integerValue:""+t}}function $D(t,e){return dD(e)?U1(e):B1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this._=void 0}}function MD(t,e,n){return t instanceof Hs?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Np(o)&&(o=Dp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof qs?W1(t,e):t instanceof Ks?H1(t,e):function(i,o){const s=z1(i,o),a=jv(s)+jv(i.Te);return kf(s)&&kf(i.Te)?U1(a):B1(i.serializer,a)}(t,e)}function LD(t,e,n){return t instanceof qs?W1(t,e):t instanceof Ks?H1(t,e):n}function z1(t,e){return t instanceof iu?function(r){return kf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Hs extends Yu{}class qs extends Yu{constructor(e){super(),this.elements=e}}function W1(t,e){const n=q1(e);for(const r of t.elements)n.some(i=>un(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ks extends Yu{constructor(e){super(),this.elements=e}}function H1(t,e){let n=q1(e);for(const r of t.elements)n=n.filter(i=>!un(i,r));return{arrayValue:{values:n}}}class iu extends Yu{constructor(e,n){super(),this.serializer=e,this.Te=n}}function jv(t){return Ae(t.integerValue||t.doubleValue)}function q1(t){return Op(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.field=e,this.transform=n}}function FD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qs&&i instanceof qs||r instanceof Ks&&i instanceof Ks?Xi(r.elements,i.elements,un):r instanceof iu&&i instanceof iu?un(r.Te,i.Te):r instanceof Hs&&i instanceof Hs}(t.transform,e.transform)}class bD{constructor(e,n){this.version=e,this.transformResults=n}}class Tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ju{}function K1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Q1(t.key,Tn.none()):new va(t.key,t.data,Tn.none());{const n=t.data,r=Dt.empty();let i=new ot(nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Jr(t.key,r,new Ht(i.toArray()),Tn.none())}}function BD(t,e,n){t instanceof va?function(i,o,s){const a=i.value.clone(),l=bv(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Jr?function(i,o,s){if(!fl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=bv(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(G1(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ss(t,e,n,r){return t instanceof va?function(o,s,a,l){if(!fl(o.precondition,s))return a;const u=o.value.clone(),c=Bv(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jr?function(o,s,a,l){if(!fl(o.precondition,s))return a;const u=Bv(o.fieldTransforms,l,s),c=s.data;return c.setAll(G1(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return fl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function UD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=z1(r.transform,i||null);o!=null&&(n===null&&(n=Dt.empty()),n.set(r.field,o))}return n||null}function Fv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xi(r,i,(o,s)=>FD(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class va extends Ju{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jr extends Ju{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function G1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bv(t,e,n){const r=new Map;pe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,LD(s,a,n[i]))}return r}function Bv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,MD(o,s,e))}return r}class Q1 extends Ju{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zD extends Ju{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&BD(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ss(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ss(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b1();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=K1(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),K())}isEqual(e){return this.batchId===e.batchId&&Xi(this.mutations,e.mutations,(n,r)=>Fv(n,r))&&Xi(this.baseMutations,e.baseMutations,(n,r)=>Fv(n,r))}}class jp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pe(e.mutations.length===r.length);let i=function(){return ND}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new jp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Y;function KD(t){switch(t){default:return B();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function X1(t){if(t===void 0)return kn("GRPC error has no .code"),x.UNKNOWN;switch(t){case Re.OK:return x.OK;case Re.CANCELLED:return x.CANCELLED;case Re.UNKNOWN:return x.UNKNOWN;case Re.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Re.INTERNAL:return x.INTERNAL;case Re.UNAVAILABLE:return x.UNAVAILABLE;case Re.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Re.NOT_FOUND:return x.NOT_FOUND;case Re.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Re.ABORTED:return x.ABORTED;case Re.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Re.DATA_LOSS:return x.DATA_LOSS;default:return B()}}(Y=Re||(Re={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Xa}static getOrCreateInstance(){return Xa===null&&(Xa=new Fp),Xa}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Xa=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Oi([4294967295,4294967295],0);function Uv(t){const e=GD().encode(t),n=new J2;return n.update(e),new Uint8Array(n.digest())}function zv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Oi([n,r],0),new Oi([i,o],0)]}class bp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(r<0)throw new Uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*e.length-n,this.Ae=Oi.fromNumber(this.de)}Re(e,n,r){let i=e.add(n.multiply(Oi.fromNumber(r)));return i.compare(QD)===1&&(i=new Oi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ae).toNumber()}Ve(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.de===0)return!1;const n=Uv(e),[r,i]=zv(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);if(!this.Ve(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new bp(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.de===0)return;const n=Uv(e),[r,i]=zv(n);for(let o=0;o<this.hashCount;o++){const s=this.Re(r,i,o);this.me(s)}}me(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ya.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zu(z.min(),i,new we(Z),Dn(),K())}}class ya{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ya(r,n,K(),K(),K())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,r,i){this.fe=e,this.removedTargetIds=n,this.key=r,this.ge=i}}class Y1{constructor(e,n){this.targetId=e,this.pe=n}}class J1{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Wv{constructor(){this.ye=0,this.we=qv(),this.Se=at.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=K(),n=K(),r=K();return this.we.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B()}}),new ya(this.Se,this.be,e,n,r)}xe(){this.De=!1,this.we=qv()}Oe(e,n){this.De=!0,this.we=this.we.insert(e,n)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class XD{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=Dn(),this.$e=Hv(),this.Ue=new we(Z)}We(e){for(const n of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(n,e.ge):this.ze(n,e.key,e.ge);for(const n of e.removedTargetIds)this.ze(n,e.key,e.ge)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Fe(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){var n,r;const i=e.targetId,o=e.pe.count,s=this.Xe(i);if(s){const a=s.target;if(Df(a))if(o===0){const l=new F(a.path);this.ze(i,l,tt.newNoDocument(l,z.min()))}else pe(o===1);else{const l=this.et(i);if(l!==o){const u=this.tt(e,l);if(u.status!==0){this.Ye(i);const c=u.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,c)}(n=Fp.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,p,_){var E,w,g,d,v,T;const I={localCacheCount:p,existenceFilterCount:_.count},C=_.unchangedNames;return C&&(I.bloomFilter={applied:h===0,hashCount:(E=C==null?void 0:C.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(d=(g=(w=C==null?void 0:C.bits)===null||w===void 0?void 0:w.bitmap)===null||g===void 0?void 0:g.length)!==null&&d!==void 0?d:0,padding:(T=(v=C==null?void 0:C.bits)===null||v===void 0?void 0:v.padding)!==null&&T!==void 0?T:0},f&&(I.bloomFilter.mightContain=f)),I}(u.status,(r=u.nt)!==null&&r!==void 0?r:null,l,e.pe))}}}}tt(e,n){const{unchangedNames:r,count:i}=e.pe;if(!r||!r.bits)return{status:1};const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=Hr(o).toUint8Array()}catch(h){if(h instanceof x1)return Qi("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw h}try{u=new bp(l,s,a)}catch(h){return Qi(h instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",h),{status:1}}const c=h=>{const f=this.qe.rt();return u.mightContain(`projects/${f.projectId}/databases/${f.database}/documents/${h}`)};return u.de===0?{status:1}:{status:i===n-this.it(e.targetId,c)?0:2,nt:c}}it(e,n){const r=this.qe.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{n(o.path.canonicalString())||(this.ze(e,o,null),i++)}),i}st(e){const n=new Map;this.Qe.forEach((o,s)=>{const a=this.Xe(s);if(a){if(o.current&&Df(a.target)){const l=new F(a.target.path);this.Ke.get(l)!==null||this.ot(s,l)||this.ze(s,l,tt.newNoDocument(l,e))}o.Ce&&(n.set(s,o.Me()),o.xe())}});let r=K();this.$e.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Ke.forEach((o,s)=>s.setReadTime(e));const i=new Zu(e,n,this.Ue,this.Ke,r);return this.Ke=Dn(),this.$e=Hv(),this.Ue=new we(Z),i}Ge(e,n){if(!this.Je(e))return;const r=this.ot(e,n.key)?2:0;this.He(e).Oe(n.key,r),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ot(e,n)?i.Oe(n,1):i.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(e)),r&&(this.Ke=this.Ke.insert(n,r))}removeTarget(e){this.Qe.delete(e)}et(e){const n=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let n=this.Qe.get(e);return n||(n=new Wv,this.Qe.set(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new ot(Z),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||M("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.Qe.get(e);return n&&n.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new Wv),this.qe.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ot(e,n){return this.qe.getRemoteKeysForTarget(e).has(n)}}function Hv(){return new we(F.comparator)}function qv(){return new we(F.comparator)}const YD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),JD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),ZD=(()=>({and:"AND",or:"OR"}))();class eO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mf(t,e){return t.useProto3Json||Gu(e)?e:{value:e}}function ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tO(t,e){return ou(t,e.toTimestamp())}function ln(t){return pe(!!t),z.fromTimestamp(function(n){const r=cr(n);return new Me(r.seconds,r.nanos)}(t))}function Bp(t,e){return function(r){return new fe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function eT(t){const e=fe.fromString(t);return pe(iT(e)),e}function Lf(t,e){return Bp(t.databaseId,e.path)}function th(t,e){const n=eT(e);if(n.get(1)!==t.databaseId.projectId)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(tT(n))}function jf(t,e){return Bp(t.databaseId,e)}function nO(t){const e=eT(t);return e.length===4?fe.emptyPath():tT(e)}function Ff(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tT(t){return pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Kv(t,e,n){return{name:Lf(t,e),fields:n.value.mapValue.fields}}function rO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:B()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(pe(c===void 0||typeof c=="string"),at.fromBase64String(c||"")):(pe(c===void 0||c instanceof Uint8Array),at.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?x.UNKNOWN:X1(u.code);return new V(c,u.message||"")}(s);n=new J1(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=th(t,r.document.name),o=ln(r.document.updateTime),s=r.document.createTime?ln(r.document.createTime):z.min(),a=new Dt({mapValue:{fields:r.document.fields}}),l=tt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new dl(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=th(t,r.document),o=r.readTime?ln(r.readTime):z.min(),s=tt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new dl([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=th(t,r.document),o=r.removedTargetIds||[];n=new dl([],o,i,null)}else{if(!("filter"in e))return B();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new qD(i,o),a=r.targetId;n=new Y1(a,s)}}return n}function iO(t,e){let n;if(e instanceof va)n={update:Kv(t,e.key,e.value)};else if(e instanceof Q1)n={delete:Lf(t,e.key)};else if(e instanceof Jr)n={update:Kv(t,e.key,e.data),updateMask:dO(e.fieldMask)};else{if(!(e instanceof zD))return B();n={verify:Lf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Hs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof iu)return{fieldPath:s.field.canonicalString(),increment:a.Te};throw B()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:tO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:B()}(t,e.precondition)),n}function oO(t,e){return t&&t.length>0?(pe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ln(i.updateTime):ln(o);return s.isEqual(z.min())&&(s=ln(o)),new bD(s,i.transformResults||[])}(n,e))):[]}function sO(t,e){return{documents:[jf(t,e.path)]}}function aO(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=jf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return rT(Xt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:ui(h.field),direction:cO(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Mf(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function lO(t){let e=nO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const f=nT(h);return f instanceof Xt&&k1(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(_){return new is(ci(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Gu(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new ru(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new ru(p,f)}(n.endAt)),RD(e,i,s,o,a,"F",l,u)}function uO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ci(n.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ci(n.unaryFilter.field);return Ne.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ci(n.unaryFilter.field);return Ne.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ci(n.unaryFilter.field);return Ne.create(s,"!=",{nullValue:"NULL_VALUE"});default:return B()}}(t):t.fieldFilter!==void 0?function(n){return Ne.create(ci(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xt.create(n.compositeFilter.filters.map(r=>nT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return B()}}(n.compositeFilter.op))}(t):B()}function cO(t){return YD[t]}function hO(t){return JD[t]}function fO(t){return ZD[t]}function ui(t){return{fieldPath:t.canonicalString()}}function ci(t){return nt.fromServerFormat(t.fieldPath)}function rT(t){return t instanceof Ne?function(n){if(n.op==="=="){if(Ov(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NAN"}};if(Dv(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ov(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NOT_NAN"}};if(Dv(n.value))return{unaryFilter:{field:ui(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ui(n.field),op:hO(n.op),value:n.value}}}(t):t instanceof Xt?function(n){const r=n.getFilters().map(i=>rT(i));return r.length===1?r[0]:{compositeFilter:{op:fO(n.op),filters:r}}}(t):B()}function dO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,r,i,o=z.min(),s=z.min(),a=at.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Kn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.ct=e}}function mO(t){const e=lO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.sn=new vO}addToCollectionParentIndex(e,n){return this.sn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(ur.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class vO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ot(fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new Zi(0)}static On(){return new Zi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.changes=new go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ss(r.mutation,i,Ht.empty(),Me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,K()).next(()=>r))}getLocalViewOfDocuments(e,n,r=K()){const i=Nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Bo();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,K()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Dn();const s=os(),a=function(){return os()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Jr)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ss(c.mutation,u,c.mutation.getFieldMask(),Me.now())):s.set(u.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new _O(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=os();let i=new we((s,a)=>s-a),o=K();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ht.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||K()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=b1();c.forEach(f=>{if(!o.has(f)){const p=K1(n.get(f),r.get(f));p!==null&&h.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(o){return F.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Nr());let a=-1,l=o;return s.next(u=>P.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?P.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,K())).next(c=>({batchId:a,changes:F1(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new F(n)).next(r=>{let i=Bo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Bo();return this.indexManager.getCollectionParents(e,i).next(s=>P.forEach(s,a=>{const l=function(c,h){return new ga(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{o=o.insert(c,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,tt.newInvalidDocument(u)))});let s=Bo();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&ss(u.mutation,l,Ht.empty(),Me.now()),Xu(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,n){return P.resolve(this.ar.get(n))}saveBundleMetadata(e,n){return this.ar.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ln(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.ur.get(n))}saveNamedQuery(e,n){return this.ur.set(n.name,function(i){return{name:i.name,query:mO(i.bundledQuery),readTime:ln(i.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.overlays=new we(F.comparator),this.cr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nr();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.cr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.cr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Nr(),o=n.length+1,s=new F(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new we((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Nr(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Nr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return P.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.cr.get(i.largestBatchId).delete(r.key);this.cr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new HD(n,r));let o=this.cr.get(n);o===void 0&&(o=K(),this.cr.set(n,o)),this.cr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.lr=new ot(Le.hr),this.Pr=new ot(Le.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,n){const r=new Le(e,n);this.lr=this.lr.add(r),this.Pr=this.Pr.add(r)}Tr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Er(new Le(e,n))}dr(e,n){e.forEach(r=>this.removeReference(r,n))}Ar(e){const n=new F(new fe([])),r=new Le(n,e),i=new Le(n,e+1),o=[];return this.Pr.forEachInRange([r,i],s=>{this.Er(s),o.push(s.key)}),o}Rr(){this.lr.forEach(e=>this.Er(e))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const n=new F(new fe([])),r=new Le(n,e),i=new Le(n,e+1);let o=K();return this.Pr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Le(e,0),r=this.lr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Le{constructor(e,n){this.key=e,this.mr=n}static hr(e,n){return F.comparator(e.key,n.key)||Z(e.mr,n.mr)}static Ir(e,n){return Z(e.mr,n.mr)||F.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new ot(Le.hr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new WD(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.pr=this.pr.add(new Le(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.wr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Le(n,0),i=new Le(n,Number.POSITIVE_INFINITY),o=[];return this.pr.forEachInRange([r,i],s=>{const a=this.yr(s.mr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(Z);return n.forEach(i=>{const o=new Le(i,0),s=new Le(i,Number.POSITIVE_INFINITY);this.pr.forEachInRange([o,s],a=>{r=r.add(a.mr)})}),P.resolve(this.Sr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;F.isDocumentKey(o)||(o=o.child(""));const s=new Le(new F(o),0);let a=new ot(Z);return this.pr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.mr)),!0)},s),P.resolve(this.Sr(a))}Sr(e){const n=[];return e.forEach(r=>{const i=this.yr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pe(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.pr;return P.forEach(n.mutations,i=>{const o=new Le(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.pr=r})}Cn(e){}containsKey(e,n){const r=new Le(n,0),i=this.pr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}br(e,n){return this.wr(e)}wr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}yr(e){const n=this.wr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.Dr=e,this.docs=function(){return new we(F.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Dr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(n))}getEntries(e,n){let r=Dn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Dn();const s=n.path,a=new F(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||cD(uD(c),r)<=0||(i.has(c.key)||Xu(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){B()}vr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SO(this)}getSize(e){return P.resolve(this.size)}}class SO extends yO{constructor(e){super(),this.sr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.sr.addEntry(e,i)):this.sr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.sr.getEntry(e,n)}getAllFromCache(e,n){return this.sr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.persistence=e,this.Cr=new go(n=>Vp(n),$p),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Up,this.targetCount=0,this.Or=Zi.xn()}forEachTarget(e,n){return this.Cr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Fr&&(this.Fr=n),P.resolve()}Ln(e){this.Cr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Or=new Zi(n),this.highestTargetId=n),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,n){return this.Ln(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Ln(n),P.resolve()}removeTargetData(e,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Cr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Mr.Tr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Mr.dr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Mr.Ar(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Mr.Vr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n){this.Nr={},this.overlays={},this.Br=new kp(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new xO(this),this.indexManager=new gO,this.remoteDocumentCache=function(i){return new CO(i)}(r=>this.referenceDelegate.qr(r)),this.serializer=new pO(n),this.Qr=new wO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Nr[e.toKey()];return r||(r=new IO(n,this.referenceDelegate),this.Nr[e.toKey()]=r),r}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,n,r){M("MemoryPersistence","Starting transaction:",e);const i=new AO(this.Br.next());return this.referenceDelegate.Kr(),r(i).next(o=>this.referenceDelegate.$r(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ur(e,n){return P.or(Object.values(this.Nr).map(r=>()=>r.containsKey(e,n)))}}class AO extends fD{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Wr=new Up,this.Gr=null}static zr(e){return new zp(e)}get jr(){if(this.Gr)return this.Gr;throw B()}addReference(e,n,r){return this.Wr.addReference(r,n),this.jr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Wr.removeReference(r,n),this.jr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.jr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Wr.Ar(n.targetId).forEach(i=>this.jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Kr(){this.Gr=new Set}$r(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.jr,r=>{const i=F.fromPath(r);return this.Hr(e,i).next(o=>{o||n.removeEntry(i,z.min())})}).next(()=>(this.Gr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hr(e,n).next(r=>{r?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(e){return 0}Hr(e,n){return P.or([()=>P.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ur(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Li=r,this.ki=i}static qi(e,n){let r=K(),i=K();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Wp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.Qi=!1}initialize(e,n){this.Ki=e,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.$i(e,n).next(o=>o||this.Ui(e,n,i,r)).next(o=>o||this.Wi(e,n))}$i(e,n){if(Lv(n))return P.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vf(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=K(...o);return this.Ki.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Gi(n,a);return this.zi(n,u,s,l.readTime)?this.$i(e,Vf(n,null,"F")):this.ji(e,u,n,l)}))})))}Ui(e,n,r,i){return Lv(n)||i.isEqual(z.min())?this.Wi(e,n):this.Ki.getDocuments(e,r).next(o=>{const s=this.Gi(n,o);return this.zi(n,s,r,i)?this.Wi(e,n):(Rv()<=ee.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$f(n)),this.ji(e,s,n,lD(i,-1)))})}Gi(e,n){let r=new ot(L1(e));return n.forEach((i,o)=>{Xu(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Wi(e,n){return Rv()<=ee.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",$f(n)),this.Ki.getDocumentsMatchingQuery(e,n,ur.min())}ji(e,n,r,i){return this.Ki.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new we(Z),this.Yi=new go(o=>Vp(o),$p),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(r)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EO(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function NO(t,e,n,r){return new kO(t,e,n,r)}async function oT(t,e){const n=q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.es(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=K();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ts:u,removedBatchIds:s,addedBatchIds:a}))})})}function DO(t,e){const n=q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=P.resolve();return f.forEach(_=>{p=p.next(()=>c.getEntry(l,_)).next(E=>{const w=u.docVersions.get(_);pe(w!==null),E.version.compareTo(w)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),c.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=K();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sT(t){const e=q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.kr.getLastRemoteSnapshotVersion(n))}function OO(t,e){const n=q(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.kr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.kr.addMatchingKeys(o,c.addedDocuments,h)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(at.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(E,w,g){return E.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,c)&&a.push(n.kr.updateTargetData(o,p))});let l=Dn(),u=K();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(VO(o,s,e.documentUpdates).next(c=>{l=c.ns,u=c.rs})),!r.isEqual(z.min())){const c=n.kr.getLastRemoteSnapshotVersion(o).next(h=>n.kr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=i,o))}function VO(t,e,n){let r=K(),i=K();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Dn();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(z.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ns:s,rs:i}})}function $O(t,e){const n=q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MO(t,e){const n=q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.kr.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.kr.allocateTargetId(r).next(s=>(i=new Kn(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function bf(t,e,n){const r=q(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ma(s))throw s;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Gv(t,e,n){const r=q(t);let i=z.min(),o=K();return r.persistence.runTransaction("Execute query","readonly",s=>function(l,u,c){const h=q(l),f=h.Yi.get(c);return f!==void 0?P.resolve(h.Ji.get(f)):h.kr.getTargetData(u,c)}(r,s,Nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:z.min(),n?o:K())).next(a=>(LO(r,AD(e),a),{documents:a,ss:o})))}function LO(t,e,n){let r=t.Zi.get(e)||z.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Zi.set(e,r)}class Qv{constructor(){this.activeTargetIds=VD()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jO{constructor(){this.Hs=new Qv,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,n,r){this.Js[e]=n}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new Qv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{Ys(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya=null;function nh(){return Ya===null?Ya=function(){return 268435456+Math.round(2147483648*Math.random())}():Ya++,"0x"+Ya.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class UO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.To=r+"://"+n.host,this.Eo=`projects/${i}/databases/${o}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Ro(){return!1}Vo(n,r,i,o,s){const a=nh(),l=this.mo(n,r);M("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,o,s),this.po(n,l,u,i).then(c=>(M("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Qi("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}yo(n,r,i,o,s,a){return this.Vo(n,r,i,o,s)}fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}mo(n,r){const i=bO[n];return`${this.To}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,n,r,i){const o=nh();return new Promise((s,a)=>{const l=new Y2;l.setWithCredentials(!0),l.listenOnce(G2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case eh.NO_ERROR:const c=l.getResponseJson();M(Je,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case eh.TIMEOUT:M(Je,`RPC '${e}' ${o} timed out`),a(new V(x.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const h=l.getStatus();if(M(Je,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const _=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(g)>=0?g:x.UNKNOWN}(p.status);a(new V(_,p.message))}else a(new V(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new V(x.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{M(Je,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);M(Je,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=nh(),o=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=q2(),a=K2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new X2({})),this.fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");M(Je,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let f=!1,p=!1;const _=new BO({so:w=>{p?M(Je,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(M(Je,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),M(Je,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},oo:()=>h.close()}),E=(w,g,d)=>{w.listen(g,v=>{try{d(v)}catch(T){setTimeout(()=>{throw T},0)}})};return E(h,Ka.EventType.OPEN,()=>{p||M(Je,`RPC '${e}' stream ${i} transport opened.`)}),E(h,Ka.EventType.CLOSE,()=>{p||(p=!0,M(Je,`RPC '${e}' stream ${i} transport closed`),_.Po())}),E(h,Ka.EventType.ERROR,w=>{p||(p=!0,Qi(Je,`RPC '${e}' stream ${i} transport errored:`,w),_.Po(new V(x.UNAVAILABLE,"The operation could not be completed")))}),E(h,Ka.EventType.MESSAGE,w=>{var g;if(!p){const d=w.data[0];pe(!!d);const v=d,T=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(T){M(Je,`RPC '${e}' stream ${i} received error:`,T);const I=T.status;let C=function(b){const D=Re[b];if(D!==void 0)return X1(D)}(I),S=T.message;C===void 0&&(C=x.INTERNAL,S="Unknown error status: "+I+" with message "+T.message),p=!0,_.Po(new V(C,S)),h.close()}else M(Je,`RPC '${e}' stream ${i} received:`,d),_.Io(d)}}),E(a,Q2.STAT_EVENT,w=>{w.stat===Sv.PROXY?M(Je,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Sv.NOPROXY&&M(Je,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.ho()},0),_}}function rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){return new eO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.So=r,this.bo=i,this.Do=o,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Fo=Date.now(),e())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r,i,o,s,a,l){this.ii=e,this.Bo=r,this.Lo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new aT(e,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,e!==4?this.Ko.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.ko===n&&this.e_(r,i)},r=>{e(()=>{const i=new V(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.t_(i)})})}e_(e,n){const r=this.Xo(this.ko);this.stream=this.n_(e,n),this.stream._o(()=>{r(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(i=>{r(()=>this.t_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.ko===e?n():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zO extends lT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}n_(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Ko.reset();const n=rO(this.serializer,e),r=function(o){if(!("targetChange"in o))return z.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?ln(s.readTime):z.min()}(e);return this.listener.r_(n,r)}i_(e){const n={};n.database=Ff(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Df(l)?{documents:sO(o,l)}:{query:aO(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Z1(o,s.resumeToken);const u=Mf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(z.min())>0){a.readTime=ou(o,s.snapshotVersion.toTimestamp());const u=Mf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=uO(this.serializer,e);r&&(n.labels=r),this.Ho(n)}s_(e){const n={};n.database=Ff(this.serializer),n.removeTarget=e,this.Ho(n)}}class WO extends lT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();const n=oO(e.writeResults,e.commitTime),r=ln(e.commitTime);return this.listener.u_(r,n)}return pe(!e.writeResults||e.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const e={};e.database=Ff(this.serializer),this.Ho(e)}a_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>iO(this.serializer,r))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.h_=!1}P_(){if(this.h_)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Vo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new V(x.UNKNOWN,i.toString())})}yo(e,n,r,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.yo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(x.UNKNOWN,o.toString())})}terminate(){this.h_=!0}}class qO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(e){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,e==="Online"&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(kn(n),this.d_=!1):M("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=o,this.S_.Ys(s=>{r.enqueueAndForget(async()=>{Zr(this)&&(M("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=q(l);u.y_.add(4),await _a(u),u.b_.set("Unknown"),u.y_.delete(4),await tc(u)}(this))})}),this.b_=new qO(r,i)}}async function tc(t){if(Zr(t))for(const e of t.w_)await e(!0)}async function _a(t){for(const e of t.w_)await e(!1)}function uT(t,e){const n=q(t);n.p_.has(e.targetId)||(n.p_.set(e.targetId,e),Kp(n)?qp(n):vo(n).Uo()&&Hp(n,e))}function cT(t,e){const n=q(t),r=vo(n);n.p_.delete(e),r.Uo()&&hT(n,e),n.p_.size===0&&(r.Uo()?r.zo():Zr(n)&&n.b_.set("Unknown"))}function Hp(t,e){if(t.D_.Be(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(t).i_(e)}function hT(t,e){t.D_.Be(e),vo(t).s_(e)}function qp(t){t.D_=new XD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.p_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),vo(t).start(),t.b_.A_()}function Kp(t){return Zr(t)&&!vo(t).$o()&&t.p_.size>0}function Zr(t){return q(t).y_.size===0}function fT(t){t.D_=void 0}async function GO(t){t.p_.forEach((e,n)=>{Hp(t,e)})}async function QO(t,e){fT(t),Kp(t)?(t.b_.m_(e),qp(t)):t.b_.set("Unknown")}async function XO(t,e,n){if(t.b_.set("Online"),e instanceof J1&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.p_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.p_.delete(a),i.D_.removeTarget(a))}(t,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await su(t,r)}else if(e instanceof dl?t.D_.We(e):e instanceof Y1?t.D_.Ze(e):t.D_.je(e),!n.isEqual(z.min()))try{const r=await sT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.D_.st(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.p_.get(u);c&&o.p_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.p_.get(l);if(!c)return;o.p_.set(l,c.withResumeToken(at.EMPTY_BYTE_STRING,c.snapshotVersion)),hT(o,l);const h=new Kn(c.target,l,u,c.sequenceNumber);Hp(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){M("RemoteStore","Failed to raise snapshot:",r),await su(t,r)}}async function su(t,e,n){if(!ma(e))throw e;t.y_.add(1),await _a(t),t.b_.set("Offline"),n||(n=()=>sT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{M("RemoteStore","Retrying IndexedDB access"),await n(),t.y_.delete(1),await tc(t)})}function dT(t,e){return e().catch(n=>su(t,n,e))}async function nc(t){const e=q(t),n=hr(e);let r=e.g_.length>0?e.g_[e.g_.length-1].batchId:-1;for(;YO(e);)try{const i=await $O(e.localStore,r);if(i===null){e.g_.length===0&&n.zo();break}r=i.batchId,JO(e,i)}catch(i){await su(e,i)}pT(e)&&mT(e)}function YO(t){return Zr(t)&&t.g_.length<10}function JO(t,e){t.g_.push(e);const n=hr(t);n.Uo()&&n.__&&n.a_(e.mutations)}function pT(t){return Zr(t)&&!hr(t).$o()&&t.g_.length>0}function mT(t){hr(t).start()}async function ZO(t){hr(t).l_()}async function eV(t){const e=hr(t);for(const n of t.g_)e.a_(n.mutations)}async function tV(t,e,n){const r=t.g_.shift(),i=jp.from(r,e,n);await dT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nc(t)}async function nV(t,e){e&&hr(t).__&&await async function(r,i){if(function(s){return KD(s)&&s!==x.ABORTED}(i.code)){const o=r.g_.shift();hr(r).Go(),await dT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await nc(r)}}(t,e),pT(t)&&mT(t)}async function Yv(t,e){const n=q(t);n.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=Zr(n);n.y_.add(3),await _a(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.y_.delete(3),await tc(n)}async function rV(t,e){const n=q(t);e?(n.y_.delete(2),await tc(n)):e||(n.y_.add(2),await _a(n),n.b_.set("Unknown"))}function vo(t){return t.v_||(t.v_=function(n,r,i){const o=q(n);return o.P_(),new zO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{_o:GO.bind(null,t),uo:QO.bind(null,t),r_:XO.bind(null,t)}),t.w_.push(async e=>{e?(t.v_.Go(),Kp(t)?qp(t):t.b_.set("Unknown")):(await t.v_.stop(),fT(t))})),t.v_}function hr(t){return t.C_||(t.C_=function(n,r,i){const o=q(n);return o.P_(),new WO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{_o:ZO.bind(null,t),uo:nV.bind(null,t),c_:eV.bind(null,t),u_:tV.bind(null,t)}),t.w_.push(async e=>{e?(t.C_.Go(),await nc(t)):(await t.C_.stop(),t.g_.length>0&&(M("RemoteStore",`Stopping write stream with ${t.g_.length} pending writes`),t.g_=[]))})),t.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Gp(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(t,e){if(kn("AsyncQueue",`${e}: ${t}`),ma(t))return new V(x.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.comparator=e?(n,r)=>e(n,r)||F.comparator(n.key,r.key):(n,r)=>F.comparator(n.key,r.key),this.keyedMap=Bo(),this.sortedSet=new we(this.comparator)}static emptySet(e){return new $i(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $i;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.F_=new we(F.comparator)}track(e){const n=e.doc.key,r=this.F_.get(n);r?e.type!==0&&r.type===3?this.F_=this.F_.insert(n,e):e.type===3&&r.type!==1?this.F_=this.F_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.F_=this.F_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.F_=this.F_.remove(n):e.type===1&&r.type===2?this.F_=this.F_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.F_=this.F_.insert(n,{type:2,doc:e.doc}):B():this.F_=this.F_.insert(n,e)}M_(){const e=[];return this.F_.inorderTraversal((n,r)=>{e.push(r)}),e}}class eo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new eo(e,n,$i.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.x_=void 0,this.listeners=[]}}class oV{constructor(){this.queries=new go(e=>M1(e),Qu),this.onlineState="Unknown",this.O_=new Set}}async function gT(t,e){const n=q(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new iV),i)try{o.x_=await n.onListen(r)}catch(s){const a=Qp(s,`Initialization of query '${$f(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.N_(n.onlineState),o.x_&&e.B_(o.x_)&&Xp(n)}async function vT(t,e){const n=q(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function sV(t,e){const n=q(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.B_(i)&&(r=!0);s.x_=i}}r&&Xp(n)}function aV(t,e,n){const r=q(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Xp(t){t.O_.forEach(e=>{e.next()})}class yT{constructor(e,n,r){this.query=e,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}B_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),n=!0):this.K_(e,this.onlineState)&&(this.U_(e),n=!0),this.q_=e,n}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),n=!0),n}K_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.W_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Q_(e){if(e.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.key=e}}class ET{constructor(e){this.key=e}}class lV{constructor(e,n){this.query=e,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=K(),this.mutatedKeys=K(),this.na=L1(e),this.ra=new $i(this.na)}get ia(){return this.X_}sa(e,n){const r=n?n.oa:new Jv,i=n?n.ra:this.ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=Xu(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?_!==E&&(r.track({type:3,doc:p}),w=!0):this._a(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.na(p,l)>0||u&&this.na(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(p?(s=s.add(p),o=E?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ra:s,oa:r,zi:a,mutatedKeys:o}}_a(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const o=e.oa.M_();o.sort((u,c)=>function(f,p){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return _(f)-_(p)}(u.type,c.type)||this.na(u.doc,c.doc)),this.aa(r);const s=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,o.length!==0||l?{snapshot:new eo(this.query,e.ra,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ca:s}:{ca:s}}N_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new Jv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=K(),this.ra.forEach(r=>{this.la(r.key)&&(this.ta=this.ta.add(r.key))});const n=[];return e.forEach(r=>{this.ta.has(r)||n.push(new ET(r))}),this.ta.forEach(r=>{e.has(r)||n.push(new _T(r))}),n}ha(e){this.X_=e.ss,this.ta=K();const n=this.sa(e.documents);return this.applyChanges(n,!0)}Pa(){return eo.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class uV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cV{constructor(e){this.key=e,this.Ia=!1}}class hV{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ta={},this.Ea=new go(a=>M1(a),Qu),this.da=new Map,this.Aa=new Set,this.Ra=new we(F.comparator),this.Va=new Map,this.ma=new Up,this.fa={},this.ga=new Map,this.pa=Zi.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function fV(t,e){const n=TV(t);let r,i;const o=n.Ea.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Pa();else{const s=await MO(n.localStore,Nn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await dV(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&uT(n.remoteStore,s)}return i}async function dV(t,e,n,r,i){t.wa=(h,f,p)=>async function(E,w,g,d){let v=w.view.sa(g);v.zi&&(v=await Gv(E.localStore,w.query,!1).then(({documents:C})=>w.view.sa(C,v)));const T=d&&d.targetChanges.get(w.targetId),I=w.view.applyChanges(v,E.isPrimaryClient,T);return ey(E,w.targetId,I.ca),I.snapshot}(t,h,f,p);const o=await Gv(t.localStore,e,!0),s=new lV(e,o.ss),a=s.sa(o.documents),l=ya.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);ey(t,n,u.ca);const c=new uV(e,n,s);return t.Ea.set(e,c),t.da.has(n)?t.da.get(n).push(e):t.da.set(n,[e]),u.snapshot}async function pV(t,e){const n=q(t),r=n.Ea.get(e),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter(o=>!Qu(o,e))),void n.Ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),cT(n.remoteStore,r.targetId),Bf(n,r.targetId)}).catch(pa)):(Bf(n,r.targetId),await bf(n.localStore,r.targetId,!0))}async function mV(t,e,n){const r=IV(t);try{const i=await function(s,a){const l=q(s),u=Me.now(),c=a.reduce((p,_)=>p.add(_.key),K());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=Dn(),E=K();return l.Xi.getEntries(p,c).next(w=>{_=w,_.forEach((g,d)=>{d.isValidDocument()||(E=E.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(w=>{h=w;const g=[];for(const d of a){const v=UD(d,h.get(d.key).overlayedDocument);v!=null&&g.push(new Jr(d.key,v,R1(v.value.mapValue),Tn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,g,a)}).next(w=>{f=w;const g=w.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(p,w.batchId,g)})}).then(()=>({batchId:f.batchId,changes:F1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.fa[s.currentUser.toKey()];u||(u=new we(Z)),u=u.insert(a,l),s.fa[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ea(r,i.changes),await nc(r.remoteStore)}catch(i){const o=Qp(i,"Failed to persist write");n.reject(o)}}async function wT(t,e){const n=q(t);try{const r=await OO(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Va.get(o);s&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ia=!0:i.modifiedDocuments.size>0?pe(s.Ia):i.removedDocuments.size>0&&(pe(s.Ia),s.Ia=!1))}),await Ea(n,r,e)}catch(r){await pa(r)}}function Zv(t,e,n){const r=q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ea.forEach((o,s)=>{const a=s.view.N_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=q(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.listeners)f.N_(a)&&(u=!0)}),u&&Xp(l)}(r.eventManager,e),i.length&&r.Ta.r_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gV(t,e,n){const r=q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Va.get(e),o=i&&i.key;if(o){let s=new we(F.comparator);s=s.insert(o,tt.newNoDocument(o,z.min()));const a=K().add(o),l=new Zu(z.min(),new Map,new we(Z),s,a);await wT(r,l),r.Ra=r.Ra.remove(o),r.Va.delete(e),Yp(r)}else await bf(r.localStore,e,!1).then(()=>Bf(r,e,n)).catch(pa)}async function vV(t,e){const n=q(t),r=e.batch.batchId;try{const i=await DO(n.localStore,e);IT(n,r,null),TT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ea(n,i)}catch(i){await pa(i)}}async function yV(t,e,n){const r=q(t);try{const i=await function(s,a){const l=q(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(pe(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);IT(r,e,n),TT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ea(r,i)}catch(i){await pa(i)}}function TT(t,e){(t.ga.get(e)||[]).forEach(n=>{n.resolve()}),t.ga.delete(e)}function IT(t,e,n){const r=q(t);let i=r.fa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.fa[r.currentUser.toKey()]=i}}function Bf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.da.get(e))t.Ea.delete(r),n&&t.Ta.Sa(r,n);t.da.delete(e),t.isPrimaryClient&&t.ma.Ar(e).forEach(r=>{t.ma.containsKey(r)||CT(t,r)})}function CT(t,e){t.Aa.delete(e.path.canonicalString());const n=t.Ra.get(e);n!==null&&(cT(t.remoteStore,n),t.Ra=t.Ra.remove(e),t.Va.delete(n),Yp(t))}function ey(t,e,n){for(const r of n)r instanceof _T?(t.ma.addReference(r.key,e),_V(t,r)):r instanceof ET?(M("SyncEngine","Document no longer in limbo: "+r.key),t.ma.removeReference(r.key,e),t.ma.containsKey(r.key)||CT(t,r.key)):B()}function _V(t,e){const n=e.key,r=n.path.canonicalString();t.Ra.get(n)||t.Aa.has(r)||(M("SyncEngine","New document in limbo: "+n),t.Aa.add(r),Yp(t))}function Yp(t){for(;t.Aa.size>0&&t.Ra.size<t.maxConcurrentLimboResolutions;){const e=t.Aa.values().next().value;t.Aa.delete(e);const n=new F(fe.fromString(e)),r=t.pa.next();t.Va.set(r,new cV(n)),t.Ra=t.Ra.insert(n,r),uT(t.remoteStore,new Kn(Nn(Mp(n.path)),r,"TargetPurposeLimboResolution",kp.ae))}}async function Ea(t,e,n){const r=q(t),i=[],o=[],s=[];r.Ea.isEmpty()||(r.Ea.forEach((a,l)=>{s.push(r.wa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Wp.qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Ta.r_(i),await async function(l,u){const c=q(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>P.forEach(u,f=>P.forEach(f.Li,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>P.forEach(f.ki,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!ma(h))throw h;M("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.Ji.get(f),_=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(_);c.Ji=c.Ji.insert(f,E)}}}(r.localStore,o))}async function EV(t,e){const n=q(t);if(!n.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=await oT(n.localStore,e);n.currentUser=e,function(o,s){o.ga.forEach(a=>{a.forEach(l=>{l.reject(new V(x.CANCELLED,s))})}),o.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ea(n,r.ts)}}function wV(t,e){const n=q(t),r=n.Va.get(e);if(r&&r.Ia)return K().add(r.key);{let i=K();const o=n.da.get(e);if(!o)return i;for(const s of o){const a=n.Ea.get(s);i=i.unionWith(a.view.ia)}return i}}function TV(t){const e=q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gV.bind(null,e),e.Ta.r_=sV.bind(null,e.eventManager),e.Ta.Sa=aV.bind(null,e.eventManager),e}function IV(t){const e=q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yV.bind(null,e),e}class ty{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ec(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return NO(this.persistence,new PO,e.initialUser,this.serializer)}createPersistence(e){return new RO(zp.zr,this.serializer)}createSharedClientState(e){return new jO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EV.bind(null,this.syncEngine),await rV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oV}()}createDatastore(e){const n=ec(e.databaseInfo.databaseId),r=function(o){return new UO(o)}(e.databaseInfo);return function(o,s,a,l){return new HO(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new KO(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Zv(this.syncEngine,n,0),function(){return Xv.v()?new Xv:new FO}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new hV(i,o,s,a,l,u);return c&&(h.ya=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=q(n);M("RemoteStore","RemoteStore shutting down."),r.y_.add(5),await _a(r),r.S_.shutdown(),r.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=C1.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{M("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ih(t,e){t.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ny(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RV(t);M("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Yv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Yv(e.remoteStore,o)),t._onlineComponents=e}function xV(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function RV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{await ih(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!xV(n))throw n;Qi("Error using user provided cache. Falling back to memory cache: "+n),await ih(t,new ty)}}else M("FirestoreClient","Using default OfflineComponentProvider"),await ih(t,new ty);return t._offlineComponents}async function xT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),await ny(t,t._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),await ny(t,new CV))),t._onlineComponents}function AV(t){return xT(t).then(e=>e.syncEngine)}async function RT(t){const e=await xT(t),n=e.eventManager;return n.onListen=fV.bind(null,e.syncEngine),n.onUnlisten=pV.bind(null,e.syncEngine),n}function PV(t,e,n={}){const r=new wn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new ST({next:f=>{s.enqueueAndForget(()=>vT(o,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new V(x.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new V(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new yT(Mp(a.path),c,{includeMetadataChanges:!0,W_:!0});return gT(o,h)}(await RT(t),t.asyncQueue,e,n,r)),r.promise}function kV(t,e,n={}){const r=new wn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new ST({next:f=>{s.enqueueAndForget(()=>vT(o,h)),f.fromCache&&l.source==="server"?u.reject(new V(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new yT(a,c,{includeMetadataChanges:!0,W_:!0});return gT(o,h)}(await RT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e,n){if(!n)throw new V(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NV(t,e,n,r){if(e===!0&&r===!0)throw new V(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iy(t){if(!F.isDocumentKey(t))throw new V(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oy(t){if(F.isDocumentKey(t))throw new V(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":B()}function to(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rc(t);throw new V(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ic{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Z2;switch(r.type){case"firstParty":return new rD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ry.get(n);r&&(M("ComponentProvider","Removing Datastore"),ry.delete(n),r.terminate())}(this),Promise.resolve()}}function DV(t,e,n,r={}){var i;const o=(t=to(t,ic))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ze.MOCK_USER;else{a=Dk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new V(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ze(u)}t._authCredentials=new eD(new I1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class It{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}}class or extends yo{constructor(e,n,r){super(e,n,Mp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new F(e))}withConverter(e){return new or(this.firestore,e,this._path)}}function au(t,e,...n){if(t=Ki(t),PT("collection","path",e),t instanceof ic){const r=fe.fromString(e,...n);return oy(r),new or(t,null,r)}{if(!(t instanceof It||t instanceof or))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return oy(r),new or(t.firestore,null,r)}}function kT(t,e,...n){if(t=Ki(t),arguments.length===1&&(e=C1.V()),PT("doc","path",e),t instanceof ic){const r=fe.fromString(e,...n);return iy(r),new It(t,null,new F(r))}{if(!(t instanceof It||t instanceof or))throw new V(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return iy(r),new It(t.firestore,t instanceof or?t.converter:null,new F(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new aT(this,"async_queue_retry"),this.Xa=()=>{const n=rh();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const e=rh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const n=rh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise(()=>{});const n=new wn;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ga.push(e),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!ma(e))throw e;M("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(e){const n=this.Wa.then(()=>(this.Ja=!0,e().catch(r=>{this.Ha=r,this.Ja=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ja=!1,r))));return this.Wa=n,n}enqueueAfterDelay(e,n,r){this.eu(),this.Za.indexOf(e)>-1&&(n=0);const i=Gp.createAndSchedule(this,e,n,r,o=>this.ru(o));return this.ja.push(i),i}eu(){this.Ha&&B()}verifyOperationInProgress(){}async iu(){let e;do e=this.Wa,await e;while(e!==this.Wa)}su(e){for(const n of this.ja)if(n.timerId===e)return!0;return!1}ou(e){return this.iu().then(()=>{this.ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.iu()})}_u(e){this.Za.push(e)}ru(e){const n=this.ja.indexOf(e);this.ja.splice(n,1)}}class oc extends ic{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new OV}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||NT(this),this._firestoreClient.terminate()}}function VV(t,e){const n=typeof t=="object"?t:MN(),r=typeof t=="string"?t:e||"(default)",i=DN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=kk("firestore");o&&DV(i,...o)}return i}function Jp(t){return t._firestoreClient||NT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function NT(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new mD(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,AT(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new SV(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this._byteString=e}static fromBase64String(e){try{return new no(at.fromBase64String(e))}catch(n){throw new V(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new no(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=/^__.*__$/;class MV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new va(e,this.data,n,this.fieldTransforms)}}function DT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class nm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.au(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.Pu(e),i}Iu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.cu({path:r,hu:!1});return i.au(),i}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return lu(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(e.length===0)throw this.Eu("Document fields must not be empty");if(DT(this.uu)&&$V.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class LV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ec(e)}Ru(e,n,r,i=!1){return new nm({uu:e,methodName:n,Au:r,path:nt.emptyPath(),hu:!1,du:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OT(t){const e=t._freezeSettings(),n=ec(t._databaseId);return new LV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jV(t,e,n,r,i,o={}){const s=t.Ru(o.merge||o.mergeFields?2:0,e,n,i);MT("Data must be an object, but it was:",s,r);const a=VT(r,s);let l,u;if(o.merge)l=new Ht(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const f=bV(e,h,n);if(!s.contains(f))throw new V(x.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);UV(c,f)||c.push(f)}l=new Ht(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new MV(new Dt(a),l,u)}class rm extends em{_toFieldTransform(e){return new jD(e.path,new Hs)}isEqual(e){return e instanceof rm}}function FV(t,e,n,r=!1){return im(n,t.Ru(r?4:3,e))}function im(t,e){if($T(t=Ki(t)))return MT("Unsupported field value:",e,t),VT(t,e);if(t instanceof em)return function(r,i){if(!DT(i.uu))throw i.Eu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Eu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.hu&&e.uu!==4)throw e.Eu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=im(a,i.Tu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ki(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $D(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Me.fromDate(r);return{timestampValue:ou(i.serializer,o)}}if(r instanceof Me){const o=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ou(i.serializer,o)}}if(r instanceof tm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof no)return{bytesValue:Z1(i.serializer,r._byteString)};if(r instanceof It){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Eu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Bp(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Eu(`Unsupported field value: ${rc(r)}`)}(t,e)}function VT(t,e){const n={};return S1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(t,(r,i)=>{const o=im(i,e.lu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function $T(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof tm||t instanceof no||t instanceof It||t instanceof em)}function MT(t,e,n){if(!$T(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=rc(n);throw r==="an object"?e.Eu(t+" a custom object"):e.Eu(t+" "+r)}}function bV(t,e,n){if((e=Ki(e))instanceof Zp)return e._internalPath;if(typeof e=="string")return LT(t,e);throw lu("Field path arguments must be of type string or ",t,!1,void 0,n)}const BV=new RegExp("[~\\*/\\[\\]]");function LT(t,e,n){if(e.search(BV)>=0)throw lu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zp(...e.split("."))._internalPath}catch{throw lu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new V(x.INVALID_ARGUMENT,a+t+l)}function UV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(om("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zV extends jT{data(){return super.data()}}function om(t,e){return typeof e=="string"?LT(t,e):e instanceof Zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sm{}class HV extends sm{}function qV(t,e,...n){let r=[];e instanceof sm&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof am).length,a=o.filter(l=>l instanceof sc).length;if(s>1||s>0&&a>0)throw new V(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sc extends HV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sc(e,n,r)}_apply(e){const n=this._parse(e);return FT(e._query,n),new yo(e.firestore,e.converter,Of(e._query,n))}_parse(e){const n=OT(e.firestore);return function(o,s,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new V(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){ly(h,c);const p=[];for(const _ of h)p.push(ay(l,o,_));f={arrayValue:{values:p}}}else f=ay(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||ly(h,c),f=FV(a,s,h,c==="in"||c==="not-in");return Ne.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function KV(t,e,n){const r=e,i=om("where",t);return sc._create(i,r,n)}class am extends sm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new am(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)FT(s,l),s=Of(s,l)}(e._query,n),new yo(e.firestore,e.converter,Of(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ay(t,e,n){if(typeof(n=Ki(n))=="string"){if(n==="")throw new V(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$1(e)&&n.indexOf("/")!==-1)throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fe.fromString(n));if(!F.isDocumentKey(r))throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nv(t,new F(r))}if(n instanceof It)return Nv(t,n._key);throw new V(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rc(n)}.`)}function ly(t,e){if(!Array.isArray(t)||t.length===0)throw new V(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FT(t,e){if(e.isInequality()){const r=Lp(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new V(x.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=V1(t);o!==null&&GV(t,i,o)}const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new V(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function GV(t,e,n){if(!n.isEqual(e))throw new V(x.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class QV{convertValue(e,n="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new tm(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Us(e));default:return null}}convertTimestamp(e){const n=cr(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);pe(iT(r));const i=new zs(r.get(1),r.get(3)),o=new F(r.popFirst(5));return i.isEqual(n)||kn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bT extends jT{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pl extends bT{data(e={}){return super.data(e)}}class YV{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pl(this._firestore,this._userDataWriter,r.key,r,new zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new pl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new pl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:JV(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){t=to(t,It);const e=to(t.firestore,oc);return PV(Jp(e),t._key).then(n=>r$(e,t,n))}class BT extends QV{constructor(e){super(),this.firestore=e}convertBytes(e){return new no(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function e$(t){t=to(t,yo);const e=to(t.firestore,oc),n=Jp(e),r=new BT(e);return WV(t._query),kV(n,t._query).then(i=>new YV(e,r,t,i))}function t$(t,e){const n=to(t.firestore,oc),r=kT(t),i=XV(t.converter,e);return n$(n,[jV(OT(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Tn.exists(!1))]).then(()=>r)}function n$(t,e){return function(r,i){const o=new wn;return r.asyncQueue.enqueueAndForget(async()=>mV(await AV(r),i,o)),o.promise}(Jp(t),e)}function r$(t,e,n){const r=n.docs.get(e._key),i=new BT(t);return new bT(t,i,e._key,r,new zo(n.hasPendingWrites,n.fromCache),e.converter)}function i$(){return new rm("serverTimestamp")}(function(e,n=!0){(function(i){po=i})($N),Gl(new Ns("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new oc(new tD(r.getProvider("auth-internal")),new oD(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new V(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zs(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ni(xv,"4.1.0",e),Ni(xv,"4.1.0","esm2017")})();var o$="firebase",s$="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(o$,s$,"app");const a$={apiKey:"AIzaSyA2j0niRLU-e70YgOjmJ1HF_liZ1wdCo3o",authDomain:"bb-mobiles.firebaseapp.com",projectId:"bb-mobiles",storageBucket:"bb-mobiles.appspot.com",messagingSenderId:"401696190272",appId:"1:401696190272:web:f6091aebd4a9344798d4a5"},l$=yw(a$),uu=VV(l$),uy=({props:t})=>{const[e,n]=m.useState([]),{categoriaId:r}=D0();return m.useEffect(()=>{const i=r?qV(au(uu,"productos"),KV("categoria","==",r)):au(uu,"productos");e$(i).then(o=>{const s=o.docs.map(a=>({id:a.id,...a.data()}));n(s)}).catch(o=>console.log(o))},[r]),y.jsxs("div",{className:"div-itemlistcontainer",children:[y.jsxs("h2",{className:"title",children:[t," ",r&&r]}),y.jsx(Ek,{productos:e})]})},u$=({stock:t,onAdd:e,initial:n})=>{const[r,i]=m.useState(n),o=()=>{r<t&&i(r+1)},s=()=>{r>0&&i(r-1)};return y.jsxs("div",{className:"count-container",children:[y.jsxs("div",{className:"count",children:[y.jsx("button",{className:"btn btn-primary mt-2",onClick:s,children:"-"}),y.jsx("span",{className:"btn",children:r}),y.jsx("button",{className:"btn btn-primary mt-2",onClick:o,children:"+"})]}),y.jsx("button",{className:"btn btn-primary mt-2",disabled:r===0,onClick:()=>e(r),children:"Comprar"})]})},c$=({producto:t})=>{const[e,n]=m.useState(""),{addItem:r}=m.useContext(ao),i=o=>{n(o),r(t,o)};return y.jsxs("div",{className:"item-detail",children:[y.jsxs("h2",{className:"item-title",children:["Detalles de: ",t.nombre," ",t.modelo]}),y.jsxs("div",{className:"item-detail-prod",children:[y.jsx("img",{className:"item-img",src:t.imagen,alt:t.modelo}),y.jsx("p",{className:"item-description",children:t.descripcion}),y.jsxs("h3",{className:"item-precio",children:["Precio: ",t.precioreal]}),e===""?y.jsx(u$,{className:"item-count",initial:1,stock:t.stock,onAdd:i}):y.jsx(xs,{to:"/cart",className:"btn btn-primary mt-2",children:"Ir al carrito"})]})]})},h$=()=>{const[t,e]=m.useState({}),{id:n}=D0();return m.useEffect(()=>{const r=au(uu,"productos"),i=kT(r,n);ZV(i).then(o=>e({id:o.id,...o.data()})).catch(o=>console.log(o))},[]),y.jsx("div",{children:y.jsx(c$,{producto:t})})},f$=()=>y.jsxs("div",{className:"footer",children:[y.jsxs("ul",{className:"list-footer",children:[y.jsx("li",{className:"item-img",children:y.jsx("img",{src:"../imagenes/fb2.png",alt:"facebook"})}),y.jsx("li",{className:"item-img",children:y.jsx("img",{src:"../imagenes/ig.png",alt:"instagram"})}),y.jsx("li",{className:"item-img",children:y.jsx("img",{src:"../imagenes/tw.png",alt:"twitter"})}),y.jsx("li",{className:"item-img",children:y.jsx("img",{src:"../imagenes/yt.png",alt:"youtube"})})]}),y.jsx("p",{children:"©2023"})]}),d$=({item:t})=>{const{deleteItem:e}=m.useContext(ao);return y.jsxs("div",{className:"container-cart",children:[y.jsx("img",{src:t.imagen,alt:t.nombre}),y.jsxs("h2",{className:"item-name",children:[t.nombre," ",t.modelo]}),y.jsxs("h3",{className:"item-precio",children:["Precio: ",t.precioreal]}),y.jsxs("h3",{className:"item-cantidad",children:["Cantidad: ",t.quantity]}),y.jsxs("h4",{className:"item-sub",children:["Subtotal: $",t.quantity*t.precio]}),y.jsx("button",{className:"btn-eliminar",onClick:()=>e(t.id),children:" Eliminar "})]})},p$=()=>{const{cart:t,clear:e,total:n}=m.useContext(ao);return y.jsx("div",{className:"contenedor-carrito",children:t.length?y.jsxs("div",{className:"contenedor-carritodet",children:[t.map(r=>y.jsx(d$,{item:r},r.id)),y.jsxs("p",{className:"total-compra",children:["Total de la compra: $",n()]}),y.jsxs("div",{className:"btn-final",children:[y.jsx("button",{className:"vaciar",onClick:e,children:"Vaciar Carrito"}),y.jsx(xs,{to:"/checkout",className:"comprar",children:"Finalizar la compra"})]})]}):y.jsxs("div",{className:"container--carrito",children:[y.jsx("h2",{className:"title-page",children:"Tu carrito está vacío"}),y.jsx(xs,{to:"/",className:"boton",children:"Ir a la tienda"})]})})},m$=()=>{const[t,e]=m.useState({}),[n,r]=m.useState(""),[i,o]=m.useState(""),{cart:s,total:a,clear:l}=m.useContext(ao),u=h=>{e({...t,[h.target.name]:h.target.value})},c=h=>{if(h.preventDefault(),!t.name&&!t.number)alert("Complete los campos solicitados");else{let f={user:t,item:s,total:a(),date:i$()};const p=au(uu,"ordenes");t$(p,f).then(_=>{o(_.id),l()}).catch(_=>console.log(_))}};return y.jsx("div",{children:i!==""?y.jsxs("div",{children:[y.jsx("p",{children:"La compra fue realizada con éxito!"}),y.jsxs("p",{children:["Su numero de compra es: ",i]})]}):y.jsxs("div",{className:"section-form",children:[y.jsx("h2",{children:"Finaliza tu compra, rellene los datos a continuación"}),y.jsxs("form",{onSubmit:c,className:"formulario",children:[y.jsxs("div",{className:"formulario-det",children:[y.jsx("label",{className:"label-name",children:"Nombre: "}),y.jsx("input",{className:"input-name",onChange:u,type:"text",placeholder:"Ingrese su nombre",name:"name",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"label-subname",children:"Apellido: "}),y.jsx("input",{className:"input-subname",onChange:u,type:"text",placeholder:"Ingrese su apellido",name:"subname",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"label-number",children:"Número: "}),y.jsx("input",{className:"input-number",onChange:u,type:"phone",placeholder:"Ingrese su número",name:"number",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"label-direc",children:"Domicilio: "}),y.jsx("input",{className:"input-direc",onChange:u,type:"text",placeholder:"Ingrese su domicilio",name:"direc",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"label-email",children:"Email: "}),y.jsx("input",{className:"input-direc",onChange:u,type:"email",placeholder:"Ingrese su email",name:"email"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"label-email",children:"Repita su email: "}),y.jsx("input",{className:"input-direc",type:"email",placeholder:"Repita su email",name:"email",onChange:h=>r(h.target.value)})]}),y.jsx("button",{className:"btn-enviar",type:"submit",disabled:n!==t.email,children:"Enviar"})]})]})})};function g$(){return y.jsx(y.Fragment,{children:y.jsxs(qx,{children:[y.jsxs(ux,{children:[y.jsx(yk,{}),y.jsxs(rx,{children:[y.jsx(Ln,{exact:!0,path:"/",element:y.jsx(uy,{props:"Bienvenidos a B&B Mobiles"})}),y.jsx(Ln,{path:"conocenos",element:y.jsx(dx,{})}),y.jsx(Ln,{path:"categorias/:categoriaId",element:y.jsx(uy,{})}),y.jsx(Ln,{path:"registrarse",element:y.jsx(Hx,{})}),y.jsx(Ln,{path:"/item/:id",element:y.jsx(h$,{})}),y.jsx(Ln,{path:"/cart",element:y.jsx(p$,{})}),y.jsx(Ln,{path:"/checkout",element:y.jsx(m$,{})})]})]}),y.jsx(f$,{})]})})}oh.createRoot(document.getElementById("root")).render(y.jsx(He.StrictMode,{children:y.jsx(g$,{})}));
